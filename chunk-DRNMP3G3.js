import{a as N}from"./chunk-7SMWX3HN.js";import{Ea as O,ab as K,ba as I,ga as A,ha as U,qa as E}from"./chunk-RDWS3ZUY.js";import{A as v,C}from"./chunk-VGJJ4SUB.js";import"./chunk-NU2CE2PW.js";import{d as h}from"./chunk-DBWXYH2V.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import{q as R}from"./chunk-Y2JJNTGM.js";import{Bb as g,Kb as l,Lb as d,Mb as D,Nb as M,Ob as F,Tb as p,db as P,dc as w,ea as y,fc as L,ia as u,mc as b,qb as f,r as B,xc as S,ya as c,yc as T}from"./chunk-I6HS2BDL.js";import{a as r,b as s}from"./chunk-5KTCK5IS.js";var m=class{id;name;room_id;hours;price;constructor(t){this.id=t?.id||null,this.name=t?.name||null,this.room_id=t?.room_id||null,this.hours=t?.hours||null,this.price=t?.price||null}};var k=class o extends U{#e=y(I);#t=y(K).getGlobalEntityList("room");ngOnInit(){this.dialogMeta=s(r({},this.dialogMeta),{dialogData$:this.#t,endpoints:{store:"packages/store",update:"packages/update"}}),this.editData?(this.dialogMeta=s(r({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Packages"),submitButtonLabel:this.translate.instant("Update Packages")}),this.model=new m(r({room_id:this.editData.room.id},this.editData))):(this.dialogMeta=s(r({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Packages"),submitButtonLabel:this.translate.instant("Create Packages")}),this.model=new m),this.fields=this.configureFields()}configureFields(){return[this.#e.fieldBuilder([{key:"name",type:"floated-input-field",props:{required:!0,label:"name"}},{key:"room_id",type:"select-field",props:{isFloatedLabel:!0,label:"Room",options:this.#t.pipe(B(t=>t.map(a=>({label:a.name,value:a.id}))))}},{key:"hours",type:"floated-input-field",props:{type:"number",required:!0,label:"hours"}}]),this.#e.fieldBuilder([{key:"price",type:"floated-input-field",className:"md:col-4 col-12",props:{type:"number",required:!0,label:"price of hour"}}])]}static \u0275fac=(()=>{let t;return function(e){return(t||(t=c(o)))(e||o)}})();static \u0275cmp=u({type:o,selectors:[["app-packages-dialog"]],standalone:!0,features:[f,b],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(a,e){a&1&&(l(0,"app-form",0),S(1,"async"),p("onSubmit",function(){return e.createUpdateRecord(e.dialogMeta.endpoints)}),M(2,1),l(3,"div",2)(4,"h2",3),w(5),d(),l(6,"button",4),p("click",function(){return e.closeDialog()}),d()(),F(),d()),a&2&&(g("form",e.createUpdateForm)("model",e.model)("fields",e.fields)("options",e.options)("showSubmitButton",e.dialogMeta.showSubmitButton)("buttonLabel",e.dialogMeta.submitButtonLabel)("isFiledsLoaded",T(1,9,e.dialogMeta.dialogData$))("submitBtnLoading",e.isLoading()),P(5),L(" ",e.dialogMeta.dialogTitle," "))},dependencies:[R,h,C,v,A],encapsulation:2,changeDetection:0})};var _=class o extends E{ngOnInit(){this.clearCachingLists.set(["list-entity"]),this.dialogComponent=k,this.indexMeta=s(r({},this.indexMeta),{displayDeleteButton:this.currentUser()?.role==="technical-support",resourse:"offer-packages",endpoints:{index:"packages/index",delete:"packages/delete"},provideFields:["name"],indexTitle:"Packages",indexIcon:"fa-solid fa-building",createBtnLabel:"Create Packages",indexTableKey:"PACKAGES_KEY",columns:[{title:this.#e("#ID"),name:"id",searchable:!1,orderable:!0},{title:this.#e("Room Name"),name:"room.name",searchable:!0,orderable:!1},{title:this.#e("Hours"),name:"hours",searchable:!1,orderable:!1},{title:this.#e("Price"),name:"price",searchable:!1,orderable:!1},{title:this.#e("Created At"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}),this.initializePermissions()}#e(t){return this.translate.instant(t)}static \u0275fac=(()=>{let t;return function(e){return(t||(t=c(o)))(e||o)}})();static \u0275cmp=u({type:o,selectors:[["app-packages"]],standalone:!0,features:[f,b],decls:3,vars:22,consts:[["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","createBtnPermission","deleteBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withAdditionalContent"],["moreActions",""],["type","offer-package"]],template:function(a,e){if(a&1&&(l(0,"app-table-wrapper",0),p("createBtnClicked",function(){return e.openCreateRecordDialog()})("updateBtnClicked",function(n){return e.openUpdateRecordDialog(n)})("deleteBtnClicked",function(n){return e.deleteRecord(n)})("onLoadData",function(n){return e.loadRecords(n)}),l(1,"div",1),D(2,"app-links-offers",2),d()()),a&2){let i,n;g("headerTitle",e.indexMeta.indexTitle)("titleIcon",e.indexMeta.indexIcon)("headerBtnLabel",e.indexMeta.createBtnLabel)("displayCreateButton",e.indexMeta.displayCreateButton)("columns",e.indexMeta.columns)("dataSource",e.records())("loading",e.isLoading())("totalRecords",e.totalRecords())("recordsFiltered",e.recordsFiltered())("stateKey",e.indexMeta.indexTableKey)("rows",e.rows())("indexPermission",e.permissions().index)("updateBtnPermission",e.permissions().update)("createBtnPermission",e.permissions().create)("deleteBtnPermission",e.permissions().delete)("withActionsColumn",e.indexMeta.withAction)("displayUpdateButton",e.indexMeta.displayUpdateButton)("displayDeleteButton",e.indexMeta.displayDeleteButton)("globalFilterValue",e.globalFilterValue)("reorderableColumns",(i=e.indexMeta.reorderableColumns)!==null&&i!==void 0?i:!1)("reorderableRows",(n=e.indexMeta.reorderableRows)!==null&&n!==void 0?n:!1)("withAdditionalContent",!0)}},dependencies:[O,N,C,h],encapsulation:2,changeDetection:0})};export{_ as default};
