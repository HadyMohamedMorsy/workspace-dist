import{A as N,D as T,F as k,Ga as H,H as E,Ha as J,M as R,ca as V,da as q,ja as z,ka as I,lb as Q,oa as P,qa as j,ua as K,w,x as L}from"./chunk-H45ZYL4L.js";import{A as O,C as A,D as U,E as $}from"./chunk-LBHIXMIT.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import"./chunk-AHOHCUBB.js";import{Ba as F,Bb as s,Gb as _,Kb as r,Lb as l,M as b,Mb as a,Qb as x,Tb as M,Ub as d,W as h,db as o,dc as B,ea as n,fc as D,ia as y,mc as G,nb as p,ua as C,va as S,wb as v,xc as u,yc as c}from"./chunk-PLVIENQC.js";import{a as m}from"./chunk-5KTCK5IS.js";function X(t,i){if(t&1){let e=x();r(0,"h2",1),a(1,"i",2),B(2),u(3,"translate"),l(),a(4,"p-divider"),r(5,"form",3),M("ngSubmit",function(){C(e);let W=d();return S(W.update())}),r(6,"div"),a(7,"formly-form",4),l(),r(8,"div",5),a(9,"button",6),u(10,"translate"),l()()}if(t&2){let e=d();o(2),D(" ",c(3,7,"General Settings")," "),o(3),s("formGroup",e.generalSettingsForm),o(2),s("model",e.model)("fields",e.fields)("form",e.generalSettingsForm),o(2),s("loading",e.submitBtnLoading())("label",c(10,9,"update"))}}function Y(t,i){t&1&&a(0,"app-spinner")}var g=class t{#e=n(P);#t=n(I);#i=n(z);#n=n(F);#o=n(Q);generalSettingsForm=new L({});fields;model={};loadingScreen=p(!0);submitBtnLoading=p(!1);type="store";ngOnInit(){return this.#t.getListData("general-settings/index","POST",{},"general-settings/index").pipe(h(i=>{i?.length&&(this.type="update"),i?.length&&(this.model=m(m({},this.model),i[0])),this.loadingScreen.set(!1),this.fields=this.configureFields()})).subscribe()}configureFields(){return[this.#e.fieldBuilder([{key:"price_shared",type:"floated-input-field",className:"col-12 md:col-3",props:{type:"number",label:"hour price shared",required:!0}},{key:"price_deskarea",type:"floated-input-field",className:"col-12 md:col-3",props:{type:"number",label:"hour price deskarea",required:!0}}])]}update(){this.generalSettingsForm.invalid||(this.submitBtnLoading.set(!0),this.#i.request("post",`general-settings/${this.type}`,this.model).pipe(b(()=>this.submitBtnLoading.set(!1)),j(this.#n)).subscribe(()=>{this.#o.deleteCacheKey("general-settings/index")}))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=y({type:t,selectors:[["app-general-setting"]],standalone:!0,features:[G],decls:3,vars:1,consts:[["styleClass","border-bottom-3 border-primary"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-3"],[1,"fas","fa-edit","text-base"],[3,"ngSubmit","formGroup"],[3,"model","fields","form"],[1,"pt-3","border-top-1","border-300","flex","justify-content-end"],["pButton","","pRipple","","type","submit",1,"capitalize","text-base","p-button-sm","p-button-success","w-13rem","bg-primary-color","border-none","shadow-none",3,"loading","label"]],template:function(e,f){e&1&&(r(0,"p-card",0),v(1,X,11,11)(2,Y,1,0,"app-spinner"),l()),e&2&&(o(),_(f.loadingScreen()?2:1))},dependencies:[J,H,q,V,R,E,K,k,N,w,T,A,O,$,U],encapsulation:2,changeDetection:0})};export{g as default};
