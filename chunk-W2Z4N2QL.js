import{D as pe,Ea as ye,N as de,O as ue,R as ce,S as fe,ab as be,ba as V,bb as Re,ga as ge,ha as he,n as oe,o as ne,qa as Ce,r as ae,u as re,v as le,w as se,y as me}from"./chunk-B2YRLTHG.js";import{A as _e,C as P}from"./chunk-VGJJ4SUB.js";import"./chunk-NU2CE2PW.js";import{c as N,d as B}from"./chunk-DBWXYH2V.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import{q as ee,t as te,w as ie}from"./chunk-Y2JJNTGM.js";import{Bb as c,C as $,Cc as h,Gb as D,Kb as n,Lb as a,Mb as K,Nb as j,Ob as W,Qb as k,Tb as v,Ub as d,W as G,Xb as z,ac as w,bc as H,db as l,dc as s,ea as y,fc as f,hc as Y,ia as b,ic as J,jc as X,kc as Z,mc as F,nb as M,ob as R,pb as q,qb as E,ua as _,va as g,wb as S,xc as u,ya as I,yc as x,zc as L}from"./chunk-I6HS2BDL.js";import{a as p,b as C}from"./chunk-5KTCK5IS.js";var A=class i{#e=y(V);filtersData=q();model={};form=new ne({});options={};fields=[this.#e.fieldBuilder([{key:"customFilters.start_date",type:"date-field",className:"md:col-3 col-12",props:{format:"YYYY-MM-DD",label:"start date"},hooks:{onInit:o=>o.formControl?.valueChanges.pipe($(e=>!!e),G(()=>{this.filtersData.update(e=>p(p({},e),this.model))}))}},{key:"customFilters.end_date",type:"date-field",className:"md:col-3 col-12",props:{format:"YYYY-MM-DD",label:"end date"},hooks:{onInit:o=>o.formControl?.valueChanges.pipe($(e=>!!e),G(()=>{this.filtersData.update(e=>p(p({},e),this.model))}))}}])];static \u0275fac=function(e){return new(e||i)};static \u0275cmp=b({type:i,selectors:[["app-filter-rooms"]],inputs:{filtersData:[1,"filtersData"]},outputs:{filtersData:"filtersDataChange"},standalone:!0,features:[F],decls:5,vars:8,consts:[[1,"text-base","capitalize","font-medium","mb-3"],[3,"formGroup"],[3,"model","fields","form","options"]],template:function(e,t){e&1&&(n(0,"h1",0),s(1),u(2,"translate"),a(),n(3,"form",1),K(4,"formly-form",2),a()),e&2&&(l(),f(" ",x(2,6,"Filters Rooms")," : "),l(2),c("formGroup",t.form),l(),c("model",t.model)("fields",t.fields)("form",t.form)("options",t.options))},dependencies:[pe,me,se,ae,oe,re,B,N],encapsulation:2,changeDetection:0})};var O=class{id;note;constructor(o){this.id=o.id||null,this.note=o.note||null}};var U=class i extends he{#e=y(be).getGlobalEntityList("categories");#i=y(V);#t=y(Re);dialogCategoryRef;isSingleUploading=M(!1);configDialog={showHeader:!1,width:"800px",height:"100%",modal:!0,focusOnShow:!1,styleClass:"m-0 max-h-full transform-none",position:this.#t.currentLanguage()==="en"?"right":"left",rtl:this.#t.currentLanguage()!=="en",closable:!0,closeOnEscape:!0,dismissableMask:!1};ngOnInit(){this.clearCachingLists.set(["individual/index","company/index","studentActivity/index","user/index","assign-general-offer/individual","assign-general-offer/company","assign-general-offer/studentActivity","assignes-membership/individual","assignes-membership/company","assignes-membership/studentActivity"]),this.dialogMeta=C(p({},this.dialogMeta),{dialogData$:this.#e,endpoints:{update:"reservation-room/update-note"}}),this.editData&&(this.dialogMeta=C(p({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Reservation Room Note"),submitButtonLabel:this.translate.instant("Update Reservation Room Note")}),this.model=new O(this.editData)),this.#o()}#o(){this.fields=this.configureFields()}configureFields(){return[this.#i.fieldBuilder([{key:"note",type:"textarea-field",props:{label:"note",placeholder:"note"}}])]}static \u0275fac=(()=>{let o;return function(t){return(o||(o=I(i)))(t||i)}})();static \u0275cmp=b({type:i,selectors:[["app-room-dialog"]],standalone:!0,features:[E,F],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(e,t){e&1&&(n(0,"app-form",0),u(1,"async"),v("onSubmit",function(){return t.createUpdateRecord(t.dialogMeta.endpoints)}),j(2,1),n(3,"div",2)(4,"h2",3),s(5),a(),n(6,"button",4),v("click",function(){return t.closeDialog()}),a()(),W(),a()),e&2&&(c("form",t.createUpdateForm)("model",t.model)("fields",t.fields)("options",t.options)("showSubmitButton",t.dialogMeta.showSubmitButton)("buttonLabel",t.dialogMeta.submitButtonLabel)("isFiledsLoaded",x(1,9,t.dialogMeta.dialogData$))("submitBtnLoading",t.isLoading()),l(5),f(" ",t.dialogMeta.dialogTitle," "))},dependencies:[ee,B,P,_e,ge],encapsulation:2,changeDetection:0})};var Fe=["start"],xe=["end"],Be=["fullDay"],Te=["note"],Me=["customerName"];function Se(i,o){if(i&1){let e=k();n(0,"div",7)(1,"p-dropdown",8),u(2,"translate"),v("onChange",function(r){_(e);let m=d();return g(m.filter(r,"status"))}),a()()}if(i&2){let e=d();l(),z("placeholder",x(2,3,"Select status Task")),c("options",e.filterStatusList())("filter",!0)}}function Le(i,o){if(i&1&&(n(0,"span"),s(1),a()),i&2){let e=d().$implicit;l(),f(" ",e.individual.name,"")}}function Ie(i,o){if(i&1&&(n(0,"span"),s(1),a()),i&2){let e=d().$implicit;l(),f(" ",e.company.name,"")}}function Ee(i,o){if(i&1&&(n(0,"span"),s(1),a()),i&2){let e=d().$implicit;l(),f(" ",e.studentActivity.name,"")}}function ke(i,o){if(i&1&&S(0,Le,2,1,"span")(1,Ie,2,1,"span")(2,Ee,2,1,"span"),i&2){let e=o.$implicit;D(e.individual?0:-1),l(),D(e.company?1:-1),l(),D(e.studentActivity?2:-1)}}function Ne(i,o){if(i&1&&(n(0,"span"),s(1),u(2,"number"),u(3,"number"),a()),i&2){let e=d().$implicit;l(),Y(" ",L(2,3,e.start_hour,"2.0-0")," : ",L(3,6,e.start_minute,"2.0-0")," : ",e.start_time,"")}}function Ve(i,o){i&1&&s(0," \u2014\u2014 ")}function Pe(i,o){if(i&1&&S(0,Ne,4,9,"span")(1,Ve,1,0),i&2){let e=o.$implicit;D(e.status!=="cancelled"?0:1)}}function Ae(i,o){if(i&1&&(n(0,"span"),s(1),u(2,"number"),u(3,"number"),a()),i&2){let e=d().$implicit;l(),Y(" ",L(2,3,e.end_hour,"2.0-0")," : ",L(3,6,e.end_minute,"2.0-0")," : ",e.end_time,"")}}function Oe(i,o){i&1&&s(0," \u2014\u2014 ")}function Ue(i,o){if(i&1&&S(0,Ae,4,9,"span")(1,Oe,1,0),i&2){let e=o.$implicit;D(e.status!=="cancelled"?0:1)}}function $e(i,o){if(i&1&&(n(0,"span",9),s(1),a()),i&2){let e=o.$implicit;c("pTooltip",e.note),l(),f(" ",e.note," ")}}function Ge(i,o){if(i&1){let e=k();n(0,"app-filter-rooms",10),Z("filtersDataChange",function(r){_(e);let m=d();return X(m.filtersData,r)||(m.filtersData=r),g(r)}),a()}if(i&2){let e=d();J("filtersData",e.filtersData)}}var Q=class i extends Ce{start=R.required("start");end=R.required("end");fullDay=R.required("fullDay");note=R.required("note");customerName=R.required("customerName");statusList=M([{label:"active",value:"active"},{label:"cancelled",value:"cancelled"},{label:"complete",value:"complete"}]);filterStatusList=M([{label:"all",value:null},...this.statusList()]);filter(o,e){this.filtersData.update(t=>C(p({},t),{customFilters:o.value?{[e]:o.value}:null}))}ngOnInit(){this.dialogComponent=U,this.indexMeta=C(p({},this.indexMeta),{resourse:"settings-Room",endpoints:{index:"reservation-room/all-rooms"},provideFields:["note","start_hour","start_minute","start_time","end_hour","end_minute","end_time"],indexTitle:"Rooms",displayCreateButton:!1,displayDeleteButton:!1,indexIcon:"fa-solid fa-building",indexTableKey:"ROOMS_KEY",columns:[{name:"id",title:this.#e("#ID"),searchable:!1,orderable:!1},{name:"status",title:this.#e("status"),searchable:!1,orderable:!1},{title:this.#e("selected day"),name:"selected_day",searchable:!1,orderable:!0},{title:this.#e("Customer Name"),name:"individual.name",searchable:!0,orderable:!1,render:this.customerName()},{name:null,title:this.#e("start Time"),searchable:!1,orderable:!1,render:this.start()},{name:null,title:this.#e("end Time"),searchable:!1,orderable:!1,render:this.end()},{title:this.#e("Total Paied"),name:"total_price",searchable:!1,orderable:!1},{title:this.#e("Offer discount type"),name:"assignGeneralOffer.generalOffer.type_discount",searchable:!1,orderable:!1},{title:this.#e("Offer discount"),name:"assignGeneralOffer.generalOffer.discount",searchable:!1,orderable:!1},{name:"total_time",title:this.#e("total time"),searchable:!1,orderable:!1},{title:this.#e("Note"),name:"note",searchable:!1,orderable:!1,render:this.note()},{title:this.#e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:this.#e("Created At"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}),this.initializePermissions()}#e(o){return this.translate.instant(o)}static \u0275fac=(()=>{let o;return function(t){return(o||(o=I(i)))(t||i)}})();static \u0275cmp=b({type:i,selectors:[["app-rooms"]],viewQuery:function(e,t){e&1&&(w(t.start,Fe,5),w(t.end,xe,5),w(t.fullDay,Be,5),w(t.note,Te,5),w(t.customerName,Me,5)),e&2&&H(5)},standalone:!0,features:[E,F],decls:13,vars:21,consts:[["additionalContentTemplate",""],["customerName",""],["start",""],["end",""],["note",""],["customFiltersTemplate",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withAdditionalContent"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["tooltipPosition","top",1,"line-clamp-1","white-space-nowrap","max-w-10rem",3,"pTooltip"],[3,"filtersDataChange","filtersData"]],template:function(e,t){if(e&1){let r=k();n(0,"app-table-wrapper",6),v("createBtnClicked",function(){return _(r),g(t.openCreateRecordDialog())})("updateBtnClicked",function(T){return _(r),g(t.openUpdateRecordDialog(T))})("deleteBtnClicked",function(T){return _(r),g(t.deleteRecord(T))})("onLoadData",function(T){return _(r),g(t.loadRecords(T))}),S(1,Se,3,5,"ng-template",null,0,h)(3,ke,3,3,"ng-template",null,1,h)(5,Pe,2,1,"ng-template",null,2,h)(7,Ue,2,1,"ng-template",null,3,h)(9,$e,2,2,"ng-template",null,4,h)(11,Ge,1,1,"ng-template",null,5,h),a()}if(e&2){let r,m;c("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("updateBtnPermission",t.permissions().update)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(r=t.indexMeta.reorderableColumns)!==null&&r!==void 0?r:!1)("reorderableRows",(m=t.indexMeta.reorderableRows)!==null&&m!==void 0?m:!1)("withCustomFilters",!0)("withAdditionalContent",!0)}},dependencies:[ye,fe,ce,ue,de,A,le,ie,te,P,B,N],encapsulation:2,changeDetection:0})};export{Q as default};
