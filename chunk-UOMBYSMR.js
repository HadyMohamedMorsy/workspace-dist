import{S as _,ab as E,ba as S,ga as w,ha as v,ia as U}from"./chunk-B2YRLTHG.js";import{A as L,C as P}from"./chunk-VGJJ4SUB.js";import{d as F}from"./chunk-DBWXYH2V.js";import{q as M}from"./chunk-Y2JJNTGM.js";import{Bb as c,Kb as l,Lb as d,Nb as b,Ob as k,Tb as m,db as f,dc as T,ea as r,fc as y,ia as p,mc as D,qb as h,r as u,xc as B,ya as g,yc as C}from"./chunk-I6HS2BDL.js";import{a as n,b as o}from"./chunk-5KTCK5IS.js";var a=class{id;user_id;name;note;constructor(t){this.id=t?.id||null,this.user_id=t?.user_id||null,this.name=t?.name||null,this.note=t?.note||null}};var A=class s extends v{#t=r(S);#i=r(E).getGlobalEntityList("user");#e=r(U);ngOnInit(){this.dialogMeta=o(n({},this.dialogMeta),{dialogData$:this.#i,showSubmitButton:this.#e.hasPermission("tasks","update"),endpoints:{store:"task/store",update:"task/update"}}),this.editData?(this.dialogMeta=o(n({},this.dialogMeta),{dialogTitle:this.translate.instant("update Task"),submitButtonLabel:this.translate.instant("update Task")}),this.model=new a(o(n({},this.editData),{user_id:this.editData.user.id}))):(this.dialogMeta=o(n({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Task"),submitButtonLabel:this.translate.instant("Create Task")}),this.model=new a),this.fields=this.configureFields()}configureFields(){return[this.#t.fieldBuilder([{key:"name",type:"floated-input-field",hide:!this.#e.hasPermission("tasks","update"),props:{required:!0,label:"Name Task"}},{key:"user_id",type:"select-field",hide:!this.#e.hasPermission("tasks","update"),props:{required:!0,isFloatedLabel:!0,label:"Users",options:this.#i.pipe(u(t=>t.map(i=>({label:i.firstName+" "+i.lastName,value:i.id}))))}}]),this.#t.fieldBuilder([{key:"note",type:"textarea-field",props:{disabled:!this.#e.hasPermission("tasks","update"),required:!0,label:"note",placeholder:"note"}}])]}static \u0275fac=(()=>{let t;return function(e){return(t||(t=g(s)))(e||s)}})();static \u0275cmp=p({type:s,selectors:[["app-assign-package"]],standalone:!0,features:[h,D],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(i,e){i&1&&(l(0,"app-form",0),B(1,"async"),m("onSubmit",function(){return e.createUpdateRecord(e.dialogMeta.endpoints)}),b(2,1),l(3,"div",2)(4,"h2",3),T(5),d(),l(6,"button",4),m("click",function(){return e.closeDialog()}),d()(),k(),d()),i&2&&(c("form",e.createUpdateForm)("model",e.model)("fields",e.fields)("options",e.options)("showSubmitButton",e.dialogMeta.showSubmitButton)("buttonLabel",e.dialogMeta.submitButtonLabel)("isFiledsLoaded",C(1,9,e.dialogMeta.dialogData$))("submitBtnLoading",e.isLoading()),f(5),y(" ",e.dialogMeta.dialogTitle," "))},dependencies:[M,F,_,P,L,w],encapsulation:2,changeDetection:0})};export{A as a};
