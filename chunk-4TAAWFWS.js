import{$ as j,E as Q,Ea as U,Sa as $,W as X,X as Z,_ as z,ca as H,da as I,db as se,fa as he,ga as ge,ia as ye,ja as be,ka as ve,na as ze,nb as me,ob as De,pa as E,ra as je,ua as Ye,v as N,va as Je,xa as pe,z as W}from"./chunk-AA67JPLF.js";import{A as O,B as He,C as A}from"./chunk-LBHIXMIT.js";import{q as Qe,s as Me}from"./chunk-AHOHCUBB.js";import{Bb as b,Cc as w,Gb as V,Hb as $e,Ia as g,Ib as qe,Jb as Ke,Kb as p,Lb as m,Nb as Ge,Ob as Ne,Qb as R,Tb as C,Tc as te,U as Se,Ub as r,W as ae,Xb as Y,_ as xe,ac as T,bc as L,db as x,dc as u,ea as k,fc as y,hc as J,ia as S,ic as q,jc as K,kc as G,l as Oe,lc as We,mc as M,nb as B,ob as D,qb as P,r as ne,s as Ue,ua as l,va as d,wb as v,xc as f,ya as F,yc as h}from"./chunk-PLVIENQC.js";import{a as c,b as _}from"./chunk-5KTCK5IS.js";var Te=class{id;selected_day;customer_id;room_id;offer_id;deal_id;package_id;type_user;start_hour;start_minute;start_time;end_hour;end_minute;end_time;price;note;constructor(e){this.id=e?.id||null,this.selected_day=e?.selected_day||new Date,this.customer_id=e?.customer_id||null,this.room_id=e?.room_id||null,this.offer_id=e?.offer_id||null,this.deal_id=e?.deal_id||null,this.package_id=e?.package_id||null,this.type_user=e?.type_user||"individual",this.start_hour=e?.start_hour||null,this.start_minute=e?.start_minute??0,this.start_time=e?.start_time||"pm",this.end_hour=e?.end_hour||null,this.end_minute=e?.end_minute??0,this.end_time=e?.end_time||null,this.price=e?.price||null,this.note=e?.note||null}};var le=class n extends Je{#e=k(De);#t=k(ze);#i=Oe(1);#a=this.#e.getGlobalEntityList("room");priceRoom=B(0);offerPrice=B(0);typeOffer=B("amount");ngOnInit(){this.clearCachingLists.set(["reservation-room/individual","reservation-room/company","reservation-room/studentActivity","reservation-room/packages/individual","reservation-room/packages/company","reservation-room/packages/studentActivity","reservation-room/deals/individual","reservation-room/deals/company","reservation-room/deals/studentActivity"]),this.editData.endpointListOffers&&(this.#i=this.#e.getGlobalEntityList(this.editData.endpointListOffers)),this.dialogMeta=_(c({},this.dialogMeta),{dialogData$:Ue([this.#i,this.#a]),endpoints:{store:this.editData.endpointStore,update:"reservation-room/update"},dialogTitle:this.translate.instant("Reservation Room"),submitButtonLabel:this.translate.instant("Reservation Room")}),this.model=new Te(this.editData),this.fields=this.configureFields()}configureFields(){return[this.#t.fieldBuilder([{key:"selected_day",type:"date-field",className:"col-12 md:col-6",props:{disabled:this.editData?.method==="update",required:!0,format:"YYYY-MM-DD",hourFormat:"24",label:"Selected Day"}}]),this.#t.fieldBuilder([{key:"start_hour",type:"select-field",props:{disabled:this.editData?.method==="update",isFloatedLabel:!0,required:!0,label:"Start Hour",placeholder:"Start Hour",options:Array.from({length:13},(e,i)=>({label:`${i}`,value:i})).slice(1)},hooks:{onInit:e=>e.formControl?.valueChanges.pipe(ae(()=>{let i=e.parent?.parent?.fieldGroup?.[3].get?.("price");this.#n(i)}))}},{key:"start_minute",type:"select-field",props:{disabled:this.editData?.method==="update",isFloatedLabel:!0,required:!0,label:"Start Min",placeholder:"Start Min",options:Array.from({length:61},(e,i)=>({label:i.toString(),value:i}))},hooks:{onInit:e=>e.formControl?.valueChanges.pipe(ae(()=>{let i=e.parent?.parent?.fieldGroup?.[3].get?.("price");this.#n(i)}))}},{key:"start_time",type:"select-field",props:{disabled:this.editData?.method==="update",isFloatedLabel:!0,required:!0,label:"start time",placeholder:"start time",options:[{label:"PM",value:"pm"},{label:"AM",value:"am"}]},hooks:{onInit:e=>e.formControl?.valueChanges.pipe(ae(()=>{let i=e.parent?.parent?.fieldGroup?.[3].get?.("price");this.#n(i)}))}}]),this.#t.fieldBuilder([{key:"end_hour",type:"select-field",props:{disabled:this.editData?.method==="update",isFloatedLabel:!0,required:!0,label:"End Hour",placeholder:"End Hour",options:Array.from({length:13},(e,i)=>({label:`${i}`,value:i})).slice(1)},hooks:{onInit:e=>e.formControl?.valueChanges.pipe(ae(()=>{let i=e.parent?.parent?.fieldGroup?.[3].get?.("price");this.#n(i)}))}},{key:"end_minute",type:"select-field",props:{disabled:this.editData?.method==="update",isFloatedLabel:!0,required:!0,label:"End Min",placeholder:"End Min",options:Array.from({length:61},(e,i)=>({label:i.toString(),value:i}))},hooks:{onInit:e=>e.formControl?.valueChanges.pipe(ae(()=>{let i=e.parent?.parent?.fieldGroup?.[3].get?.("price");this.#n(i)}))}},{key:"end_time",type:"select-field",props:{disabled:this.editData?.method==="update",isFloatedLabel:!0,required:!0,label:"End time",placeholder:"End time",options:[{label:"PM",value:"pm"},{label:"AM",value:"am"}]},hooks:{onInit:e=>e.formControl?.valueChanges.pipe(ae(()=>{let i=e.parent?.parent?.fieldGroup?.[3].get?.("price");this.#n(i)}))}}]),this.#t.fieldBuilder([{key:"offer_id",type:"select-field",hide:!!this.editData?.package_id||!!this.editData?.deal_id,props:{disabled:this.editData?.method==="update",isFloatedLabel:!0,label:"Global Offer",placeholder:"Global Offer",options:this.#i.pipe(ne(e=>e.map(i=>({label:i.name,value:i.id}))))},hooks:{onInit:e=>e.formControl?.valueChanges.pipe(Se(i=>this.#i.pipe(ne(t=>t.find(a=>a.id===i)),ae(t=>{let a=t.type_discount,o=t.discount;this.typeOffer.set(a),this.offerPrice.set(o);let s=e?.parent?.get?.("price");this.#n(s)}))))}},{key:"room_id",type:"select-field",className:"col-12 md:col-4",hide:!!this.editData?.package_id||!!this.editData?.deal_id,props:{disabled:this.editData?.method==="update",required:!0,isFloatedLabel:!0,label:"Room",placeholder:"Room",options:this.#a.pipe(ne(e=>e.map(i=>({label:i.name,value:i.id}))))},hooks:{onInit:e=>e?.formControl?.valueChanges.pipe(Se(i=>{let t=e?.parent?.get?.("price");return this.#a.pipe(ne(a=>a.find(o=>o.id===i)),ae(a=>{this.priceRoom.set(a.price),this.#n(t),e.props&&(e.props.description=`Capacity This Room Is ${a.capacity}`)}))}))}},{key:"price",type:"floated-input-field",hide:!!this.editData?.package_id||!!this.editData?.deal_id,props:{disabled:!0,type:"number",required:!0,label:"Total Price"}},{key:"note",className:"col-12",type:"textarea-field",props:{label:"note",placeholder:"note"}}])]}#o(e,i,t){if(!e)return;let a=new Date,o=e;return t==="pm"&&e<12&&(o+=12),t==="am"&&e===12&&(o=0),a.setHours(o,i??0,0,0),a}#n(e){let{start_hour:i,start_minute:t,start_time:a,end_hour:o,end_minute:s,room_id:ee,end_time:Re}=this.model;if(!Re||!a||!i||!o||!ee)return;let Pe=this.#o(i??0,t??0,a),Ie=this.#o(o??0,s??0,Re);if(!Pe||!Ie)return;let ot=Math.abs(Ie.getTime()-Pe.getTime()),Ae=Math.floor(ot/(1e3*60)),Ee=Math.floor(Ae/60),rt=Ae%60,Le=this.priceRoom()*(rt>10?Ee+1:Ee),st=this.typeOffer()==="amount"?this.offerPrice():Le*(this.offerPrice()/100);e?.formControl?.setValue(Le-st)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-room-reservation-dialog"]],standalone:!0,features:[P,M],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(i,t){i&1&&(p(0,"app-form",0),f(1,"async"),C("onSubmit",function(){return t.createUpdateRecord(t.dialogMeta.endpoints)}),Ge(2,1),p(3,"div",2)(4,"h2",3),u(5),m(),p(6,"button",4),C("click",function(){return t.closeDialog()}),m()(),Ne(),m()),i&2&&(b("form",t.createUpdateForm)("model",t.model)("fields",t.fields)("options",t.options)("showSubmitButton",t.dialogMeta.showSubmitButton)("buttonLabel",t.dialogMeta.submitButtonLabel)("isFiledsLoaded",h(1,9,t.dialogMeta.dialogData$))("submitBtnLoading",t.isLoading()),x(5),y(" ",t.dialogMeta.dialogTitle," "))},dependencies:[Qe,I,A,O,Ye],encapsulation:2,changeDetection:0})};function lt(n,e){if(n&1&&u(0),n&2){let i=r().$implicit;y(" ",i.value," ")}}function dt(n,e){n&1&&u(0," \u2014\u2014 ")}function pt(n,e){if(n&1&&(p(0,"li",6)(1,"span",7),u(2),m(),p(3,"span",8),v(4,lt,1,1)(5,dt,1,0),m()()),n&2){let i=e.$implicit;x(2),y(" ",i.label,""),x(2),V(i.value?4:5)}}var ke=class n{dialogRef=k(ge);dialogConfig=k(he);data=this.dialogConfig.data;closeDialog(e){this.dialogRef.close(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=S({type:n,selectors:[["app-view-assigness-details"]],standalone:!0,features:[M],decls:9,vars:1,consts:[[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[1,"p-3"],[1,"info"],[1,"m-0","list-none","flex","flex-column","gap-3"],[1,"flex","justify-content-between","align-items-center"],[1,"capitalize"],[1,"font-bold","capitalize"]],template:function(i,t){i&1&&(p(0,"div",0)(1,"h2",1),u(2),m(),p(3,"button",2),C("click",function(){return t.closeDialog()}),m()(),p(4,"div",3)(5,"div",4)(6,"ul",5),qe(7,pt,6,2,"li",6,$e),m()()()),i&2&&(x(2),y(" ",t.data.title," "),x(5),Ke(t.data.items))},dependencies:[A,O],styles:[".info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:15px;border-radius:var(--border-radius);background-color:var(--gray-100);border:1px solid var(--surface-300);margin-bottom:0!important}"],changeDetection:0})};var mt=["viewReservation"];function ct(n,e){if(n&1){let i=R();p(0,"p-button",2),C("onClick",function(){let a=l(i).$implicit,o=r();return d(o.viewReservationDialog(a))}),m()}if(n&2){let i=r();b("disabled",i.key()==="user_id")("link",!0)}}var Xe=class n extends U{id=g.required({transform:te});endpoint=g.required();keyState=g.required();resourse=g.required();key=g.required();datePipe=k(Me);viewReservation=D.required("viewReservation");ngOnInit(){this.clearCachingLists.set(["individual/index","company/index","studentActivity/index"]),this.indexMeta=_(c({},this.indexMeta),{displayCreateButton:!1,withAction:!1,resourse:this.resourse(),endpoints:{index:`assign-general-offer/${this.endpoint()}`},indexTitle:"General Offers",indexIcon:"fa-solid fa-building",indexTableKey:`${this.keyState()}_GENERAL_OFFERS_KEY`,columns:[{name:"id",title:this.#e("#ID"),searchable:!1,orderable:!1},{name:null,title:this.#e("reservation"),searchable:!1,orderable:!1,render:this.viewReservation()},{name:"generalOffer.name",title:this.#e("name offer"),searchable:!1,orderable:!1},{name:"generalOffer.start_date",title:this.#e("start date"),searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy"}},{name:"generalOffer.end_date",title:this.#e("end date"),searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy"}},{name:"generalOffer.type_discount",title:this.#e("type discount"),searchable:!1,orderable:!1},{name:"generalOffer.discount",title:this.#e("discount"),searchable:!1,orderable:!1},{title:this.#e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:this.#e("Created At"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}),this.initializePermissions(),this.filtersData.update(e=>_(c({},e),{[this.key()]:this.id()}))}viewReservationDialog(e){let i=null;e.shared?.length&&(i={title:"View Reservation Shared",items:[{label:"selected day",value:this.datePipe.transform(e.shared[0].selected_day,"M/d/yyyy")},{label:"start hour",value:e.shared[0].start_hour},{label:"start minute",value:e.shared[0].start_minute},{label:"start time",value:e.shared[0].start_time},{label:"end hour",value:e.shared[0].end_hour},{label:"end minute",value:e.shared[0].end_minute},{label:"end time",value:e.shared[0].end_time},{label:"status",value:e.shared[0].status},{label:"total price",value:e.shared[0].total_price}]}),e.deskarea?.length&&(i={title:"View Reservation Deskarea",items:[{label:"selected day",value:this.datePipe.transform(e.deskarea[0].selected_day,"M/d/yyyy")},{label:"start hour",value:e.deskarea[0].start_hour},{label:"start minute",value:e.deskarea[0].start_minute},{label:"start time",value:e.deskarea[0].start_time},{label:"end hour",value:e.deskarea[0].end_hour},{label:"end minute",value:e.deskarea[0].end_minute},{label:"end time",value:e.deskarea[0].end_time},{label:"status",value:e.deskarea[0].status},{label:"total price",value:e.deskarea[0].total_price}]});let t=_(c({},this.dialogConfig),{width:"700px",data:i});this.dialogRef=this.dialogService.open(ke,t),this.dialogRef.onClose.pipe(E(this.destroyRef)).subscribe()}#e(e){return this.translate.instant(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-related-assigness-general-offers"]],viewQuery:function(i,t){i&1&&T(t.viewReservation,mt,5),i&2&&L()},inputs:{id:[1,"id"],endpoint:[1,"endpoint"],keyState:[1,"keyState"],resourse:[1,"resourse"],key:[1,"key"]},standalone:!0,features:[We([Me]),P,M],decls:3,vars:20,consts:[["viewReservation",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withTableFilters"],["label","reservation",3,"onClick","disabled","link"]],template:function(i,t){if(i&1){let a=R();p(0,"app-table-wrapper",1),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(1,ct,1,2,"ng-template",null,0,w),m()}if(i&2){let a,o;b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withCustomFilters",!0)("withTableFilters",!1)}},dependencies:[$,A,He,I],encapsulation:2,changeDetection:0})};var ce=class n{getUserType(e){return["individual","company","studentActivity"].find(t=>e[t])||""}getFinalPrice(e){let i=this.calculateTotalPrice(e),t=this.getDiffHours(e);return t?t*i:i}getDiffHours(e){let i=be(e.start_hour,e.start_minute,e.start_time),t=be(e.end_hour,e.end_minute,e.end_time);return ve(i,t)}configDialog(e){return _(c({},e.dialogConfig),{width:"1050px",data:_(c({method:e.method||"update"},e.model),{type_user:e.type_user,customer_id:e.customer_id,customerKey:e.customerKey,offer_id:e.offer_id,package_id:e.package_id,room_id:e.room_id,deal_id:e.deal_id,packageKey:e.packageKey,typePackage:e.typePackage,endpointStore:e.endpointStore,endpointListOffers:e.endpointListOffers})})}calculateTotalPrice(e){return e.assignGeneralOffer?20-e.assignGeneralOffer.generalOffer.discount:20}static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})};var ut=["start"],_t=["status"],ft=["end"];function ht(n,e){if(n&1){let i=R();p(0,"div",9)(1,"p-dropdown",10),f(2,"translate"),C("onChange",function(a){l(i);let o=r();return d(o.filter(a,"status"))}),m()()}if(n&2){let i=r();x(),Y("placeholder",h(2,3,"Select status Task")),b("options",i.filterStatusList())("filter",!0)}}function gt(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.start_hour," : ",i.start_minute," : ",i.start_time,"")}}function Ct(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.end_hour," : ",i.end_minute," : ",i.end_time,"")}}function yt(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"complete")," ")}function bt(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function wt(n,e){if(n&1){let i=R();p(0,"p-dropdown",12),G("ngModelChange",function(a){l(i);let o=r().$implicit;return K(o.status,a)||(o.status=a),d(a)}),C("onChange",function(a){l(i);let o=r().$implicit,s=r();return d(s.changeStatus(o.id,a))}),m()}if(n&2){let i=r().$implicit,t=r();b("options",t.statusList()),q("ngModel",i.status)}}function Rt(n,e){if(n&1&&v(0,yt,2,3)(1,bt,2,3)(2,wt,1,2,"p-dropdown",11),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}function xt(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"is completed")," ")}function vt(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function Dt(n,e){if(n&1){let i=R();p(0,"button",14),f(1,"translate"),C("click",function(){l(i);let a=r().$implicit,o=r();return d(o.closeReservation(a))}),m()}n&2&&b("pTooltip",h(1,1,"Close Reservation"))}function Tt(n,e){if(n&1&&v(0,xt,2,3)(1,vt,2,3)(2,Dt,2,3,"button",13),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}var we=class n extends U{#e=k(he);#t=k(ge);#i;roomsService=k(ce);dataDialog=this.#e.data;statusList=B(me);resource=ye;start=D.required("start");status=D.required("status");end=D.required("end");filterStatusList=B([{label:"all",value:null},...this.statusList()]);filter(e,i){this.filtersData.update(t=>_(c({},t),{customFilters:e.value?{[i]:e.value}:null}))}ngOnInit(){this.initializeComponent()}initializeComponent(){this.initializeIndexMeta(),this.initializePermissions(),this.updateFiltersData()}initializeIndexMeta(){this.dialogComponent=le,this.indexMeta=_(c({},this.indexMeta),{displayCreateButton:!1,provideFields:["note","start_hour","start_minute","start_time","end_hour","end_minute","end_time"],resourse:this.resource.ReservationRoom,createBtnLabel:this.translateText("New Reservation Room"),endpoints:{index:`reservation-room/${this.dataDialog?.typePackage}/${this.dataDialog?.type_user}`},indexTitle:"Rooms",indexIcon:"fa-solid fa-building",indexTableKey:"RESERVATION_ROOMS_KEY",columns:this.getTableColumns()})}getTableColumns(){let e=i=>this.translateText(i);return[{name:"id",title:e("#ID"),searchable:!1,orderable:!1},{name:"status",title:e("status"),searchable:!1,orderable:!1,render:this.status()},{title:e("selected day"),name:"selected_day",searchable:!1,orderable:!0},{name:null,title:e("start Time"),searchable:!1,orderable:!1,render:this.start()},{name:null,title:e("end Time"),searchable:!1,orderable:!1,render:this.end()},{name:"total_time",title:e("total time"),searchable:!1,orderable:!1},{title:e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:e("Created At"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}updateFiltersData(){this.filtersData.update(e=>_(c({},e),{[this.dataDialog?.customerKey]:this.dataDialog?.customer_id,[this.dataDialog?.packageKey]:this.dataDialog?.package_id}))}changeStatus(e,i){this.confirmService.confirmDelete({acceptCallback:()=>{this.api.request("post","reservation-room/update",{status:i.value,id:e,[this.dataDialog?.packageKey]:this.dataDialog?.package_id}).subscribe(()=>{this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists()),i.value==="cancelled"&&this.closeDialog({cancelled:!0})})},rejectCallback:()=>{this.records.update(t=>t.map(a=>a.id===e?_(c({},a),{status:"active"}):a))}})}closeReservation(e){let i=this.getDialogConfig(e);this.#i=this.dialogService.open(le,i),this.#i?.onClose.pipe(E(this.destroyRef)).subscribe(t=>{t&&(this.updateRecords(t),this.clearCache())})}getDialogConfig(e){let i={method:"update",dialogConfig:this.dialogConfig,model:e,type_user:this.dataDialog?.type_user,customer_id:e[this.dataDialog?.type_user].id,[this.dataDialog?.packageKey]:this.dataDialog?.package_id,endpointStore:`reservation-room/store/${this.dataDialog?.typePackage}`,endpointUpdate:"reservation-room/update"};return this.roomsService.configDialog(i)}clearCache(){this.cacheFilters.deleteCacheKey(`${this.indexMeta.endpoints.index}-${JSON.stringify(this.filtersData())}`),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())}translateText(e){return this.translate.instant(e)}closeDialog(e){this.#t?.close(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-related-rooms-by-packages-or-deals"]],viewQuery:function(i,t){i&1&&(T(t.start,ut,5),T(t.status,_t,5),T(t.end,ft,5)),i&2&&L(3)},standalone:!0,features:[P,M],decls:14,vars:22,consts:[["additionalContentTemplate",""],["start",""],["end",""],["status",""],["actionsTemplate",""],[1,"flex","align-items-center","justify-content-end","w-full","p-3","bg-white"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[1,"px-3"],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withAdditionalContent","withTableFilters"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"options","ngModel"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"ngModelChange","onChange","options","ngModel"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"pTooltip"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","pTooltip"]],template:function(i,t){if(i&1){let a=R();p(0,"div",5)(1,"button",6),C("click",function(){return l(a),d(t.closeDialog())}),m()(),p(2,"div",7)(3,"app-table-wrapper",8),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(4,ht,3,5,"ng-template",null,0,w)(6,gt,2,3,"ng-template",null,1,w)(8,Ct,2,3,"ng-template",null,2,w)(10,Rt,3,1,"ng-template",null,3,w)(12,Tt,3,1,"ng-template",null,4,w),m()()}if(i&2){let a,o;x(3),b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("updateBtnPermission",t.permissions().update)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withCustomFilters",!0)("withAdditionalContent",!0)("withTableFilters",!1)}},dependencies:[$,j,z,Z,X,Q,N,W,A,O,I,H],encapsulation:2,changeDetection:0})};var kt=["status"],Vt=["reservations"];function Bt(n,e){if(n&1){let i=R();p(0,"div",5)(1,"p-dropdown",6),f(2,"translate"),C("onChange",function(a){l(i);let o=r();return d(o.filter(a,"status"))}),m()()}if(n&2){let i=r();x(),Y("placeholder",h(2,3,"Select status Task")),b("options",i.filterStatusList())("filter",!0)}}function St(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"complete")," ")}function Mt(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function Ft(n,e){if(n&1){let i=R();p(0,"p-dropdown",8),G("ngModelChange",function(a){l(i);let o=r().$implicit;return K(o.status,a)||(o.status=a),d(a)}),C("onChange",function(a){l(i);let o=r().$implicit,s=r();return d(s.changeStatus(o,a))}),m()}if(n&2){let i=r().$implicit,t=r();b("options",t.statusList()),q("ngModel",i.status),b("disabled",t.key()==="user_id")}}function Pt(n,e){if(n&1&&v(0,St,2,3)(1,Mt,2,3)(2,Ft,1,3,"p-dropdown",7),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}function It(n,e){if(n&1){let i=R();p(0,"button",9),C("click",function(){let a=l(i).$implicit,o=r();return d(o.viewReservations(a))}),p(1,"span",10),u(2),f(3,"translate"),m()()}if(n&2){let i=e.$implicit,t=r();b("disabled",t.key()==="user_id"),x(2),y(" ",h(3,2,i.packages.name),"")}}function At(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"is completed")," ")}function Et(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function Lt(n,e){if(n&1){let i=R();p(0,"button",12),f(1,"translate"),C("click",function(){l(i);let a=r(2).$implicit,o=r();return d(o.addReservation(a))}),m()}if(n&2){let i=r(3);b("disabled",i.key()==="user_id")("pTooltip",h(1,2,"Add Reservation"))}}function Ot(n,e){n&1&&(p(0,"span",10),u(1),m()),n&2&&(x(),y(" ","u cant add Reservation More",""))}function Ut(n,e){if(n&1&&v(0,Lt,2,4,"button",11)(1,Ot,2,1,"span",10),n&2){let i=r().$implicit;V(i.used!==i.total_used?0:1)}}function $t(n,e){if(n&1&&v(0,At,2,3)(1,Et,2,3)(2,Ut,2,1),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}var qt=["individual","company","studentActivity"],Ze=class n extends U{id=g.required({transform:te});endpoint=g.required();keyState=g.required();resourse=g.required();key=g.required();roomsService=k(ce);status=D.required("status");reservations=D.required("reservations");statusList=B(me);filterStatusList=B([{label:"all",value:null},...this.statusList()]);filter(e,i){this.filtersData.update(t=>_(c({},t),{customFilters:e.value?{[i]:e.value}:null}))}ngOnInit(){this.dialogComponent=le,this.clearCachingLists.set(["individual/index","company/index","studentActivity/index"]),this.indexMeta=_(c({},this.indexMeta),{displayCreateButton:!1,resourse:this.resourse(),endpoints:{index:`assignes-package/${this.endpoint()}`,delete:"assignes-package/delete"},indexTitle:"General Packages",indexIcon:"fa-solid fa-building",indexTableKey:`${this.keyState()}_GENERAL_PACKAGES_KEY`,columns:[{name:"id",title:this.#e("#ID"),searchable:!1,orderable:!1},{name:"status",title:this.#e("status"),searchable:!1,orderable:!0,render:this.status()},{name:"packages.name",title:this.#e("package"),searchable:!1,orderable:!1,render:this.reservations()},{name:"packages.hours",title:this.#e("hours"),searchable:!1,orderable:!0},{title:this.#e("start date"),name:"start_date",searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy"}},{title:this.#e("end date"),name:"end_date",searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy"}},{title:this.#e("room"),name:"packages.room.name",searchable:!1,orderable:!1},{title:this.#e("Total Paied"),name:"total_price",searchable:!1,orderable:!1},{title:this.#e("Offer discount type"),name:"assignGeneralOffer.generalOffer.type_discount",searchable:!1,orderable:!1},{title:this.#e("Offer discount"),name:"assignGeneralOffer.generalOffer.discount",searchable:!1,orderable:!1},{title:this.#e("used"),name:"used",searchable:!1,orderable:!0},{title:this.#e("total used"),name:"total_used",searchable:!1,orderable:!0},{title:this.#e("remaining"),name:"remaining",searchable:!1,orderable:!0},{title:this.#e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:this.#e("Created At"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}),this.initializePermissions(),this.filtersData.update(e=>_(c({},e),{[this.key()]:this.id()}))}updateUi(e,i){e==="delete"&&this.sharedRecords.update(t=>t.map(a=>a.id===this.id()?_(c({},a),{assignesPackages:[]}):a)),e==="update"&&i&&(i.status==="complete"||i.status==="cancelled")&&this.sharedRecords.update(t=>t.map(a=>a.id===this.id()?_(c({},a),{assignesPackages:[]}):a))}clearCacheAndRefresh(){this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())}changeStatus(e,i){this.confirmService.confirmDelete({acceptCallback:()=>{this.api.request("post","assignes-package/update",{status:i.value,type_user:this.getUserType(e),user_id:e[this.getUserType(e)].id,id:e.id}).pipe(ne(({data:t})=>t),ae(t=>this.updateUi("update",t))).subscribe(()=>this.clearCacheAndRefresh())},rejectCallback:()=>{this.records.update(t=>t.map(a=>a.id===e.id?_(c({},a),{status:e.status}):a))}})}addReservation(e){let i=this.getReservationDialog(e);this.dialogRef=this.dialogService.open(this.dialogComponent,i),this.dialogRef.onClose.pipe(E(this.destroyRef)).subscribe(t=>{if(!t)return;let a=this.roomsService.getDiffHours(t),o=(s,ee)=>_(c({},s),{assignesPackages:s.assignesPackages.map(Re=>_(c({},Re),{id:ee.id,used:ee.used+a,remaining:ee.remaining-a}))});this.updateRecords({id:e.id,used:e.used+a,remaining:e.remaining-a}),this.sharedRecords.update(s=>s.map(ee=>ee.id===this.id()?o(ee,e):ee)),this.clearCache()})}getReservationDialog(e){let i={method:"create",dialogConfig:this.dialogConfig,typeUser:this.getUserType(e),customer_id:e[this.getUserType(e)].id,model:e,room_id:e.packages.room.id,package_id:e.id,packageKey:"package_id",typePackage:"package",endpointStore:"reservation-room/store/package"};return this.roomsService.configDialog(i)}getUserType(e){return qt.find(i=>e[i])||""}viewReservations(e){let i={dialogConfig:this.dialogConfig,type_user:this.getUserType(e),customer_id:e[this.getUserType(e)].id,customerKey:`${this.getUserType(e)}_id`,model:e,package_id:e.id,packageKey:"package_id",typePackage:"packages"},t=we;this.dialogRef=this.dialogService.open(t,this.roomsService.configDialog(i));let a=this.roomsService.getDiffHours(e);this.dialogRef.onClose.pipe(E(this.destroyRef)).subscribe(o=>{!o&&!o?.cancelled||(this.updateRecords({id:e.id,used:e.used-a,remaining:e.remaining+a}),this.clearCache())})}clearCache(){this.cacheFilters.deleteCacheKey(`${this.indexMeta.endpoints.index}-${JSON.stringify(this.filtersData())}`),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())}#e(e){return this.translate.instant(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-related-assigness-general-packages"]],viewQuery:function(i,t){i&1&&(T(t.status,kt,5),T(t.reservations,Vt,5)),i&2&&L(2)},inputs:{id:[1,"id"],endpoint:[1,"endpoint"],keyState:[1,"keyState"],resourse:[1,"resourse"],key:[1,"key"]},standalone:!0,features:[P,M],decls:9,vars:22,consts:[["additionalContentTemplate",""],["status",""],["reservations",""],["actionsTemplate",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withTableFilters","withAdditionalContent"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"options","ngModel","disabled"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"ngModelChange","onChange","options","ngModel","disabled"],["pButton","","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","disabled"],[1,"capitalize"],["pButton","","icon","pi pi-calendar-plus text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"disabled","pTooltip"],["pButton","","icon","pi pi-calendar-plus text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","disabled","pTooltip"]],template:function(i,t){if(i&1){let a=R();p(0,"app-table-wrapper",4),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(1,Bt,3,5,"ng-template",null,0,w)(3,Pt,3,1,"ng-template",null,1,w)(5,It,4,4,"ng-template",null,2,w)(7,$t,3,1,"ng-template",null,3,w),m()}if(i&2){let a,o;b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("updateBtnPermission",t.permissions().update)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withCustomFilters",!0)("withTableFilters",!1)("withAdditionalContent",!0)}},dependencies:[$,j,z,Z,X,Q,N,W,A,O,I,H],encapsulation:2,changeDetection:0})};var re=class n{getUserType(e){return["individual","company","studentActivity"].find(t=>e[t])||""}getFinalPrice(e,i){let t=this.calculateTotalPrice(e,i),a=new Date,o=be(e.start_hour,e.start_minute,e.start_time),s=be(a.getHours()%12===0?12:a.getHours()%12,a.getMinutes(),a.getHours()>=12?"pm":"am"),ee=ve(o,s);return ee?ee*t:t}configDialog(e){return _(c({},e.dialogConfig),{width:"700px",data:_(c({method:e.method||"update"},e.model),{type_user:e.type_user,customer_id:e.customer_id,offer_id:e.offer_id,membership_id:e.membership_id,total_price:e.finalPrice,typeReservation:e.typeReservation,endpointStore:e.endpointStore,endpointUpdate:e.endpointUpdate,endpointListOffers:e.endpointListOffers})})}calculateTotalPrice(e,i){return e.assignGeneralOffer?e.settings[`price_${i}`]-e.assignGeneralOffer.generalOffer.discount:e.settings[`price_${i}`]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=xe({token:n,factory:n.\u0275fac,providedIn:"root"})};var Kt=["status"],Gt=["start"],Nt=["end"];function Wt(n,e){if(n&1){let i=R();p(0,"div",9)(1,"p-dropdown",10),f(2,"translate"),C("onChange",function(a){l(i);let o=r();return d(o.filter(a,"status"))}),m()()}if(n&2){let i=r();x(),Y("placeholder",h(2,3,"Select status Task")),b("options",i.filterStatusList())("filter",!0)}}function Qt(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.start_hour," : ",i.start_minute," : ",i.start_time,"")}}function zt(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.end_hour," : ",i.end_minute," : ",i.end_time,"")}}function jt(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"complete")," ")}function Ht(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function Yt(n,e){if(n&1){let i=R();p(0,"p-dropdown",12),G("ngModelChange",function(a){l(i);let o=r().$implicit;return K(o.status,a)||(o.status=a),d(a)}),C("onChange",function(a){l(i);let o=r().$implicit,s=r();return d(s.changeStatus(o.id,a))}),m()}if(n&2){let i=r().$implicit,t=r();b("options",t.statusList()),q("ngModel",i.status)}}function Jt(n,e){if(n&1&&v(0,jt,2,3)(1,Ht,2,3)(2,Yt,1,2,"p-dropdown",11),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}function Xt(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"is completed")," ")}function Zt(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function ei(n,e){if(n&1){let i=R();p(0,"button",14),f(1,"translate"),C("click",function(){l(i);let a=r().$implicit,o=r();return d(o.closeReservation(a))}),m()}n&2&&b("pTooltip",h(1,1,"Close Reservation"))}function ti(n,e){if(n&1&&v(0,Xt,2,3)(1,Zt,2,3)(2,ei,2,3,"button",13),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}var Ve=class n extends U{#e=k(he);#t=k(ge);#i;dataDialog=this.#e.data;statusList=B(me);resource=ye;constants=pe;status=D.required("status");start=D.required("start");end=D.required("end");workingSpace=k(re);ngOnInit(){this.initializeComponent()}initializeComponent(){this.initializeIndexMeta(),this.initializePermissions(),this.updateFiltersData()}filter(e,i){this.filtersData.update(t=>_(c({},t),{customFilters:e.value?{[i]:e.value}:null}))}filterStatusList=B([{label:"all",value:null},...this.statusList()]);initializeIndexMeta(){this.indexMeta=_(c({},this.indexMeta),{resourse:this.resource.Deskarea,provideFields:["note","start_hour","start_minute","start_time","end_hour","end_minute","end_time"],createBtnLabel:this.translateText("New Reservation Deskarea"),displayCreateButton:!1,endpoints:{index:`deskarea/reservation/${this.dataDialog?.typeUser}`},indexTitle:"deskarea",indexIcon:"fa-solid fa-building",indexTableKey:"DESKAREA_MEMBERSHIP_KEY",columns:this.getTableColumns()})}getTableColumns(){let e=i=>this.translateText(i);return[{name:"id",title:e("#ID"),searchable:!1,orderable:!0},{name:"status",title:e("status"),searchable:!1,orderable:!1,render:this.status()},{title:e("selected day"),name:"selected_day",searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy"}},{name:null,title:e("start Time"),searchable:!1,orderable:!1,render:this.start()},{name:null,title:e("end Time"),searchable:!1,orderable:!1,render:this.end()},{name:"total_time",title:e("total time"),searchable:!1,orderable:!1},{title:e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:e("Created At"),name:"created_at",searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}updateFiltersData(){this.filtersData.update(e=>_(c({},e),{[this.dataDialog?.customerKey]:this.dataDialog?.id,membership_id:this.dataDialog?.membership_id}))}changeStatus(e,i){this.confirmService.confirmDelete({acceptCallback:()=>{this.api.request("post","deskarea/update",{status:i.value,id:e,membership_id:this.dataDialog?.membership_id}).subscribe(()=>{this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists()),i.value==="cancelled"&&this.closeDialog({cancelled:!0})})},rejectCallback:()=>{this.records.update(t=>t.map(a=>a.id===e?_(c({},a),{status:"active"}):a))}})}closeReservation(e){let i={dialogConfig:this.dialogConfig,model:e,typeUser:this.dataDialog.typeUser,membership_id:this.dataDialog?.membership_id,typeReservation:"deskarea",endpointStore:"deskarea/store/reservation",endpointUpdate:"deskarea/update"},t=this.workingSpace.configDialog(i);this.openDialog(t)}openDialog(e){this.#i=this.dialogService.open(se,e),this.#i?.onClose.pipe(E(this.destroyRef)).subscribe(i=>{i&&(this.updateRecords(i),this.clearCache())})}clearCache(){this.cacheFilters.deleteCacheKey(`${this.indexMeta.endpoints.index}-${JSON.stringify(this.filtersData())}`),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())}translateText(e){return this.translate.instant(e)}closeDialog(e){this.#t?.close(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-deskarea-by-membership"]],viewQuery:function(i,t){i&1&&(T(t.status,Kt,5),T(t.start,Gt,5),T(t.end,Nt,5)),i&2&&L(3)},standalone:!0,features:[P,M],decls:14,vars:22,consts:[["additionalContentTemplate",""],["start",""],["end",""],["status",""],["actionsTemplate",""],[1,"flex","align-items-center","justify-content-end","w-full","p-3","bg-white"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[1,"px-3"],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withTableFilters","withAdditionalContent"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"options","ngModel"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"ngModelChange","onChange","options","ngModel"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"pTooltip"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","pTooltip"]],template:function(i,t){if(i&1){let a=R();p(0,"div",5)(1,"button",6),C("click",function(){return l(a),d(t.closeDialog())}),m()(),p(2,"div",7)(3,"app-table-wrapper",8),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(4,Wt,3,5,"ng-template",null,0,w)(6,Qt,2,3,"ng-template",null,1,w)(8,zt,2,3,"ng-template",null,2,w)(10,Jt,3,1,"ng-template",null,3,w)(12,ti,3,1,"ng-template",null,4,w),m()()}if(i&2){let a,o;x(3),b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("updateBtnPermission",t.permissions().update)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withCustomFilters",!0)("withTableFilters",!1)("withAdditionalContent",!0)}},dependencies:[$,j,z,Z,X,Q,N,W,A,O,I,H],encapsulation:2,changeDetection:0})};var ii=["status"],ni=["start"],ai=["end"];function oi(n,e){if(n&1){let i=R();p(0,"div",9)(1,"p-dropdown",10),f(2,"translate"),C("onChange",function(a){l(i);let o=r();return d(o.filter(a,"status"))}),m()()}if(n&2){let i=r();x(),Y("placeholder",h(2,3,"Select status Task")),b("options",i.filterStatusList())("filter",!0)}}function ri(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.start_hour," : ",i.start_minute," : ",i.start_time,"")}}function si(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.end_hour," : ",i.end_minute," : ",i.end_time,"")}}function li(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"complete")," ")}function di(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function pi(n,e){if(n&1){let i=R();p(0,"p-dropdown",12),G("ngModelChange",function(a){l(i);let o=r().$implicit;return K(o.status,a)||(o.status=a),d(a)}),C("onChange",function(a){l(i);let o=r().$implicit,s=r();return d(s.changeStatus(o.id,a))}),m()}if(n&2){let i=r().$implicit,t=r();b("options",t.statusList()),q("ngModel",i.status)}}function mi(n,e){if(n&1&&v(0,li,2,3)(1,di,2,3)(2,pi,1,2,"p-dropdown",11),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}function ci(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"is completed")," ")}function ui(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function _i(n,e){if(n&1){let i=R();p(0,"button",14),f(1,"translate"),C("click",function(){l(i);let a=r().$implicit,o=r();return d(o.closeReservation(a))}),m()}n&2&&b("pTooltip",h(1,1,"Close Reservation"))}function fi(n,e){if(n&1&&v(0,ci,2,3)(1,ui,2,3)(2,_i,2,3,"button",13),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}var Be=class n extends U{#e=k(he);#t=k(ge);#i;dataDialog=this.#e.data;statusList=B(me);resource=ye;constants=pe;status=D.required("status");start=D.required("start");end=D.required("end");workingSpace=k(re);ngOnInit(){this.initializeComponent()}initializeComponent(){this.initializeIndexMeta(),this.initializePermissions(),this.updateFiltersData()}filterStatusList=B([{label:"all",value:null},...this.statusList()]);initializeIndexMeta(){this.dialogComponent=se,this.indexMeta=_(c({},this.indexMeta),{displayCreateButton:!1,provideFields:["note","start_hour","start_minute","start_time","end_hour","end_minute","end_time"],resourse:this.resource.Shared,createBtnLabel:this.translateText("New Reservation Shared"),endpoints:{index:`shared/reservation/${this.dataDialog?.typeUser}`},indexTitle:"shareds",indexIcon:"fa-solid fa-building",indexTableKey:"SHARED_MEMBERSHIP_KEY",columns:this.getTableColumns()})}getTableColumns(){let e=i=>this.translateText(i);return[{name:"id",title:e("#ID"),searchable:!1,orderable:!1},{name:"status",title:e("status"),searchable:!1,orderable:!1,render:this.status()},{title:e("selected day"),name:"selected_day",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy"}},{name:null,title:e("start Time"),searchable:!1,orderable:!1,render:this.start()},{name:null,title:e("end Time"),searchable:!1,orderable:!1,render:this.end()},{name:"total_time",title:e("total time"),searchable:!1,orderable:!1},{title:e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:e("Created At"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}updateFiltersData(){this.filtersData.update(e=>_(c({},e),{[this.dataDialog?.customerKey]:this.dataDialog?.customer_id,membership_id:this.dataDialog?.membership_id}))}changeStatus(e,i){this.confirmService.confirmDelete({acceptCallback:()=>{this.api.request("post","shared/update",{status:i.value,id:e,membership_id:this.dataDialog?.membership_id}).subscribe(()=>{this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists()),i.value==="cancelled"&&this.closeDialog({cancelled:!0})})},rejectCallback:()=>{this.records.update(t=>t.map(a=>a.id===e?_(c({},a),{status:"active"}):a))}})}closeReservation(e){let i={dialogConfig:this.dialogConfig,model:e,typeUser:this.dataDialog.typeUser,membership_id:this.dataDialog?.membership_id,typeReservation:"shared",endpointStore:"shared/store/reservation",endpointUpdate:"shared/update"},t=this.workingSpace.configDialog(i);this.openDialog(t)}openDialog(e){this.#i=this.dialogService.open(se,e),this.#i?.onClose.pipe(E(this.destroyRef)).subscribe(i=>{i&&(this.updateRecords(i),this.clearCache())})}filter(e,i){this.filtersData.update(t=>_(c({},t),{customFilters:e.value?{[i]:e.value}:null}))}clearCache(){this.cacheFilters.deleteCacheKey(`${this.indexMeta.endpoints.index}-${JSON.stringify(this.filtersData())}`),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())}translateText(e){return this.translate.instant(e)}closeDialog(e){this.#t?.close(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-shareds-by-membership"]],viewQuery:function(i,t){i&1&&(T(t.status,ii,5),T(t.start,ni,5),T(t.end,ai,5)),i&2&&L(3)},standalone:!0,features:[P,M],decls:14,vars:22,consts:[["additionalContentTemplate",""],["start",""],["end",""],["status",""],["actionsTemplate",""],[1,"flex","align-items-center","justify-content-end","w-full","p-3","bg-white"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[1,"px-3"],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withTableFilters","withAdditionalContent"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"options","ngModel"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"ngModelChange","onChange","options","ngModel"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"pTooltip"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","pTooltip"]],template:function(i,t){if(i&1){let a=R();p(0,"div",5)(1,"button",6),C("click",function(){return l(a),d(t.closeDialog())}),m()(),p(2,"div",7)(3,"app-table-wrapper",8),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(4,oi,3,5,"ng-template",null,0,w)(6,ri,2,3,"ng-template",null,1,w)(8,si,2,3,"ng-template",null,2,w)(10,mi,3,1,"ng-template",null,3,w)(12,fi,3,1,"ng-template",null,4,w),m()()}if(i&2){let a,o;x(3),b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("updateBtnPermission",t.permissions().update)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withCustomFilters",!0)("withTableFilters",!1)("withAdditionalContent",!0)}},dependencies:[$,j,z,Z,X,Q,N,W,A,O,I,H],encapsulation:2,changeDetection:0})};var hi=["status"],gi=["reservations"];function Ci(n,e){if(n&1){let i=R();p(0,"div",5)(1,"p-dropdown",6),f(2,"translate"),C("onChange",function(a){l(i);let o=r();return d(o.filter(a,"status"))}),m()()}if(n&2){let i=r();x(),Y("placeholder",h(2,3,"Select status Task")),b("options",i.filterStatusList())("filter",!0)}}function yi(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"complete")," ")}function bi(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function wi(n,e){if(n&1){let i=R();p(0,"p-dropdown",8),G("ngModelChange",function(a){l(i);let o=r().$implicit;return K(o.status,a)||(o.status=a),d(a)}),C("onChange",function(a){l(i);let o=r().$implicit,s=r();return d(s.changeStatus(o,a))}),m()}if(n&2){let i=r().$implicit,t=r();b("options",t.statusList()),q("ngModel",i.status)}}function Ri(n,e){if(n&1&&v(0,yi,2,3)(1,bi,2,3)(2,wi,1,2,"p-dropdown",7),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}function xi(n,e){if(n&1){let i=R();p(0,"button",9),C("click",function(){let a=l(i).$implicit,o=r();return d(o.viewReservations(a))}),p(1,"span",10),u(2),f(3,"translate"),m()()}if(n&2){let i=e.$implicit,t=r();b("disabled",t.key()==="user_id"),x(2),y(" ",h(3,2,i.memeberShip.name),"")}}function vi(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"is completed")," ")}function Di(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function Ti(n,e){if(n&1){let i=R();p(0,"button",12),f(1,"translate"),C("click",function(){l(i);let a=r(2).$implicit,o=r();return d(o.addReservation(a))}),m()}if(n&2){let i=r(3);b("disabled",i.key()==="user_id")("pTooltip",h(1,2,"Add Reservation"))}}function ki(n,e){n&1&&(p(0,"span",10),u(1),m()),n&2&&(x(),y(" ","u cant add Reservation More",""))}function Vi(n,e){if(n&1&&v(0,Ti,2,4,"button",11)(1,ki,2,1,"span",10),n&2){let i=r().$implicit;V(i.used!==i.total_used?0:1)}}function Bi(n,e){if(n&1&&v(0,vi,2,3)(1,Di,2,3)(2,Vi,2,1),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}var Si=["individual","company","studentActivity"],Mi=["individual/index","company/index","studentActivity/index"],Fe=class n extends U{id=g.required({transform:te});endpoint=g.required();keyState=g.required();resourse=g.required();key=g.required();#e;workingSpace=k(re);status=D.required("status");reservations=D.required("reservations");statusList=B([{label:"active",value:"active"},{label:"cancelled",value:"cancelled"}]);filterStatusList=B([{label:"all",value:null},...this.statusList()]);ngOnInit(){this.initializeComponent()}constants=pe;initializeComponent(){this.clearCachingLists.set(Mi),this.dialogComponent=se,this.initializeIndexMeta(),this.initializePermissions(),this.updateFiltersData()}initializeIndexMeta(){this.indexMeta=_(c({},this.indexMeta),{displayCreateButton:!1,resourse:this.resourse(),endpoints:{index:`assignes-membership/${this.endpoint()}`,delete:"assignes-membership/delete"},indexTitle:"General Membership",indexIcon:"fa-solid fa-building",indexTableKey:`${this.keyState()}_GENERAL_MEMBER_KEY`,columns:this.getTableColumns()})}getTableColumns(){return[{name:"id",title:this.translateText("#ID"),searchable:!1,orderable:!1},{name:"status",title:this.translateText("status"),searchable:!1,orderable:!1,render:this.status()},{name:"memeberShip.name",title:this.translateText("membership"),searchable:!1,orderable:!1,render:this.reservations()},{name:"start_date",title:this.translateText("start date"),searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy"}},{name:"end_date",title:this.translateText("end date"),searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy"}},{name:"memeberShip.type",title:this.translateText("type"),searchable:!1,orderable:!1},{title:this.translateText("Total Paied"),name:"total_price",searchable:!1,orderable:!1},{title:this.translateText("Offer discount type"),name:"assignGeneralOffer.generalOffer.type_discount",searchable:!1,orderable:!1},{title:this.translateText("Offer discount"),name:"assignGeneralOffer.generalOffer.discount",searchable:!1,orderable:!1},{name:"used",title:this.translateText("used"),searchable:!1,orderable:!1},{name:"total_used",title:this.translateText("total used"),searchable:!1,orderable:!1},{name:"remaining",title:this.translateText("remaining"),searchable:!1,orderable:!1},{name:"createdBy",title:this.translateText("created by"),searchable:!1,orderable:!1},{name:"created_at",title:this.translateText("Created At"),searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}updateFiltersData(){this.filtersData.update(e=>_(c({},e),{[this.key()]:this.id()}))}filter(e,i){this.filtersData.update(t=>_(c({},t),{customFilters:e.value?{[i]:e.value}:null}))}updateUi(e,i){e==="delete"&&this.sharedRecords.update(t=>t.map(a=>a.id===this.id()?_(c({},a),{assign_memberships:[]}):a)),e==="update"&&i&&(i.status==="complete"||i.status==="cancelled")&&this.sharedRecords.update(t=>t.map(a=>a.id===this.id()?_(c({},a),{assign_memberships:[]}):a))}clearCacheAndRefresh(){this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())}changeStatus(e,i){this.confirmService.confirmDelete({acceptCallback:()=>{this.api.request("post","assignes-membership/update",{status:i.value,type_user:this.getUserType(e),type:e.memeberShip.type,user_id:e[this.getUserType(e)].id,id:e.id}).pipe(ne(({data:t})=>t),ae(t=>this.updateUi("update",t))).subscribe(()=>this.clearCacheAndRefresh())},rejectCallback:()=>{this.records.update(t=>t.map(a=>a.id===e.id?_(c({},a),{status:e.status}):a))}})}addReservation(e){this.#e=this.dialogService.open(this.dialogComponent,this.getReservationDialog(e)),this.#e.onClose.pipe(E(this.destroyRef)).subscribe(i=>{if(!i)return;let t=(a,o)=>_(c({},a),{assign_memberships:a.assign_memberships.map(s=>_(c({},s),{id:o.id,used:o.used+1,remaining:o.remaining-1}))});this.updateRecords(i),this.sharedRecords.update(a=>a.map(o=>o.id===this.id()?t(o,e):o)),this.clearCache()})}getReservationDialog(e){let i={method:"create",dialogConfig:this.dialogConfig,typeUser:this.getUserType(e),customer_id:e[this.getUserType(e)].id,model:e,typeReservation:e.memeberShip.type,membership_id:e.id,endpointStore:this.getEndpoint(e.memeberShip.type,"store/reservation"),endpointUpdate:this.getEndpoint(e.memeberShip.type,"update")};return this.workingSpace.configDialog(i)}getEndpoint(e,i){return e==="shared"?`shared/${i}`:`deskarea/${i}`}getUserType(e){return Si.find(i=>e[i])||""}viewReservations(e){let i=this.getUserType(e),t=this.getViewReservationsDialogConfig(e,i),a=e.memeberShip.type==="shared"?Be:Ve;this.#e=this.dialogService.open(a,t),this.#e.onClose.pipe(E(this.destroyRef)).subscribe(o=>{if(!o&&!o?.cancelled)return;let s=ee=>({id:ee.id,used:ee.used-1,remaining:ee.remaining+1});this.updateRecords(s),this.clearCache()})}getViewReservationsDialogConfig(e,i){return _(c({},this.dialogConfig),{width:"1150px",data:{typeUser:i,customerKey:`${i}_id`,customer_id:e[i].id,membership_id:e.id}})}clearCache(){this.cacheFilters.deleteCacheKey(`${this.indexMeta.endpoints.index}-${JSON.stringify(this.filtersData())}`),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())}translateText(e){return this.translate.instant(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-related-assigness-membership"]],viewQuery:function(i,t){i&1&&(T(t.status,hi,5),T(t.reservations,gi,5)),i&2&&L(2)},inputs:{id:[1,"id"],endpoint:[1,"endpoint"],keyState:[1,"keyState"],resourse:[1,"resourse"],key:[1,"key"]},standalone:!0,features:[P,M],decls:9,vars:23,consts:[["additionalContentTemplate",""],["status",""],["reservations",""],["actionsTemplate",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","deleteBtnPermission","updateBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withTableFilters","withAdditionalContent"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"options","ngModel"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"ngModelChange","onChange","options","ngModel"],["pButton","","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","disabled"],[1,"capitalize"],["pButton","","icon","pi pi-calendar-plus text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"disabled","pTooltip"],["pButton","","icon","pi pi-calendar-plus text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","disabled","pTooltip"]],template:function(i,t){if(i&1){let a=R();p(0,"app-table-wrapper",4),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(1,Ci,3,5,"ng-template",null,0,w)(3,Ri,3,1,"ng-template",null,1,w)(5,xi,4,4,"ng-template",null,2,w)(7,Bi,3,1,"ng-template",null,3,w),m()}if(i&2){let a,o;b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("deleteBtnPermission",t.permissions().delete)("updateBtnPermission",t.permissions().update)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withCustomFilters",!0)("withTableFilters",!1)("withAdditionalContent",!0)}},dependencies:[$,j,z,Z,X,Q,N,W,A,O,I,H],encapsulation:2,changeDetection:0})};var Fi=["status"],Pi=["start"],Ii=["end"];function Ai(n,e){if(n&1){let i=R();p(0,"div",6)(1,"p-dropdown",7),f(2,"translate"),C("onChange",function(a){l(i);let o=r();return d(o.filter(a,"status"))}),m()()}if(n&2){let i=r();x(),Y("placeholder",h(2,3,"Select status Task")),b("options",i.filterStatusList())("filter",!0)}}function Ei(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"complete")," ")}function Li(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function Oi(n,e){if(n&1){let i=R();p(0,"p-dropdown",9),G("ngModelChange",function(a){l(i);let o=r().$implicit;return K(o.status,a)||(o.status=a),d(a)}),C("onChange",function(a){l(i);let o=r().$implicit,s=r();return d(s.changeStatus(o.id,a))}),m()}if(n&2){let i=r().$implicit,t=r();b("options",t.statusList())("disabled",t.key()==="user_id"),q("ngModel",i.status)}}function Ui(n,e){if(n&1&&v(0,Ei,2,3)(1,Li,2,3)(2,Oi,1,3,"p-dropdown",8),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}function $i(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.start_hour," : ",i.start_minute," : ",i.start_time,"")}}function qi(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.end_hour," : ",i.end_minute," : ",i.end_time,"")}}function Ki(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"is completed")," ")}function Gi(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function Ni(n,e){if(n&1){let i=R();p(0,"button",11),f(1,"translate"),C("click",function(){l(i);let a=r().$implicit,o=r();return d(o.closeReservation(a))}),m()}if(n&2){let i=r(2);b("disabled",i.key()==="user_id")("pTooltip",h(1,2,"Close Reservation"))}}function Wi(n,e){if(n&1&&v(0,Ki,2,3)(1,Gi,2,3)(2,Ni,2,4,"button",10),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}var Qi=["individual","company","studentActivity"],et=class n extends U{id=g(null);endpoint=g("");keyState=g("");resourse=g("");key=g("");titleIndex=g("");iconIndex=g("");endpointChangeStatus=g("");typeReservation=g("");endpointStore=g("");endpointUpdate=g("");endpointListOffers=g("");provideFields=g([]);workingSpace=k(re);status=D.required("status");start=D.required("start");end=D.required("end");#e;constants=pe;statusList=B([{label:"active",value:"active"},{label:"cancelled",value:"cancelled"}]);filterStatusList=B([{label:"all",value:null},...this.statusList()]);ngOnInit(){this.initializeIndexMeta(),this.initializePermissions(),this.filtersData.update(e=>_(c({},e),{[this.key()]:this.id()}))}initializeIndexMeta(){this.indexMeta=_(c({},this.indexMeta),{displayCreateButton:!1,resourse:this.resourse(),provideFields:this.provideFields(),endpoints:{index:this.endpoint()},indexTitle:this.titleIndex(),indexIcon:this.iconIndex(),indexTableKey:`${this.keyState()}`,columns:this.getColumns()})}filter(e,i){this.filtersData.update(t=>_(c({},t),{customFilters:e.value?{[i]:e.value}:null}))}getColumns(){let e=i=>this.#t(i);return[{name:"id",title:e("#ID"),searchable:!1,orderable:!1},{name:"status",title:e("status"),searchable:!1,orderable:!1,render:this.status()},{title:e("selected day"),name:"selected_day",searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy"}},{name:null,title:e("start Time"),searchable:!1,orderable:!1,render:this.start()},{name:null,title:e("end Time"),searchable:!1,orderable:!1,render:this.end()},{title:e("Total Paied"),name:"total_price",searchable:!1,orderable:!1},{title:e("Offer discount type"),name:"assignGeneralOffer.generalOffer.type_discount",searchable:!1,orderable:!1},{title:e("Offer discount"),name:"assignGeneralOffer.generalOffer.discount",searchable:!1,orderable:!1},{name:"total_time",title:e("total time"),searchable:!1,orderable:!1},{title:e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:e("Created At"),name:"created_at",searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}changeStatus(e,i){this.confirmService.confirmDelete({acceptCallback:()=>{this.api.request("post",this.endpointChangeStatus(),{status:i.value,id:e}).subscribe(()=>{this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())})},rejectCallback:()=>{this.records.update(t=>t.map(a=>a.id===e?_(c({},a),{status:"active"}):a))}})}closeReservation(e){let i=this.workingSpace.getFinalPrice(e,"deskarea"),t={dialogConfig:this.dialogConfig,model:e,finalPrice:i,typeUser:this.getUserType(e),customer_id:e.id,offer_id:e?.assignGeneralOffer?.generalOffer?.id,typeReservation:this.typeReservation(),endpointStore:this.endpointStore(),endpointUpdate:this.endpointUpdate(),endpointListOffers:this.endpointListOffers()},a=this.workingSpace.configDialog(t);this.openDialog(a)}getUserType(e){return Qi.find(i=>e[i])||""}openDialog(e){this.#e=this.dialogService.open(se,e),this.#e.onClose.pipe(E(this.destroyRef)).subscribe(i=>{i&&(this.updateRecords(i),this.cacheFilters.deleteCacheKey(`${this.indexMeta.endpoints.index}-${JSON.stringify(this.filtersData())}`),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists()))})}#t(e){return this.translate.instant(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-related-deskarea"]],viewQuery:function(i,t){i&1&&(T(t.status,Fi,5),T(t.start,Pi,5),T(t.end,Ii,5)),i&2&&L(3)},inputs:{id:[1,"id"],endpoint:[1,"endpoint"],keyState:[1,"keyState"],resourse:[1,"resourse"],key:[1,"key"],titleIndex:[1,"titleIndex"],iconIndex:[1,"iconIndex"],endpointChangeStatus:[1,"endpointChangeStatus"],typeReservation:[1,"typeReservation"],endpointStore:[1,"endpointStore"],endpointUpdate:[1,"endpointUpdate"],endpointListOffers:[1,"endpointListOffers"],provideFields:[1,"provideFields"]},standalone:!0,features:[P,M],decls:11,vars:22,consts:[["additionalContentTemplate",""],["status",""],["start",""],["end",""],["actionsTemplate",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withTableFilters","withAdditionalContent"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"options","disabled","ngModel"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"ngModelChange","onChange","options","disabled","ngModel"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"disabled","pTooltip"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","disabled","pTooltip"]],template:function(i,t){if(i&1){let a=R();p(0,"app-table-wrapper",5),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(1,Ai,3,5,"ng-template",null,0,w)(3,Ui,3,1,"ng-template",null,1,w)(5,$i,2,3,"ng-template",null,2,w)(7,qi,2,3,"ng-template",null,3,w)(9,Wi,3,1,"ng-template",null,4,w),m()}if(i&2){let a,o;b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("updateBtnPermission",t.permissions().update)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withCustomFilters",!0)("withTableFilters",!1)("withAdditionalContent",!0)}},dependencies:[$,j,z,Z,X,Q,N,W,A,O,I,H],encapsulation:2,changeDetection:0})};var zi=["status"],ji=["start"],Hi=["end"];function Yi(n,e){if(n&1){let i=R();p(0,"div",6)(1,"p-dropdown",7),f(2,"translate"),C("onChange",function(a){l(i);let o=r();return d(o.filter(a,"status"))}),m()()}if(n&2){let i=r();x(),Y("placeholder",h(2,3,"Select status Task")),b("options",i.filterStatusList())("filter",!0)}}function Ji(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"complete")," ")}function Xi(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function Zi(n,e){if(n&1){let i=R();p(0,"p-dropdown",9),G("ngModelChange",function(a){l(i);let o=r().$implicit;return K(o.status,a)||(o.status=a),d(a)}),C("onChange",function(a){l(i);let o=r().$implicit,s=r();return d(s.changeStatus(o.id,a))}),m()}if(n&2){let i=r().$implicit,t=r();b("options",t.statusList()),q("ngModel",i.status),b("disabled",t.key()==="user_id")}}function en(n,e){if(n&1&&v(0,Ji,2,3)(1,Xi,2,3)(2,Zi,1,3,"p-dropdown",8),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}function tn(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.start_hour," : ",i.start_minute," : ",i.start_time,"")}}function nn(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.end_hour," : ",i.end_minute," : ",i.end_time,"")}}function an(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"is completed")," ")}function on(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function rn(n,e){if(n&1){let i=R();p(0,"button",11),f(1,"translate"),C("click",function(){l(i);let a=r().$implicit,o=r();return d(o.closeReservation(a))}),m()}if(n&2){let i=r(2);b("disabled",i.key()==="user_id")("pTooltip",h(1,2,"Close Reservation"))}}function sn(n,e){if(n&1&&v(0,an,2,3)(1,on,2,3)(2,rn,2,4,"button",10),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}var ln=["individual","company","studentActivity"],tt=class n extends U{workingSpace=k(re);id=g.required({transform:te});endpoint=g.required();keyState=g.required();resourse=g.required();key=g.required();titleIndex=g.required();iconIndex=g.required();endpointChangeStatus=g.required();typeReservation=g.required();endpointStore=g.required();endpointUpdate=g.required();endpointListOffers=g.required();provideFields=g.required();status=D.required("status");start=D.required("start");end=D.required("end");constants=pe;#e;statusList=B([{label:"active",value:"active"},{label:"cancelled",value:"cancelled"}]);filterStatusList=B([{label:"all",value:null},...this.statusList()]);ngOnInit(){this.initializeIndexMeta(),this.initializePermissions(),this.filtersData.update(e=>_(c({},e),{[this.key()]:this.id()}))}initializeIndexMeta(){this.indexMeta=_(c({},this.indexMeta),{displayCreateButton:!1,resourse:this.resourse(),provideFields:this.provideFields(),endpoints:{index:this.endpoint()},indexTitle:this.titleIndex(),indexIcon:this.iconIndex(),indexTableKey:`${this.keyState()}`,columns:this.getColumns()})}getColumns(){let e=i=>this.#t(i);return[{name:"id",title:e("#ID"),searchable:!1,orderable:!1},{name:"status",title:e("status"),searchable:!1,orderable:!1,render:this.status()},{title:e("selected day"),name:"selected_day",searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy"}},{name:null,title:e("start Time"),searchable:!1,orderable:!1,render:this.start()},{name:null,title:e("end Time"),searchable:!1,orderable:!1,render:this.end()},{title:e("Total Paied"),name:"total_price",searchable:!1,orderable:!1},{title:e("Offer discount type"),name:"assignGeneralOffer.generalOffer.type_discount",searchable:!1,orderable:!1},{title:e("Offer discount"),name:"assignGeneralOffer.generalOffer.discount",searchable:!1,orderable:!1},{name:"total_time",title:e("total time"),searchable:!1,orderable:!1},{title:e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:e("Created At"),name:"created_at",searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}filter(e,i){this.filtersData.update(t=>_(c({},t),{customFilters:e.value?{[i]:e.value}:null}))}changeStatus(e,i){this.confirmService.confirmDelete({acceptCallback:()=>{this.api.request("post",this.endpointChangeStatus(),{status:i.value,id:e}).subscribe(()=>{this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())})},rejectCallback:()=>{this.records.update(t=>t.map(a=>a.id===e?_(c({},a),{status:"active"}):a))}})}closeReservation(e){let i=this.workingSpace.getFinalPrice(e,"shared"),t={dialogConfig:this.dialogConfig,model:e,finalPrice:i,offer_id:e?.assignGeneralOffer?.generalOffer?.id,typeUser:this.getUserType(e),customer_id:e.id,typeReservation:this.typeReservation(),endpointStore:this.endpointStore(),endpointUpdate:this.endpointUpdate(),endpointListOffers:this.endpointListOffers()},a=this.workingSpace.configDialog(t);this.openDialog(a)}getUserType(e){return ln.find(i=>e[i])||""}openDialog(e){this.#e=this.dialogService.open(se,e),this.#e.onClose.pipe(E(this.destroyRef)).subscribe(i=>{i&&(this.updateRecords(i),this.cacheFilters.deleteCacheKey(`${this.indexMeta.endpoints.index}-${JSON.stringify(this.filtersData())}`),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists()))})}#t(e){return this.translate.instant(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-related-shared"]],viewQuery:function(i,t){i&1&&(T(t.status,zi,5),T(t.start,ji,5),T(t.end,Hi,5)),i&2&&L(3)},inputs:{id:[1,"id"],endpoint:[1,"endpoint"],keyState:[1,"keyState"],resourse:[1,"resourse"],key:[1,"key"],titleIndex:[1,"titleIndex"],iconIndex:[1,"iconIndex"],endpointChangeStatus:[1,"endpointChangeStatus"],typeReservation:[1,"typeReservation"],endpointStore:[1,"endpointStore"],endpointUpdate:[1,"endpointUpdate"],endpointListOffers:[1,"endpointListOffers"],provideFields:[1,"provideFields"]},standalone:!0,features:[P,M],decls:11,vars:22,consts:[["additionalContentTemplate",""],["status",""],["start",""],["end",""],["actionsTemplate",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withTableFilters","withAdditionalContent"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"options","ngModel","disabled"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"ngModelChange","onChange","options","ngModel","disabled"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"disabled","pTooltip"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","disabled","pTooltip"]],template:function(i,t){if(i&1){let a=R();p(0,"app-table-wrapper",5),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(1,Yi,3,5,"ng-template",null,0,w)(3,en,3,1,"ng-template",null,1,w)(5,tn,2,3,"ng-template",null,2,w)(7,nn,2,3,"ng-template",null,3,w)(9,sn,3,1,"ng-template",null,4,w),m()}if(i&2){let a,o;b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("updateBtnPermission",t.permissions().update)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withCustomFilters",!0)("withTableFilters",!1)("withAdditionalContent",!0)}},dependencies:[$,j,z,Z,X,Q,N,W,A,O,I,H],encapsulation:2,changeDetection:0})};var dn=["status"],pn=["reservations"];function mn(n,e){if(n&1){let i=R();p(0,"div",5)(1,"p-dropdown",6),f(2,"translate"),C("onChange",function(a){l(i);let o=r();return d(o.filter(a,"status"))}),m()()}if(n&2){let i=r();x(),Y("placeholder",h(2,3,"Select status Task")),b("options",i.filterStatusList())("filter",!0)}}function cn(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"complete")," ")}function un(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function _n(n,e){if(n&1){let i=R();p(0,"p-dropdown",8),G("ngModelChange",function(a){l(i);let o=r().$implicit;return K(o.status,a)||(o.status=a),d(a)}),C("onChange",function(a){l(i);let o=r().$implicit,s=r();return d(s.changeStatus(o,a))}),m()}if(n&2){let i=r().$implicit,t=r();b("options",t.statusList()),q("ngModel",i.status),b("disabled",t.key()==="user_id")}}function fn(n,e){if(n&1&&v(0,cn,2,3)(1,un,2,3)(2,_n,1,3,"p-dropdown",7),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}function hn(n,e){if(n&1){let i=R();p(0,"button",9),C("click",function(){let a=l(i).$implicit,o=r();return d(o.viewReservations(a))}),p(1,"span",10),u(2),f(3,"translate"),m()()}if(n&2){let i=r();b("disabled",i.key()==="user_id"),x(2),y(" ",h(3,2,"Deals Reservations"),"")}}function gn(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"is completed")," ")}function Cn(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function yn(n,e){if(n&1){let i=R();p(0,"button",12),f(1,"translate"),C("click",function(){l(i);let a=r(2).$implicit,o=r();return d(o.addReservation(a))}),m()}if(n&2){let i=r(3);b("disabled",i.key()==="user_id")("pTooltip",h(1,2,"Add Reservation"))}}function bn(n,e){n&1&&(p(0,"span",10),u(1),m()),n&2&&(x(),y(" ","u cant add Reservation More",""))}function wn(n,e){if(n&1&&v(0,yn,2,4,"button",11)(1,bn,2,1,"span",10),n&2){let i=r().$implicit;V(i.used!==i.total_used?0:1)}}function Rn(n,e){if(n&1&&v(0,gn,2,3)(1,Cn,2,3)(2,wn,2,1),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}var xn=["individual","company","studentActivity"],it=class n extends U{id=g.required({transform:te});endpoint=g.required();keyState=g.required();resourse=g.required();key=g.required();roomsService=k(ce);status=D.required("status");reservations=D.required("reservations");statusList=B(me);filterStatusList=B([{label:"all",value:null},...this.statusList()]);filter(e,i){this.filtersData.update(t=>_(c({},t),{customFilters:e.value?{[i]:e.value}:null}))}ngOnInit(){this.dialogComponent=le,this.indexMeta=_(c({},this.indexMeta),{resourse:this.resourse(),displayDeleteButton:this.currentUser()?.role==="technical-support",displayCreateButton:!1,endpoints:{index:`deals/${this.endpoint()}`},indexTitle:"Deals",indexIcon:"fas fa-money-bills",indexTableKey:`${this.keyState()}_KEY`,columns:[{title:this.#e("#ID"),name:"id",searchable:!1,orderable:!0},{name:null,title:this.#e("Deal"),searchable:!1,orderable:!1,render:this.reservations()},{name:"status",title:this.#e("status"),searchable:!1,orderable:!0,render:this.status()},{title:this.#e("Room Name"),name:"room.name",searchable:!0,orderable:!1},{title:this.#e("Number Hours"),name:"hours",searchable:!1,orderable:!1},{title:this.#e("Price Of Hour"),name:"price_hour",searchable:!1,orderable:!1},{title:this.#e("used"),name:"used",searchable:!1,orderable:!0},{title:this.#e("total used"),name:"total_used",searchable:!1,orderable:!0},{title:this.#e("remaining"),name:"remaining",searchable:!1,orderable:!0},{title:this.#e("Total Paied"),name:"total_price",searchable:!1,orderable:!1},{title:this.#e("Offer discount type"),name:"assignGeneralOffer.generalOffer.type_discount",searchable:!1,orderable:!1},{title:this.#e("Offer discount"),name:"assignGeneralOffer.generalOffer.discount",searchable:!1,orderable:!1},{title:this.#e("Start Date"),name:"start_date",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy"}},{title:this.#e("End Date"),name:"end_date",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy"}},{title:this.#e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:this.#e("Created At"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}),this.initializePermissions(),this.filtersData.update(i=>_(c({},i),{[this.key()]:this.id()}));let e={[this.key()]:this.id(),method:"create"};this.dialogConfig=_(c({},this.dialogConfig),{data:e})}changeStatus(e,i){this.confirmService.confirmDelete({acceptCallback:()=>{this.api.request("post","deals/update",{status:i.value,type_user:this.getUserType(e),user_id:e[this.getUserType(e)].id,id:e.id}).pipe(ne(({data:t})=>t)).subscribe(()=>this.clearCacheAndRefresh())},rejectCallback:()=>{this.records.update(t=>t.map(a=>a.id===e.id?_(c({},a),{status:e.status}):a))}})}clearCacheAndRefresh(){this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())}addReservation(e){let i=this.getReservationDialog(e);this.dialogRef=this.dialogService.open(this.dialogComponent,i),this.dialogRef.onClose.pipe(E(this.destroyRef)).subscribe(t=>{if(!t)return;let a=this.roomsService.getDiffHours(t);this.updateRecords({id:e.id,used:e.used+a,remaining:e.remaining-a}),this.clearCache()})}getReservationDialog(e){let i={method:"create",dialogConfig:this.dialogConfig,typeUser:this.getUserType(e),customer_id:e[this.getUserType(e)].id,model:e,room_id:e.room.id,deal_id:e.id,packageKey:"deal_id",typePackage:"deal",endpointStore:"reservation-room/store/deal"};return this.roomsService.configDialog(i)}getUserType(e){return xn.find(i=>e[i])||""}viewReservations(e){let i={dialogConfig:this.dialogConfig,type_user:this.getUserType(e),customer_id:e[this.getUserType(e)].id,customerKey:`${this.getUserType(e)}_id`,model:e,package_id:e.id,packageKey:"deal_id",typePackage:"deals"},t=we;this.dialogRef=this.dialogService.open(t,this.roomsService.configDialog(i));let a=this.roomsService.getDiffHours(e);this.dialogRef.onClose.pipe(E(this.destroyRef)).subscribe(o=>{!o&&!o?.cancelled||(this.updateRecords({id:e.id,used:e.used-a,remaining:e.remaining+a}),this.clearCache())})}clearCache(){this.cacheFilters.deleteCacheKey(`${this.indexMeta.endpoints.index}-${JSON.stringify(this.filtersData())}`),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())}#e(e){return this.translate.instant(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-related-deals"]],viewQuery:function(i,t){i&1&&(T(t.status,dn,5),T(t.reservations,pn,5)),i&2&&L(2)},inputs:{id:[1,"id"],endpoint:[1,"endpoint"],keyState:[1,"keyState"],resourse:[1,"resourse"],key:[1,"key"]},standalone:!0,features:[P,M],decls:9,vars:22,consts:[["additionalContentTemplate",""],["status",""],["reservations",""],["actionsTemplate",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","placeholderSearch","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withTableFilters","withAdditionalContent"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"options","ngModel","disabled"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"ngModelChange","onChange","options","ngModel","disabled"],["pButton","","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","disabled"],[1,"capitalize"],["pButton","","icon","pi pi-calendar-plus text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"disabled","pTooltip"],["pButton","","icon","pi pi-calendar-plus text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","disabled","pTooltip"]],template:function(i,t){if(i&1){let a=R();p(0,"app-table-wrapper",4),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(1,mn,3,5,"ng-template",null,0,w)(3,fn,3,1,"ng-template",null,1,w)(5,hn,4,4,"ng-template",null,2,w)(7,Rn,3,1,"ng-template",null,3,w),m()}if(i&2){let a,o;b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("updateBtnPermission",t.permissions().update)("placeholderSearch",t.indexMeta.placeholderSearch)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withTableFilters",!1)("withAdditionalContent",!0)}},dependencies:[$,j,z,Z,X,Q,N,W,A,O,I,H],encapsulation:2,changeDetection:0})};var vn=["status"];function Dn(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"paid")," ")}function Tn(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"Free")," ")}function kn(n,e){if(n&1){let i=R();p(0,"p-dropdown",3),G("ngModelChange",function(a){l(i);let o=r().$implicit;return K(o.type_order,a)||(o.type_order=a),d(a)}),C("onChange",function(a){l(i);let o=r().$implicit,s=r();return d(s.changeStatus(o,a))}),m()}if(n&2){let i=r().$implicit,t=r();b("options",t.listData()),q("ngModel",i.type_order)}}function Vn(n,e){if(n&1&&v(0,Dn,2,3)(1,Tn,2,3)(2,kn,1,2,"p-dropdown",2),n&2){let i=e.$implicit;V(i.type_order==="PAID"?0:i.type_order==="FREE"?1:2)}}var nt=class n extends U{listData$=k(De).getGlobalList(["type_order"]).pipe(ne(({type_order:e})=>e.slice(1)));listData=je(this.listData$,{initialValue:[]});status=D.required("status");id=g.required({transform:te});endpoint=g.required();keyState=g.required();resourse=g.required();key=g.required();ngOnInit(){this.indexMeta=_(c({},this.indexMeta),{displayCreateButton:!1,withAction:!1,resourse:this.resourse(),provideFields:["order_items"],endpoints:{index:`order/${this.endpoint()}`},indexTitle:"orders",indexIcon:"fa-solid fa-building",indexTableKey:`${this.keyState()}_ORDERS_KEY`,columns:[{name:"id",title:this.#e("#ID"),searchable:!1,orderable:!1},{name:"order_number",title:this.#e("order number"),searchable:!1,orderable:!0},{name:"total_order",title:this.#e("total order"),searchable:!1,orderable:!0},{name:"type_order",title:this.#e("type order"),searchable:!1,orderable:!1,render:this.status()},{title:this.#e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:this.#e("Created At"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}),this.initializePermissions(),this.filtersData.update(e=>_(c({},e),{[this.key()]:this.id()}))}changeStatus(e,i){this.confirmService.confirmDelete({acceptCallback:()=>{this.api.request("post","order/update",{type_order:i.value,id:e.id}).subscribe(()=>{i.value!=="HOLD"&&this.sharedRecords.update(t=>t.map(a=>a.id===this.id()?_(c({},a),{orders:[]}):a))})},rejectCallback:()=>{this.records.update(t=>t.map(a=>a.id===e.id?_(c({},a),{status:e.status}):a))}})}#e(e){return this.translate.instant(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-related-orders"]],viewQuery:function(i,t){i&1&&T(t.status,vn,5),i&2&&L()},inputs:{id:[1,"id"],endpoint:[1,"endpoint"],keyState:[1,"keyState"],resourse:[1,"resourse"],key:[1,"key"]},standalone:!0,features:[P,M],decls:3,vars:20,consts:[["status",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withTableFilters"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"options","ngModel"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"ngModelChange","onChange","options","ngModel"]],template:function(i,t){if(i&1){let a=R();p(0,"app-table-wrapper",1),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(1,Vn,3,1,"ng-template",null,0,w),m()}if(i&2){let a,o;b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withCustomFilters",!0)("withTableFilters",!1)}},dependencies:[I,H,j,z,Q,N,W,$],encapsulation:2,changeDetection:0})};var Bn=["start"],Sn=["status"],Mn=["end"];function Fn(n,e){if(n&1){let i=R();p(0,"div",6)(1,"p-dropdown",7),f(2,"translate"),C("onChange",function(a){l(i);let o=r();return d(o.filter(a,"status"))}),m()()}if(n&2){let i=r();x(),Y("placeholder",h(2,3,"Select status Task")),b("options",i.filterStatusList())("filter",!0)}}function Pn(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.start_hour," : ",i.start_minute," : ",i.start_time,"")}}function In(n,e){if(n&1&&(p(0,"span"),u(1),m()),n&2){let i=e.$implicit;x(),J(" ",i.end_hour," : ",i.end_minute," : ",i.end_time,"")}}function An(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"complete")," ")}function En(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function Ln(n,e){if(n&1){let i=R();p(0,"p-dropdown",9),G("ngModelChange",function(a){l(i);let o=r().$implicit;return K(o.status,a)||(o.status=a),d(a)}),C("onChange",function(a){l(i);let o=r().$implicit,s=r();return d(s.changeStatus(o.id,a))}),m()}if(n&2){let i=r().$implicit,t=r();b("options",t.statusList())("disabled",t.key()==="user_id"),q("ngModel",i.status)}}function On(n,e){if(n&1&&v(0,An,2,3)(1,En,2,3)(2,Ln,1,3,"p-dropdown",8),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}function Un(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"is completed")," ")}function $n(n,e){n&1&&(u(0),f(1,"translate")),n&2&&y(" ",h(1,1,"cancelled")," ")}function qn(n,e){if(n&1){let i=R();p(0,"button",11),f(1,"translate"),C("click",function(){l(i);let a=r().$implicit,o=r();return d(o.closeReservation(a))}),m()}if(n&2){let i=r(2);b("disabled",i.key()==="user_id")("pTooltip",h(1,2,"Close Reservation"))}}function Kn(n,e){if(n&1&&v(0,Un,2,3)(1,$n,2,3)(2,qn,2,4,"button",10),n&2){let i=e.$implicit;V(i.status==="complete"?0:i.status==="cancelled"?1:2)}}var at=class n extends U{id=g.required({transform:te});roomsService=k(ce);start=D.required("start");status=D.required("status");end=D.required("end");endpoint=g.required();keyState=g.required();resourse=g.required();key=g.required();statusList=B([{label:"active",value:"active"},{label:"cancelled",value:"cancelled"}]);filterStatusList=B([{label:"all",value:null},...this.statusList()]);ngOnInit(){this.indexMeta=_(c({},this.indexMeta),{displayCreateButton:!1,resourse:this.resourse(),endpoints:{index:`reservation-room/${this.endpoint()}`},provideFields:["note","start_hour","start_minute","start_time","end_hour","end_minute","end_time"],indexTitle:"Rooms",indexIcon:"fa-solid fa-building",indexTableKey:`${this.keyState()}_ORDERS_KEY`,columns:[{name:"id",title:this.#e("#ID"),searchable:!1,orderable:!1},{name:"status",title:this.#e("status"),searchable:!1,orderable:!1,render:this.status()},{title:this.#e("selected day"),name:"selected_day",searchable:!1,orderable:!0},{name:null,title:this.#e("start Time"),searchable:!1,orderable:!1,render:this.start()},{name:null,title:this.#e("end Time"),searchable:!1,orderable:!1,render:this.end()},{title:this.#e("Total Paied"),name:"total_price",searchable:!1,orderable:!1},{title:this.#e("Offer discount type"),name:"assignGeneralOffer.generalOffer.type_discount",searchable:!1,orderable:!1},{title:this.#e("Offer discount"),name:"assignGeneralOffer.generalOffer.discount",searchable:!1,orderable:!1},{name:"total_time",title:this.#e("total time"),searchable:!1,orderable:!1},{title:this.#e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:this.#e("Created At"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}),this.initializePermissions(),this.filtersData.update(e=>_(c({},e),{[this.key()]:this.id()}))}filter(e,i){this.filtersData.update(t=>_(c({},t),{customFilters:e.value?{[i]:e.value}:null}))}changeStatus(e,i){this.confirmService.confirmDelete({acceptCallback:()=>{this.api.request("post","reservation-room/update",{status:i.value,id:e}).subscribe(()=>{this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists())})},rejectCallback:()=>{this.records.update(t=>t.map(a=>a.id===e?_(c({},a),{status:"active"}):a))}})}closeReservation(e){let i={method:"update",dialogConfig:this.dialogConfig,typeUser:this.getUserType(e),customer_id:e[this.getUserType(e)].id,model:e,offer_id:e.assignGeneralOffer?.generalOffer?.id,room_id:e.room?.id,endpointStore:"reservation-room/store",endpointListOffers:"global-offer-rooms"},t=this.roomsService.configDialog(i);this.dialogRef=this.dialogService.open(le,t),this.dialogRef.onClose.pipe(E(this.destroyRef)).subscribe(a=>{a&&(this.records.update(o=>o.map(s=>s.id===a.id?c(c({},s),a):s)),this.cacheFilters.deleteCacheKey(`${this.indexMeta.endpoints.index}-${JSON.stringify(this.filtersData())}`),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists()))})}getUserType(e){return["individual","company","studentActivity"].find(t=>e[t])||""}#e(e){return this.translate.instant(e)}static \u0275fac=(()=>{let e;return function(t){return(e||(e=F(n)))(t||n)}})();static \u0275cmp=S({type:n,selectors:[["app-view-related-rooms"]],viewQuery:function(i,t){i&1&&(T(t.start,Bn,5),T(t.status,Sn,5),T(t.end,Mn,5)),i&2&&L(3)},inputs:{id:[1,"id"],endpoint:[1,"endpoint"],keyState:[1,"keyState"],resourse:[1,"resourse"],key:[1,"key"]},standalone:!0,features:[P,M],decls:11,vars:22,consts:[["additionalContentTemplate",""],["start",""],["end",""],["status",""],["actionsTemplate",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withTableFilters","withAdditionalContent"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"options","disabled","ngModel"],["styleClass","py-1 pl-2 shadow-none","appendTo","body",3,"ngModelChange","onChange","options","disabled","ngModel"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"disabled","pTooltip"],["pButton","","icon","pi pi-lock text-sm","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-sm",3,"click","disabled","pTooltip"]],template:function(i,t){if(i&1){let a=R();p(0,"app-table-wrapper",5),C("createBtnClicked",function(){return l(a),d(t.openCreateRecordDialog())})("updateBtnClicked",function(s){return l(a),d(t.openUpdateRecordDialog(s))})("deleteBtnClicked",function(s){return l(a),d(t.deleteRecord(s))})("onLoadData",function(s){return l(a),d(t.loadRecords(s))}),v(1,Fn,3,5,"ng-template",null,0,w)(3,Pn,2,3,"ng-template",null,1,w)(5,In,2,3,"ng-template",null,2,w)(7,On,3,1,"ng-template",null,3,w)(9,Kn,3,1,"ng-template",null,4,w),m()}if(i&2){let a,o;b("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("updateBtnPermission",t.permissions().update)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(a=t.indexMeta.reorderableColumns)!==null&&a!==void 0?a:!1)("reorderableRows",(o=t.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withCustomFilters",!0)("withTableFilters",!1)("withAdditionalContent",!0)}},dependencies:[$,j,z,Z,X,Q,N,W,A,O,I,H],encapsulation:2,changeDetection:0})};export{le as a,ke as b,Xe as c,Ze as d,Fe as e,et as f,tt as g,it as h,nt as i,at as j};
