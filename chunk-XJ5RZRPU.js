import{D as X,Ea as oe,ba as w,ga as te,ha as ie,n as W,o as z,qa as ne,r as q,u as H,w as J,y as Q}from"./chunk-RDWS3ZUY.js";import{A as $,C as ee}from"./chunk-VGJJ4SUB.js";import"./chunk-NU2CE2PW.js";import{c as Z,d as C}from"./chunk-DBWXYH2V.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import{q as O}from"./chunk-Y2JJNTGM.js";import{Bb as m,Cc as K,Ia as I,Kb as r,Lb as l,Mb as x,Nb as N,Ob as U,Qb as S,Tb as b,Tc as j,Ub as L,db as f,dc as B,ea as v,fc as F,ia as p,ic as A,jc as Y,kc as G,mc as h,pb as V,qb as D,ua as u,va as c,wb as E,xc as R,ya as y,yc as M}from"./chunk-I6HS2BDL.js";import{a as s,b as d}from"./chunk-5KTCK5IS.js";var P=class n{#e=v(w);filtersData=V();model={};form=new z({});options={};fields=[this.#e.fieldBuilder([{key:"customFilters.start_date",type:"date-field",className:"md:col-3 col-12",props:{format:"YYYY-MM-DD",label:"start date"}},{key:"customFilters.end_date",type:"date-field",className:"md:col-3 col-12",props:{format:"YYYY-MM-DD",label:"end date"}}])];static \u0275fac=function(i){return new(i||n)};static \u0275cmp=p({type:n,selectors:[["app-filter-revenue-child"]],inputs:{filtersData:[1,"filtersData"]},outputs:{filtersData:"filtersDataChange"},standalone:!0,features:[h],decls:5,vars:8,consts:[[1,"text-base","capitalize","font-medium","mb-3"],[3,"formGroup"],[3,"model","fields","form","options"]],template:function(i,e){i&1&&(r(0,"h1",0),B(1),R(2,"translate"),l(),r(3,"form",1),x(4,"formly-form",2),l()),i&2&&(f(),F(" ",M(2,6,"Filters Revenue")," : "),f(2),m("formGroup",e.form),f(),m("model",e.model)("fields",e.fields)("form",e.form)("options",e.options))},dependencies:[X,Q,J,q,W,H,C,Z],encapsulation:2,changeDetection:0})};var _=class{id;revenueChild_id;amount;constructor(t){this.id=t?.id||null,this.revenueChild_id=t?.revenueChild_id||null,this.amount=t?.amount||null}};var T=class n extends ie{#e=v(w);ngOnInit(){this.dialogMeta=d(s({},this.dialogMeta),{endpoints:{store:"revenue-child/store",update:"revenue-child/update"}}),this.editData&&this.editData.method==="create"?(this.dialogMeta=d(s({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Revenue amount"),submitButtonLabel:this.translate.instant("Create Revenue amount")}),this.model=new _(this.editData)):(this.dialogMeta=d(s({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Cost Expenses"),submitButtonLabel:this.translate.instant("Update Cost Expenses")}),this.model=new _(this.editData)),this.fields=this.configureFields()}configureFields(){return[this.#e.fieldBuilder([{key:"amount",type:"floated-input-field",className:"col-12 md:col-6",props:{type:"number",label:"amount",required:!0}}])]}static \u0275fac=(()=>{let t;return function(e){return(t||(t=y(n)))(e||n)}})();static \u0275cmp=p({type:n,selectors:[["app-revenue-child-place-dialog"]],standalone:!0,features:[D,h],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(i,e){i&1&&(r(0,"app-form",0),R(1,"async"),b("onSubmit",function(){return e.createUpdateRecord(e.dialogMeta.endpoints)}),N(2,1),r(3,"div",2)(4,"h2",3),B(5),l(),r(6,"button",4),b("click",function(){return e.closeDialog()}),l()(),U(),l()),i&2&&(m("form",e.createUpdateForm)("model",e.model)("fields",e.fields)("options",e.options)("showSubmitButton",e.dialogMeta.showSubmitButton)("buttonLabel",e.dialogMeta.submitButtonLabel)("isFiledsLoaded",M(1,9,e.dialogMeta.dialogData$))("submitBtnLoading",e.isLoading()),f(5),F(" ",e.dialogMeta.dialogTitle," "))},dependencies:[O,C,ee,$,te],encapsulation:2,changeDetection:0})};function le(n,t){if(n&1){let i=S();r(0,"app-filter-revenue-child",2),G("filtersDataChange",function(o){u(i);let a=L();return Y(a.filtersData,o)||(a.filtersData=o),c(o)}),l()}if(n&2){let i=L();A("filtersData",i.filtersData)}}var k=class n extends ne{id=I.required({transform:j});ngOnInit(){this.clearCachingLists.set(["revenue/index"]),this.dialogComponent=T,this.indexMeta=d(s({},this.indexMeta),{resourse:"settings-revenue",endpoints:{index:"revenue-child/index",delete:"revenue-child/delete"},indexTitle:"Revenue Amount",indexIcon:"pi pi-money-bill",createBtnLabel:"Create Amount",indexTableKey:"REVENUE_CHILD_KEY",columns:[{title:this.#e("Amount"),name:"amount",searchable:!1,orderable:!0},{title:this.#e("created at"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}),this.initializePermissions(),this.filtersData.update(i=>d(s({},i),{revenueChild_id:this.id()}));let t={revenueChild_id:this.id(),method:"create"};this.dialogConfig=d(s({},this.dialogConfig),{data:t})}#e(t){return this.translate.instant(t)}static \u0275fac=(()=>{let t;return function(e){return(t||(t=y(n)))(e||n)}})();static \u0275cmp=p({type:n,selectors:[["app-revenue-child"]],inputs:{id:[1,"id"]},standalone:!0,features:[D,h],decls:3,vars:22,consts:[["customFiltersTemplate",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","createBtnPermission","deleteBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters"],[3,"filtersDataChange","filtersData"]],template:function(i,e){if(i&1){let o=S();r(0,"app-table-wrapper",1),b("createBtnClicked",function(){return u(o),c(e.openCreateRecordDialog())})("updateBtnClicked",function(g){return u(o),c(e.openUpdateRecordDialog(g))})("deleteBtnClicked",function(g){return u(o),c(e.deleteRecord(g))})("onLoadData",function(g){return u(o),c(e.loadRecords(g))}),E(1,le,1,1,"ng-template",null,0,K),l()}if(i&2){let o,a;m("headerTitle",e.indexMeta.indexTitle)("titleIcon",e.indexMeta.indexIcon)("headerBtnLabel",e.indexMeta.createBtnLabel)("displayCreateButton",e.indexMeta.displayCreateButton)("columns",e.indexMeta.columns)("dataSource",e.records())("loading",e.isLoading())("totalRecords",e.totalRecords())("recordsFiltered",e.recordsFiltered())("stateKey",e.indexMeta.indexTableKey)("rows",e.rows())("indexPermission",e.permissions().index)("updateBtnPermission",e.permissions().update)("createBtnPermission",e.permissions().create)("deleteBtnPermission",e.permissions().delete)("withActionsColumn",e.indexMeta.withAction)("displayUpdateButton",e.indexMeta.displayUpdateButton)("displayDeleteButton",e.indexMeta.displayDeleteButton)("globalFilterValue",e.globalFilterValue)("reorderableColumns",(o=e.indexMeta.reorderableColumns)!==null&&o!==void 0?o:!1)("reorderableRows",(a=e.indexMeta.reorderableRows)!==null&&a!==void 0?a:!1)("withCustomFilters",!0)}},dependencies:[C,P,oe],encapsulation:2,changeDetection:0})};export{k as default};
