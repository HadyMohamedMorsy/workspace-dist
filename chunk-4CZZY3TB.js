import{Ha as h,Wa as we,Ya as Le,Z as ue,aa as fe,d as re,k as le,m as se,q as de,ta as ye,ua as Se,v as ce,wa as De,xa as Me}from"./chunk-RDWS3ZUY.js";import{A as ve,C as Ce,D as xe,E as _e,o as U}from"./chunk-VGJJ4SUB.js";import"./chunk-NU2CE2PW.js";import{c as pe,d as me,e as ge,f as he,g as be}from"./chunk-DBWXYH2V.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import{w as oe}from"./chunk-Y2JJNTGM.js";import{$ as z,Ba as Z,Bb as v,Cb as F,Db as q,E as R,Fb as X,Gb as I,Hb as x,Ia as p,Ib as _,Jb as y,Kb as n,Lb as a,Mb as g,Qb as Y,Tb as S,U as V,Ub as m,Uc as B,Vb as ee,W as L,Wb as te,_ as W,db as r,dc as c,ea as d,ec as C,fc as ie,ia as u,ic as P,ja as H,jc as T,kc as E,l as $,mc as D,nb as f,nc as ne,ua as G,va as J,wa as K,wb as k,xa as Q,xc as M,yc as A,zc as ae}from"./chunk-I6HS2BDL.js";import"./chunk-5KTCK5IS.js";var Pe=["*"],ke=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=u({type:e,selectors:[["p-floatLabel"]],ngContentSelectors:Pe,decls:2,vars:0,consts:[[1,"p-float-label"]],template:function(i,l){i&1&&(ee(),n(0,"span",0),te(1),a())},encapsulation:2,changeDetection:0})}return e})(),Fe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=H({type:e});static \u0275inj=z({imports:[oe,U,le,U]})}return e})();var w=class e{title=p("");value=p(0);icon=p("");url=p("");backgroundColor=p("");color=p("");static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-card-content"]],inputs:{title:[1,"title"],value:[1,"value"],icon:[1,"icon"],url:[1,"url"],backgroundColor:[1,"backgroundColor"],color:[1,"color"]},standalone:!0,features:[D],decls:12,vars:10,consts:[[1,"block","h-full"],["viewBox","0 0 308 51","fill","none"],["d","M0 36L14.603 43.5983C17.4961 45.1036 20.9415 45.1036 23.8345 43.5983L36.2677 37.129C37.6932 36.3873 39.2765 36 40.8835 36H55.2103C56.8172 36 58.4005 35.6127 59.8261 34.871L76.875 26L91.4779 18.4017C94.371 16.8964 97.8164 16.8964 100.71 18.4017L113.143 24.871C114.568 25.6127 116.152 26 117.758 26H132.085C133.692 26 135.276 26.3873 136.701 27.129L149.134 33.5983C152.027 35.1036 155.473 35.1036 158.366 33.5983L168.353 28.4017C171.246 26.8964 174.691 26.8964 177.585 28.4017L185.547 32.545C189.484 34.5932 194.299 33.8024 197.374 30.6029L210.268 17.1841C211.022 16.4 211.898 15.744 212.863 15.242L223.985 9.45496C227.921 7.40676 232.737 8.19755 235.811 11.3971L244.657 20.6029C247.732 23.8025 252.547 24.5932 256.484 22.545L264.447 18.4017C267.34 16.8964 270.785 16.8964 273.678 18.4017L283.665 23.5983C286.559 25.1036 290.004 25.1036 292.897 23.5983L307.5 16V51H0V36Z","fill","currentColor",1,"path"],[1,"flex","gap-3"],[1,"icon-holder","flex","justify-content-center","align-items-center","w-2.5rem","h-2.5rem","border-round"],[1,"flex-auto"],[1,"font-normal","text-base","capitalize","mb-2"],[1,"text-xl","font-semibold"]],template:function(t,i){t&1&&(n(0,"p-card")(1,"span",0),K(),n(2,"svg",1),g(3,"path",2),a(),Q(),n(4,"div",3)(5,"div",4),g(6,"i"),a(),n(7,"div",5)(8,"h6",6),c(9),a(),n(10,"p",7),c(11),a()()()()()),t&2&&(r(3),F("color",i.color()),r(2),F("background-color",i.backgroundColor())("color",i.color()),r(),X(i.icon()+" text-xl"),r(3),C(i.title()),r(2),C(i.value()))},dependencies:[_e,xe],styles:["[_nghost-%COMP%]     .p-card{position:relative;box-shadow:none}[_nghost-%COMP%]     .p-card .p-card-content{padding:1.3rem;box-shadow:-4px 8px 23px -21px #000000bf;border:none}[_nghost-%COMP%]     .p-card svg{position:absolute;bottom:0;inset-inline:0;opacity:.5;filter:opacity(.1)}"],changeDetection:0})};var b=class e{cacheFilters=d(Le);cacheList=d(ue);destroyRef=d(Z);filtersData=f({start_date:h(new Date,"yyyy-MM-dd"),end_date:h(new Date,"yyyy-MM-dd"),slug:"clients"});isLoading=f(!0);statistics=f([]);dashboardData$=he(this.filtersData).pipe(L(()=>this.isLoading.set(!0)),V(o=>{let t=JSON.stringify(o);return this.cacheList.getListData("dashboard/analytics","POST",o,`dashboard/analytics-${t}`).pipe(L(i=>{this.isLoading.set(!1),this.cacheFilters.cacheFilters.has("dashboard/analytics")||this.cacheFilters.cacheFilters.set("dashboard/analytics",new Set),this.cacheFilters.cacheFilters.get("dashboard/analytics")?.add(`dashboard/analytics-${t}`),this.statistics.set(i)}),ge(this.destroyRef),R(()=>$({})))}));dashboardData=be(this.dashboardData$,{initialValue:null});static \u0275fac=function(t){return new(t||e)};static \u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})};var Ae=()=>[];function Be(e,o){if(e&1){let t=Y();n(0,"button",13),S("click",function(){G(t);let l=m(),s=l.$implicit,Ie=l.$index,N=m();return N.filterByDate(s.value),J(N.activeIndex.set(Ie))}),a()}if(e&2){let t=m(),i=t.$implicit,l=t.$index,s=m();q("bg-primary",s.activeIndex()===l)("p-button-outlined",s.activeIndex()!==l),v("label",i.name)}}function Ue(e,o){if(e&1&&k(0,Be,1,5,"button",12),e&2){let t=o.$implicit;I(t.visible?0:-1)}}function Oe(e,o){if(e&1&&(n(0,"div",14),g(1,"app-card-content",15),a()),e&2){let t=o.$implicit,i=o.$index,l=m(2);r(),v("title",t.title)("icon",t.icon)("value",t.value)("backgroundColor",l.getColorPair(i).background)("color",l.getColorPair(i).text)}}function je(e,o){if(e&1&&(n(0,"div",10),_(1,Oe,2,5,"div",14,x),a()),e&2){let t=m();r(),y(t.statistics())}}function Ne(e,o){e&1&&(n(0,"div",16),g(1,"p-skeleton",17),a())}function $e(e,o){e&1&&(n(0,"div",11),_(1,Ne,2,0,"div",16,x),M(3,"range"),a()),e&2&&(r(),y(ae(3,0,ne(3,Ae),8)))}var j=class e{statistics=d(b).statistics;filtersData=d(b).filtersData;isLoading=d(b).isLoading;#e=d(fe);loadingScreen=B(()=>this.isLoading());#t=["founder","technical-support","general-manager","accountant"];activeIndex=f(0);startDate=new Date;endDate=new Date;maxDate=new Date;filters=B(()=>[{name:"All Who is In",value:"clients",visible:!0},{name:"All Salaries",value:"salaries",visible:this.#t.includes(this.#e.roleUser())},{name:"All Expenses",value:"expenses",visible:this.#t.includes(this.#e.roleUser())},{name:"All External revenue place",value:"revenue-place",visible:this.#t.includes(this.#e.roleUser())},{name:"All purshases",value:"purshases",visible:this.#t.includes(this.#e.roleUser())},{name:"All returns",value:"returns",visible:this.#t.includes(this.#e.roleUser())},{name:"All order Count ",value:"order_count",visible:!0},{name:"All Total Order ",value:"order_total",visible:this.#t.includes(this.#e.roleUser())},{name:"All Total Hours ",value:"total_hours",visible:this.#t.includes(this.#e.roleUser())},{name:"All Status Deals",value:"revenue_deals",visible:this.#t.includes(this.#e.roleUser())},{name:"All Status Packages",value:"revenue_packages",visible:this.#t.includes(this.#e.roleUser())},{name:"All Status Shared",value:"revenue_shared",visible:this.#t.includes(this.#e.roleUser())},{name:"All Status Deskarea",value:"revenue_deskarea",visible:this.#t.includes(this.#e.roleUser())},{name:"All Status Reservation Rooms",value:"revenue_rooms",visible:this.#t.includes(this.#e.roleUser())},{name:"All Status membership",value:"revenue_membership",visible:this.#t.includes(this.#e.roleUser())},{name:"All offers",value:"offers",visible:this.#t.includes(this.#e.roleUser())}]);colorPairs=[{background:"#e9e7fd",text:"#7367f0"},{background:"#ddf6e8",text:"#28c76f"},{background:"#ffe2e3",text:"#ff4c51"},{background:"#d6f4f8",text:"#00bad1"},{background:"#fef0c7",text:"#ff9f43"},{background:"#d0ebff",text:"#339af0"},{background:"#e6f7d4",text:"#7bd235"}];getColorPair(o){return this.colorPairs[o%this.colorPairs.length]}filterByDate(o){this.filtersData.update(t=>({slug:o||t.slug,start_date:h(new Date(this.startDate),"yyyy-MM-dd"),end_date:h(new Date(this.endDate),"yyyy-MM-dd")}))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[D],decls:25,vars:11,consts:[[1,"flex","justify-content-between","align-items-center"],[1,"mb-2","text-base"],[1,"bg-red-100","px-4","py-2","mb-5","w-25rem","border-round-xl"],[1,"text-sm","w-full","line-height-4","text-600","font-semibold"],["pButton","","routerLink","/attends-today",1,"text-white"],[1,"flex","align-items-center","gap-4","my","-4"],["inputId","start-from",3,"ngModelChange","onSelect","ngModel","showIcon"],["for","birth_date"],["inputId","start-to",3,"ngModelChange","onSelect","ngModel","showIcon"],[1,"flex","flex-wrap","gap-3","my-4"],[1,"grid","mb-5"],[1,"grid"],["pButton","",1,"text-xs","py-1","px-2","font-medium","border-round-3xl","w-10rem","capitalize",3,"bg-primary","p-button-outlined","label"],["pButton","",1,"text-xs","py-1","px-2","font-medium","border-round-3xl","w-10rem","capitalize",3,"click","label"],[1,"col-12","col-6","lg:col-3","card-column"],[3,"title","icon","value","backgroundColor","color"],[1,"col-12","lg:col-3"],["width","100%","height","4rem"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"div")(2,"h5",1),c(3,"Note"),a(),n(4,"div",2)(5,"p",3),c(6," if u want get results reports today for example set 1/1/2022 to 1/2/2022 like this, u must end date next day to get today result "),a()()(),n(7,"a",4),c(8," Attends QrCode "),a()(),n(9,"div",5)(10,"p-floatLabel")(11,"p-calendar",6),E("ngModelChange",function(s){return T(i.startDate,s)||(i.startDate=s),s}),S("onSelect",function(){return i.filterByDate()}),a(),n(12,"label",7),c(13),M(14,"translate"),a()(),n(15,"p-floatLabel")(16,"p-calendar",8),E("ngModelChange",function(s){return T(i.endDate,s)||(i.endDate=s),s}),S("onSelect",function(){return i.filterByDate()}),a(),n(17,"label",7),c(18),M(19,"translate"),a()()(),n(20,"div",9),_(21,Ue,1,1,null,null,x),a(),k(23,je,3,0,"div",10)(24,$e,4,4,"div",11)),t&2&&(r(11),P("ngModel",i.startDate),v("showIcon",!0),r(2),C(A(14,7,"Start From")),r(3),P("ngModel",i.endDate),v("showIcon",!0),r(2),ie(" ",A(19,9,"Start To"),""),r(3),y(i.filters()),r(2),I(i.loadingScreen()?24:23))},dependencies:[w,Se,ye,Me,De,ve,me,pe,re,ce,se,de,Ce,Fe,ke,we],styles:["h1[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-40%);color:var(--gray-400);text-transform:capitalize;font-weight:600;font-size:clamp(12vw,7vw,2rem);line-height:1;margin:0}.card-box[_ngcontent-%COMP%]{box-shadow:-4px 8px 23px -21px #000000bf}.icon-holder[_ngcontent-%COMP%]{background-color:var(--bg-color);color:var(--text-color)}.path[_ngcontent-%COMP%]{fill:var(--text-color)}"],changeDetection:0})};export{j as default};
