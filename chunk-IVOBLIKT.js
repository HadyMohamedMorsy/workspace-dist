import{a as $}from"./chunk-7PWCODBA.js";import{Ba as S,Ca as x,Da as G,Ea as V,Fa as X,Ra as H,da as N,ea as q,ia as B,k as P,la as K,ma as _,ta as O,y as U}from"./chunk-6HLGESUH.js";import"./chunk-R2AUDRXA.js";import{Fb as a,Gb as r,Hb as v,Ib as R,Jb as E,Mb as m,T as k,W as w,Yb as L,_b as I,ad as j,cb as p,da as D,ec as C,ha as b,pb as g,pc as l,qc as s,wb as d,xa as h}from"./chunk-L5VXCLI3.js";import{a as c,b as f,e as F,i as z}from"./chunk-5KTCK5IS.js";var W=z($());var y=class{id;name;unviresty;college;subjects;holders;constructor(t){this.id=t?.id||null,this.name=t?.name||null,this.unviresty=t?.unviresty||null,this.college=t?.college||null,this.subjects=t?.subjects||[null],this.holders=t?.holders||[null]}};var A=class u extends V{#e=D(O);ngOnInit(){this.dialogMeta=f(c({},this.dialogMeta),{endpoints:{store:"studentActivity/store",update:"studentActivity/update"}}),this.editData?(this.dialogMeta=f(c({},this.dialogMeta),{dialogTitle:this.translate.instant("Update StudentActivity"),submitButtonLabel:this.translate.instant("Update StudentActivity")}),this.model=new y(this.editData)):(this.dialogMeta=f(c({},this.dialogMeta),{dialogTitle:this.translate.instant("Create StudentActivity"),submitButtonLabel:this.translate.instant("Create StudentActivity")}),this.model=new y),this.fields=this.configureFields()}configureFields(){return[{fieldGroup:[{type:"separator-field",props:{title:this.translate.instant("Information Student Activity"),icon:"fa-solid fa-info"}},this.#e.fieldBuilder([{key:"name",type:"floated-input-field",props:{label:"name",required:!0}},{key:"unviresty",type:"input-group-field",props:{placeholder:"unviresty",icon:"fa-solid fa-building-columns",required:!0}},{key:"college",type:"input-group-field",props:{required:!0,placeholder:"college",icon:"fa-solid fa-graduation-cap"}}])]},{template:'<div class="border-1 border-200 -mt-3"></div>',className:"col-12"},{fieldGroup:[{type:"separator-field",props:{title:this.translate.instant("Holders Company"),icon:"fa-solid fa-users"}},this.#e.fieldBuilder([{key:"holders",type:"repeat-field",props:{addBtnText:"Add Holders",disabledRepeater:!1},hooks:{onInit:t=>t.formControl?.valueChanges.pipe(k(t.model),w(i=>{if(t.props)return i.length===4?t.props.disabledRepeater=!0:t.props.disabledRepeater=!1}))},fieldArray:this.#e.fieldBuilder([{key:"name",type:"floated-input-field",props:{label:"name holder",required:!0}},{key:"position",type:"floated-input-field",props:{label:"position title",required:!0}},{key:"number",type:"input-group-field",props:{type:"number",placeholder:"number",icon:"pi pi-phone"}},{key:"whatsApp",type:"input-group-field",props:{type:"number",placeholder:"whatsApp",icon:"pi pi-whatsapp"}}])}])]},{template:'<div class="border-1 border-200 -mt-3"></div>',className:"col-12"},{fieldGroup:[{type:"separator-field",props:{title:this.translate.instant("Subjects"),icon:"fa-graduation-cap fa-solid"}},this.#e.fieldBuilder([{key:"subjects",type:"repeat-field",props:{addBtnText:"Add subject",disabledRepeater:!1},hooks:{onInit:t=>t.formControl?.valueChanges.pipe(k(t.model),w(i=>{if(t.props)return i.length===4?t.props.disabledRepeater=!0:t.props.disabledRepeater=!1}))},fieldArray:{type:"floated-input-field",props:{label:"subject",required:!0}}}])]}]}static \u0275fac=(()=>{let t;return function(e){return(t||(t=h(u)))(e||u)}})();static \u0275cmp=b({type:u,selectors:[["app-student-activity-dialog"]],standalone:!0,features:[g,C],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(i,e){i&1&&(a(0,"app-form",0),l(1,"async"),m("onSubmit",function(){return e.createUpdateRecord(e.dialogMeta.endpoints)}),R(2,1),a(3,"div",2)(4,"h2",3),L(5),r(),a(6,"button",4),m("click",function(){return e.closeDialog()}),r()(),E(),r()),i&2&&(d("form",e.createUpdateForm)("model",e.model)("fields",e.fields)("options",e.options)("showSubmitButton",e.dialogMeta.showSubmitButton)("buttonLabel",e.dialogMeta.submitButtonLabel)("isFiledsLoaded",s(1,9,e.dialogMeta.dialogData$))("submitBtnLoading",e.isLoading()),p(5),I(" ",e.dialogMeta.dialogTitle," "))},dependencies:[j,_,B,x,S,G],encapsulation:2,changeDetection:0})};var T=class u extends X{exportColumns;ngOnInit(){this.dialogComponent=A,this.indexMeta=f(c({},this.indexMeta),{endpoints:{index:"studentActivity/index",delete:"studentActivity/delete"},indexTitle:"Student Activity",indexIcon:"fa-solid fa-building",provideFields:["subjects","holders"],createBtnLabel:this.#e("Create Student Activity"),indexTableKey:"STUDENT_KEY",columns:[{title:this.#e("name"),name:"name",searchable:!0,orderable:!1},{title:this.#e("unviresty"),name:"unviresty",searchable:!0,orderable:!1},{title:this.#e("college"),name:"college",searchable:!0,orderable:!1},{title:this.#e("created at"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy"}}]})}exportPdf(){import("./chunk-NV6VTVJE.js").then(t=>{import("./chunk-PAHSF4GP.js").then(i=>{let e=new t.default("p","px","a4");e.autoTable(this.exportColumns,this.records()),e.save("records.pdf")})})}exportExcel(){import("./chunk-4VY6OIZS.js").then(t=>{let i=this.records().map(ie=>{var M=ie,{subjects:ee,holders:te}=M,Y=F(M,["subjects","holders"]);return Y}),n={Sheets:{data:t.utils.json_to_sheet(i)},SheetNames:["data"]},o=t.write(n,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(o,"records")})}saveAsExcelFile(t,i){let e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",n=".xlsx",o=new Blob([t],{type:e});W.default.saveAs(o,i+"_export_"+new Date().getTime()+n)}#e(t){return this.translate.instant(t)}static \u0275fac=(()=>{let t;return function(e){return(t||(t=h(u)))(e||u)}})();static \u0275cmp=b({type:u,selectors:[["app-student-activity"]],standalone:!0,features:[g,C],decls:19,vars:43,consts:[[1,"flex","gap-2","mb-4"],["type","button","pButton","","icon","pi pi-file-excel text-xs","tooltipPosition","top",1,"text-xs","py-1","px-3",3,"click","label","pTooltip"],["type","button","pButton","","icon","pi pi-file-pdf text-xs","tooltipPosition","top",1,"text-xs","bg-pink","border-pink","py-1","px-3",3,"click","label","pTooltip"],["placeholderSearch","search Unviresty Or College Or Name","paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexRole","updateBtnRole","createBtnRole","deleteBtnRole","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withAdditionalContent"],["moreActions",""],[1,"list-none","m-0","p-0","flex","flex-wrap","gap-3","align-items-center"],["pButton","","icon","fa-solid fa-building","routerLink","/clients/company",1,"p-button-text","text-xs","py-2","shadow-none",3,"label"],["pButton","","icon","pi pi-users","routerLink","/clients/student-activities",1,"text-xs","py-2","shadow-none","text-white",3,"label"],["pButton","","icon","fa-solid fa-user","routerLink","/clients/individual",1,"p-button-text","text-xs","py-2","shadow-none",3,"label"]],template:function(i,e){if(i&1&&(a(0,"div",0)(1,"button",1),l(2,"translate"),l(3,"translate"),m("click",function(){return e.exportExcel()}),r(),a(4,"button",2),l(5,"translate"),l(6,"translate"),m("click",function(){return e.exportPdf()}),r()(),a(7,"app-table-wrapper",3),m("createBtnClicked",function(){return e.openCreateRecordDialog()})("updateBtnClicked",function(o){return e.openUpdateRecordDialog(o)})("deleteBtnClicked",function(o){return e.deleteRecord(o)})("onLoadData",function(o){return e.loadRecords(o)}),a(8,"div",4)(9,"ul",5)(10,"li"),v(11,"a",6),l(12,"translate"),r(),a(13,"li"),v(14,"a",7),l(15,"translate"),r(),a(16,"li"),v(17,"a",8),l(18,"translate"),r()()()()),i&2){let n,o;p(),d("label",s(2,29,"Excel"))("pTooltip",s(3,31,"export_as_excel")),p(3),d("label",s(5,33,"PDF"))("pTooltip",s(6,35,"export_as_pdf")),p(3),d("headerTitle",e.indexMeta.indexTitle)("titleIcon",e.indexMeta.indexIcon)("headerBtnLabel",e.indexMeta.createBtnLabel)("displayCreateButton",e.indexMeta.displayCreateButton)("columns",e.indexMeta.columns)("dataSource",e.records())("loading",e.isLoading())("totalRecords",e.totalRecords())("recordsFiltered",e.recordsFiltered())("stateKey",e.indexMeta.indexTableKey)("rows",e.rows())("indexRole",e.roles().index)("updateBtnRole",e.roles().update)("createBtnRole",e.roles().create)("deleteBtnRole",e.roles().delete)("withActionsColumn",e.indexMeta.withAction)("displayUpdateButton",e.indexMeta.displayUpdateButton)("displayDeleteButton",e.indexMeta.displayDeleteButton)("globalFilterValue",e.globalFilterValue)("reorderableColumns",(n=e.indexMeta.reorderableColumns)!==null&&n!==void 0?n:!1)("reorderableRows",(o=e.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withAdditionalContent",!0),p(4),d("label",s(12,37,"Company")),p(3),d("label",s(15,39,"Student Activity")),p(3),d("label",s(18,41,"Individual"))}},dependencies:[H,x,S,B,P,U,q,N,_,K],encapsulation:2,changeDetection:0})};export{T as default};
