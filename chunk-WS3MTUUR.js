import{A as X,D as J,F as Q,Fa as ae,H as Z,M as $,Ta as se,ca as ee,da as C,oa as M,va as ne,w as q,wa as oe,x as H}from"./chunk-H45ZYL4L.js";import{A as te,C as ie}from"./chunk-LBHIXMIT.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import{q as z}from"./chunk-AHOHCUBB.js";import{Bb as d,C as T,Cc as O,Ia as V,Kb as l,Lb as r,Mb as U,Nb as Y,Ob as A,Qb as k,Tb as b,Tc as W,Ub as v,W as L,db as f,dc as F,ea as x,fc as B,ia as m,ic as G,jc as K,kc as j,mc as h,pb as R,qb as D,ua as c,va as u,wb as N,xc as P,ya as y,yc as E}from"./chunk-PLVIENQC.js";import{a,b as p}from"./chunk-5KTCK5IS.js";var _=class{id;expensePlace_id;cost;constructor(i){this.id=i?.id||null,this.expensePlace_id=i?.expensePlace_id||null,this.cost=i?.cost||null}};var w=class n extends oe{#e=x(M);ngOnInit(){this.dialogMeta=p(a({},this.dialogMeta),{endpoints:{store:"expenses-child-place/store",update:"expenses-child-place/update"}}),this.editData&&this.editData.method!=="create"?(this.dialogMeta=p(a({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Cost Expenses"),submitButtonLabel:this.translate.instant("Update Cost Expenses")}),this.model=new _(this.editData)):(this.dialogMeta=p(a({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Cost Expenses"),submitButtonLabel:this.translate.instant("Create Cost Expenses")}),this.model=new _(this.editData)),this.fields=this.configureFields()}configureFields(){return[this.#e.fieldBuilder([{key:"cost",type:"floated-input-field",className:"col-12 md:col-6",props:{type:"number",label:"cost",required:!0}}])]}static \u0275fac=(()=>{let i;return function(e){return(i||(i=y(n)))(e||n)}})();static \u0275cmp=m({type:n,selectors:[["app-expenses-child-place-dialog"]],standalone:!0,features:[D,h],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(t,e){t&1&&(l(0,"app-form",0),P(1,"async"),b("onSubmit",function(){return e.createUpdateRecord(e.dialogMeta.endpoints)}),Y(2,1),l(3,"div",2)(4,"h2",3),F(5),r(),l(6,"button",4),b("click",function(){return e.closeDialog()}),r()(),A(),r()),t&2&&(d("form",e.createUpdateForm)("model",e.model)("fields",e.fields)("options",e.options)("showSubmitButton",e.dialogMeta.showSubmitButton)("buttonLabel",e.dialogMeta.submitButtonLabel)("isFiledsLoaded",E(1,9,e.dialogMeta.dialogData$))("submitBtnLoading",e.isLoading()),f(5),B(" ",e.dialogMeta.dialogTitle," "))},dependencies:[z,C,ie,te,ne],encapsulation:2,changeDetection:0})};var S=class n{#e=x(M);filtersData=R();model={};form=new H({});options={};fields=[this.#e.fieldBuilder([{key:"customFilters.start_date",type:"date-field",className:"md:col-4 col-12",props:{format:"YYYY-MM-DD",label:"start date"},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(T(t=>!!t),L(()=>{this.filtersData.update(t=>a(a({},t),this.model))}))}},{key:"customFilters.end_date",type:"date-field",className:"md:col-4 col-12",props:{format:"YYYY-MM-DD",label:"end date"},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(T(t=>!!t),L(()=>{this.filtersData.update(t=>a(a({},t),this.model))}))}}])];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=m({type:n,selectors:[["app-filter-expanse-child"]],inputs:{filtersData:[1,"filtersData"]},outputs:{filtersData:"filtersDataChange"},standalone:!0,features:[h],decls:5,vars:8,consts:[[1,"text-base","capitalize","font-medium","mb-3"],[3,"formGroup"],[3,"model","fields","form","options"]],template:function(t,e){t&1&&(l(0,"h1",0),F(1),P(2,"translate"),r(),l(3,"form",1),U(4,"formly-form",2),r()),t&2&&(f(),B(" ",E(2,6,"Filters Expanse")," : "),f(2),d("formGroup",e.form),f(),d("model",e.model)("fields",e.fields)("form",e.form)("options",e.options))},dependencies:[$,Z,Q,X,q,J,C,ee],encapsulation:2,changeDetection:0})};function pe(n,i){if(n&1){let t=k();l(0,"app-filter-expanse-child",2),j("filtersDataChange",function(o){c(t);let s=v();return K(s.filtersData,o)||(s.filtersData=o),u(o)}),r()}if(n&2){let t=v();G("filtersData",t.filtersData)}}var I=class n extends ae{id=V.required({transform:W});ngOnInit(){this.clearCachingLists.set(["expenses-place/index"]),this.dialogComponent=w,this.indexMeta=p(a({},this.indexMeta),{resourse:"settings-expenses-place",endpoints:{index:"expenses-child-place/index",delete:"expenses-child-place/delete"},indexTitle:"Expenses Place",indexIcon:"pi pi-money-bill",createBtnLabel:"Create Expenses Place",indexTableKey:"EXPENSES_CHILD_PLACE_KEY",columns:[{title:this.#e("cost"),name:"cost",searchable:!1,orderable:!0},{title:this.#e("created at"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}),this.initializePermissions(),this.filtersData.update(t=>p(a({},t),{expensePlace_id:this.id()}));let i={expensePlace_id:this.id(),method:"create"};this.dialogConfig=p(a({},this.dialogConfig),{data:i})}#e(i){return this.translate.instant(i)}static \u0275fac=(()=>{let i;return function(e){return(i||(i=y(n)))(e||n)}})();static \u0275cmp=m({type:n,selectors:[["app-expenses-child-place"]],inputs:{id:[1,"id"]},standalone:!0,features:[D,h],decls:3,vars:22,consts:[["customFiltersTemplate",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","createBtnPermission","deleteBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters"],[3,"filtersDataChange","filtersData"]],template:function(t,e){if(t&1){let o=k();l(0,"app-table-wrapper",1),b("createBtnClicked",function(){return c(o),u(e.openCreateRecordDialog())})("updateBtnClicked",function(g){return c(o),u(e.openUpdateRecordDialog(g))})("deleteBtnClicked",function(g){return c(o),u(e.deleteRecord(g))})("onLoadData",function(g){return c(o),u(e.loadRecords(g))}),N(1,pe,1,1,"ng-template",null,0,O),r()}if(t&2){let o,s;d("headerTitle",e.indexMeta.indexTitle)("titleIcon",e.indexMeta.indexIcon)("headerBtnLabel",e.indexMeta.createBtnLabel)("displayCreateButton",e.indexMeta.displayCreateButton)("columns",e.indexMeta.columns)("dataSource",e.records())("loading",e.isLoading())("totalRecords",e.totalRecords())("recordsFiltered",e.recordsFiltered())("stateKey",e.indexMeta.indexTableKey)("rows",e.rows())("indexPermission",e.permissions().index)("updateBtnPermission",e.permissions().update)("createBtnPermission",e.permissions().create)("deleteBtnPermission",e.permissions().delete)("withActionsColumn",e.indexMeta.withAction)("displayUpdateButton",e.indexMeta.displayUpdateButton)("displayDeleteButton",e.indexMeta.displayDeleteButton)("globalFilterValue",e.globalFilterValue)("reorderableColumns",(o=e.indexMeta.reorderableColumns)!==null&&o!==void 0?o:!1)("reorderableRows",(s=e.indexMeta.reorderableRows)!==null&&s!==void 0?s:!1)("withCustomFilters",!0)}},dependencies:[C,S,se],encapsulation:2,changeDetection:0})};export{I as default};
