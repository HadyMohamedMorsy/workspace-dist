import{D,aa as N,ba as T,c as R,n as S,o as M,r as C,u as P,w as k,y as B}from"./chunk-B2YRLTHG.js";import{A as E,C as I}from"./chunk-VGJJ4SUB.js";import"./chunk-NU2CE2PW.js";import{c as _,d as G,e as x}from"./chunk-DBWXYH2V.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import"./chunk-Y2JJNTGM.js";import{Ba as h,Bb as s,Kb as r,Lb as a,M as c,Mb as n,Tb as y,db as o,dc as v,ea as t,ec as b,ia as g,mc as F,nb as w,xc as l,yc as d}from"./chunk-I6HS2BDL.js";import{a as f,b as u}from"./chunk-5KTCK5IS.js";var p=class m{token;#t=t(N);#o=t(h);#e=t(T);#r=t(R);loading=w(!1);resetForm=new M({});model={};fields=[this.#e.fieldBuilder([{validators:{validation:[{name:"fieldMatch",options:{errorPath:"password_confirm"}}]},fieldGroup:[this.#e.fieldBuilder([{key:"password",type:"password-field",props:{placeholder:"auth.enter_password",toggleMask:!0}},{key:"password_confirm",type:"password-field",props:{placeholder:"auth.enter_password",toggleMask:!0}}])]}])];resetPassword(){this.resetForm.invalid||(this.model=u(f({},this.model),{token:this.token}),this.loading.set(!0),this.#t.resetPassword(this.model).pipe(c(()=>this.loading.set(!1)),x(this.#o)).subscribe({next:()=>this.#r.navigateByUrl("/dashboard")}))}static \u0275fac=function(i){return new(i||m)};static \u0275cmp=g({type:m,selectors:[["app-reset-password"]],inputs:{token:"token"},standalone:!0,features:[F],decls:10,vars:11,consts:[[1,"text-center","mb-3"],[1,"font-bold","text-xl"],[3,"ngSubmit","formGroup"],[3,"model","fields","form"],[1,"pt-3","border-top-1","border-300"],["pButton","","pRipple","","type","submit",1,"uppercase","text-base","w-full","bg-primary-color","border-none","shadow-none",3,"loading","label"]],template:function(i,e){i&1&&(r(0,"div",0)(1,"h1",1),v(2),l(3,"translate"),a()(),r(4,"form",2),y("ngSubmit",function(){return e.resetPassword()}),r(5,"div"),n(6,"formly-form",3),a(),r(7,"div",4),n(8,"button",5),l(9,"translate"),a()()),i&2&&(o(2),b(d(3,7,"Reset Password")),o(2),s("formGroup",e.resetForm),o(2),s("model",e.model)("fields",e.fields)("form",e.resetForm),o(2),s("loading",e.loading())("label",d(9,9,"submit")))},dependencies:[G,_,D,B,k,C,S,P,I,E],changeDetection:0})};export{p as default};
