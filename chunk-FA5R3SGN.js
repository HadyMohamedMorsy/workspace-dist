import{a as ue}from"./chunk-HLLFV5AO.js";import{Ea as de,N as X,O as ee,R as te,S as ie,ab as pe,ba as ae,bb as me,ga as oe,ha as re,qa as se,v as J}from"./chunk-B2YRLTHG.js";import{A as le,C as A}from"./chunk-VGJJ4SUB.js";import"./chunk-NU2CE2PW.js";import{c as ne,d as I}from"./chunk-DBWXYH2V.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import{q as z,t as H,w as Y}from"./chunk-Y2JJNTGM.js";import{Bb as h,Cc as f,Gb as g,Kb as a,Lb as o,Mb as T,Nb as Q,Ob as q,Qb as V,Tb as C,Ub as d,Xb as O,ac as y,bc as K,db as s,dc as p,ea as L,fc as b,hc as U,ia as F,ic as j,jc as W,kc as Z,mc as k,nb as x,ob as _,qb as E,ua as u,va as c,wa as $,wb as D,xc as m,ya as R,yc as B,zc as M}from"./chunk-I6HS2BDL.js";import{a as S,b as w}from"./chunk-5KTCK5IS.js";var P=class{id;note;constructor(n){this.id=n.id||null,this.note=n.note||null}};var N=class e extends re{#e=L(pe).getGlobalEntityList("categories");#i=L(ae);#t=L(me);dialogCategoryRef;isSingleUploading=x(!1);configDialog={showHeader:!1,width:"800px",height:"100%",modal:!0,focusOnShow:!1,styleClass:"m-0 max-h-full transform-none",position:this.#t.currentLanguage()==="en"?"right":"left",rtl:this.#t.currentLanguage()!=="en",closable:!0,closeOnEscape:!0,dismissableMask:!1};ngOnInit(){this.clearCachingLists.set(["individual/index","company/index","studentActivity/index","user/index","assign-general-offer/individual","assign-general-offer/company","assign-general-offer/studentActivity","assignes-membership/individual","assignes-membership/company","assignes-membership/studentActivity"]),this.dialogMeta=w(S({},this.dialogMeta),{dialogData$:this.#e,endpoints:{update:"shared/update-note"}}),this.editData&&(this.dialogMeta=w(S({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Shared Note"),submitButtonLabel:this.translate.instant("Update Shared Note")}),this.model=new P(this.editData)),this.#n()}#n(){this.fields=this.configureFields()}configureFields(){return[this.#i.fieldBuilder([{key:"note",type:"textarea-field",props:{label:"note",placeholder:"note"}}])]}static \u0275fac=(()=>{let n;return function(t){return(n||(n=R(e)))(t||e)}})();static \u0275cmp=F({type:e,selectors:[["app-shared-dialog"]],standalone:!0,features:[E,k],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(i,t){i&1&&(a(0,"app-form",0),m(1,"async"),C("onSubmit",function(){return t.createUpdateRecord(t.dialogMeta.endpoints)}),Q(2,1),a(3,"div",2)(4,"h2",3),p(5),o(),a(6,"button",4),C("click",function(){return t.closeDialog()}),o()(),q(),o()),i&2&&(h("form",t.createUpdateForm)("model",t.model)("fields",t.fields)("options",t.options)("showSubmitButton",t.dialogMeta.showSubmitButton)("buttonLabel",t.dialogMeta.submitButtonLabel)("isFiledsLoaded",B(1,9,t.dialogMeta.dialogData$))("submitBtnLoading",t.isLoading()),s(5),b(" ",t.dialogMeta.dialogTitle," "))},dependencies:[z,I,A,le,oe],encapsulation:2,changeDetection:0})};var _e=["status"],he=["start"],ge=["end"],Ce=["fullDay"],ye=["note"],be=["customerName"];function Se(e,n){if(e&1){let i=V();a(0,"app-filter-shared",8),Z("filtersDataChange",function(l){u(i);let r=d();return W(r.filtersData,l)||(r.filtersData=l),c(l)}),o()}if(e&2){let i=d();j("filtersData",i.filtersData)}}function we(e,n){if(e&1){let i=V();a(0,"div",9)(1,"p-dropdown",10),m(2,"translate"),C("onChange",function(l){u(i);let r=d();return c(r.filter(l,"status"))}),o()(),a(3,"div",9)(4,"p-dropdown",10),m(5,"translate"),C("onChange",function(l){u(i);let r=d();return c(r.filter(l,"is_full_day"))}),o()()}if(e&2){let i=d();s(),O("placeholder",B(2,6,"Select Status Shared")),h("options",i.filterStatusList())("filter",!0),s(3),O("placeholder",B(5,8,"Filter Full Day")),h("options",i.fullDayList())("filter",!0)}}function xe(e,n){if(e&1&&(a(0,"span"),p(1),o()),e&2){let i=d().$implicit;s(),b(" ",i.individual.name,"")}}function De(e,n){if(e&1&&(a(0,"span"),p(1),o()),e&2){let i=d().$implicit;s(),b(" ",i.company.name,"")}}function ve(e,n){if(e&1&&(a(0,"span"),p(1),o()),e&2){let i=d().$implicit;s(),b(" ",i.studentActivity.name,"")}}function Te(e,n){if(e&1&&D(0,xe,2,1,"span")(1,De,2,1,"span")(2,ve,2,1,"span"),e&2){let i=n.$implicit;g(i.individual?0:-1),s(),g(i.company?1:-1),s(),g(i.studentActivity?2:-1)}}function Be(e,n){if(e&1&&(a(0,"span"),p(1),m(2,"number"),m(3,"number"),o()),e&2){let i=d().$implicit;s(),U(" ",M(2,3,i.start_hour,"2.0-0")," : ",M(3,6,i.start_minute,"2.0-0")," : ",i.start_time," ")}}function Me(e,n){e&1&&p(0," \u2014\u2014 ")}function Le(e,n){if(e&1&&D(0,Be,4,9,"span")(1,Me,1,0),e&2){let i=n.$implicit;g(!i.is_full_day&&i.status!=="cancelled"?0:1)}}function Fe(e,n){if(e&1&&(a(0,"span"),p(1),m(2,"number"),m(3,"number"),o()),e&2){let i=d().$implicit;s(),U(" ",M(2,3,i.end_hour,"2.0-0")," : ",M(3,6,i.end_minute,"2.0-0")," : ",i.end_time,"")}}function Re(e,n){e&1&&p(0," \u2014\u2014 ")}function Ee(e,n){if(e&1&&D(0,Fe,4,9,"span")(1,Re,1,0),e&2){let i=n.$implicit;g(!i.is_full_day&&i.status!=="cancelled"?0:1)}}function Ve(e,n){if(e&1&&(a(0,"span",11),p(1),o()),e&2){let i=n.$implicit;h("pTooltip",i.note),s(),b(" ",i.note,"")}}function ke(e,n){e&1&&($(),a(0,"svg",12),T(1,"g",14)(2,"g",15),a(3,"g",16)(4,"g",17)(5,"g",18),T(6,"path",19),o()()()())}function Ie(e,n){e&1&&($(),a(0,"svg",13),T(1,"g",14)(2,"g",15),a(3,"g",16),T(4,"path",20),o()())}function Ae(e,n){if(e&1&&D(0,ke,7,0,":svg:svg",12)(1,Ie,5,0,":svg:svg",13),e&2){let i=n.$implicit;g(i.is_full_day?0:1)}}var G=class e extends se{status=_.required("status");start=_.required("start");end=_.required("end");fullDay=_.required("fullDay");note=_.required("note");customerName=_.required("customerName");statusList=x([{label:"active",value:"active"},{label:"cancelled",value:"cancelled"},{label:"complete",value:"complete"}]);fullDayList=x([{label:"all",value:null},{label:"full Day",value:1}]);filterStatusList=x([{label:"all",value:null},...this.statusList()]);filter(n,i){this.filtersData.update(t=>w(S({},t),{customFilters:n.value?{[i]:n.value}:null}))}ngOnInit(){this.dialogComponent=N,this.indexMeta=w(S({},this.indexMeta),{resourse:"shared",endpoints:{index:"shared/index"},indexTitle:"Shared",displayCreateButton:!1,displayDeleteButton:!1,indexIcon:"fa-solid fa-building",indexTableKey:"SHARED_KEY",columns:[{name:"id",title:this.#e("#ID"),searchable:!1,orderable:!1},{name:"status",title:this.#e("status"),searchable:!1,orderable:!1},{title:this.#e("selected day"),name:"selected_day",searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy"}},{title:this.#e("Customer Name"),name:"individual.name",searchable:!0,orderable:!1,render:this.customerName()},{name:null,title:this.#e("start Time"),searchable:!1,orderable:!1,render:this.start()},{name:null,title:this.#e("end Time"),searchable:!1,orderable:!1,render:this.end()},{name:"is_full_day",title:this.#e("is full day"),searchable:!1,orderable:!1,render:this.fullDay()},{title:this.#e("Total Paied"),name:"total_price",searchable:!1,orderable:!1},{title:this.#e("Offer discount type"),name:"assignGeneralOffer.generalOffer.type_discount",searchable:!1,orderable:!1},{title:this.#e("Offer discount"),name:"assignGeneralOffer.generalOffer.discount",searchable:!1,orderable:!1},{name:"total_time",title:this.#e("total time"),searchable:!1,orderable:!1},{title:this.#e("Note"),name:"note",searchable:!1,orderable:!1,render:this.note()},{title:this.#e("created by"),name:"createdBy",searchable:!1,orderable:!1},{title:this.#e("Created At"),name:"created_at",searchable:!1,orderable:!1,transform:{type:"date",filter:"M/d/yyyy h:mm:ss"}}]}),this.initializePermissions()}#e(n){return this.translate.instant(n)}static \u0275fac=(()=>{let n;return function(t){return(n||(n=R(e)))(t||e)}})();static \u0275cmp=F({type:e,selectors:[["app-shared"]],viewQuery:function(i,t){i&1&&(y(t.status,_e,5),y(t.start,he,5),y(t.end,ge,5),y(t.fullDay,Ce,5),y(t.note,ye,5),y(t.customerName,be,5)),i&2&&K(6)},standalone:!0,features:[E,k],decls:15,vars:21,consts:[["customFiltersTemplate",""],["additionalContentTemplate",""],["customerName",""],["start",""],["end",""],["note",""],["fullDay",""],["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withCustomFilters","withAdditionalContent"],[3,"filtersDataChange","filtersData"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"onChange","options","filter","placeholder"],["tooltipPosition","top",1,"line-clamp-1","white-space-nowrap","max-w-10rem",3,"pTooltip"],["width","25px","height","25px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","stroke","#ffffff"],["width","25px","height","25px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["id","style=fill"],["id","check-circle"],["id","Subtract","fill-rule","evenodd","clip-rule","evenodd","d","M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM16.5303 10.0303C16.8232 9.73744 16.8232 9.26256 16.5303 8.96967C16.2374 8.67678 15.7626 8.67678 15.4697 8.96967L10.8434 13.5959C10.7458 13.6935 10.5875 13.6935 10.4899 13.5959L8.53033 11.6363C8.23744 11.3434 7.76256 11.3434 7.46967 11.6363C7.17678 11.9292 7.17678 12.4041 7.46967 12.697L9.42923 14.6566C10.1126 15.34 11.2207 15.34 11.9041 14.6566L16.5303 10.0303Z","fill","#00bc3b"],["d","M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM15.36 14.3C15.65 14.59 15.65 15.07 15.36 15.36C15.21 15.51 15.02 15.58 14.83 15.58C14.64 15.58 14.45 15.51 14.3 15.36L12 13.06L9.7 15.36C9.55 15.51 9.36 15.58 9.17 15.58C8.98 15.58 8.79 15.51 8.64 15.36C8.35 15.07 8.35 14.59 8.64 14.3L10.94 12L8.64 9.7C8.35 9.41 8.35 8.93 8.64 8.64C8.93 8.35 9.41 8.35 9.7 8.64L12 10.94L14.3 8.64C14.59 8.35 15.07 8.35 15.36 8.64C15.65 8.93 15.65 9.41 15.36 9.7L13.06 12L15.36 14.3Z","fill","#ac060f"]],template:function(i,t){if(i&1){let l=V();a(0,"app-table-wrapper",7),C("createBtnClicked",function(){return u(l),c(t.openCreateRecordDialog())})("updateBtnClicked",function(v){return u(l),c(t.openUpdateRecordDialog(v))})("deleteBtnClicked",function(v){return u(l),c(t.deleteRecord(v))})("onLoadData",function(v){return u(l),c(t.loadRecords(v))}),D(1,Se,1,1,"ng-template",null,0,f)(3,we,6,10,"ng-template",null,1,f)(5,Te,3,3,"ng-template",null,2,f)(7,Le,2,1,"ng-template",null,3,f)(9,Ee,2,1,"ng-template",null,4,f)(11,Ve,2,2,"ng-template",null,5,f)(13,Ae,2,1,"ng-template",null,6,f),o()}if(i&2){let l,r;h("headerTitle",t.indexMeta.indexTitle)("titleIcon",t.indexMeta.indexIcon)("headerBtnLabel",t.indexMeta.createBtnLabel)("displayCreateButton",t.indexMeta.displayCreateButton)("columns",t.indexMeta.columns)("dataSource",t.records())("loading",t.isLoading())("totalRecords",t.totalRecords())("recordsFiltered",t.recordsFiltered())("stateKey",t.indexMeta.indexTableKey)("rows",t.rows())("indexPermission",t.permissions().index)("updateBtnPermission",t.permissions().update)("withActionsColumn",t.indexMeta.withAction)("displayUpdateButton",t.indexMeta.displayUpdateButton)("displayDeleteButton",t.indexMeta.displayDeleteButton)("globalFilterValue",t.globalFilterValue)("reorderableColumns",(l=t.indexMeta.reorderableColumns)!==null&&l!==void 0?l:!1)("reorderableRows",(r=t.indexMeta.reorderableRows)!==null&&r!==void 0?r:!1)("withCustomFilters",!0)("withAdditionalContent",!0)}},dependencies:[de,ie,te,ee,X,ue,J,Y,H,A,I,ne],encapsulation:2,changeDetection:0})};export{G as default};
