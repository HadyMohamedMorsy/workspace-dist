import{a as Kt,b as Ze,c as Qt,d as Wt,e as Xt,f as Jt,g as ei,h as ti,i as ii,j as ni}from"./chunk-CHWEFU3B.js";import{a as Zt}from"./chunk-X3LLGXGY.js";import{N as Et,Na as Gt,O as pe,Ra as Ke,S as ve,Sa as zt,U as Vt,V as Ht,W as Nt,X as ke,Ya as Yt,ab as G,ba as te,c as Dt,d as be,e as wt,ga as ie,ha as ne,ia as xe,ja as jt,k as je,pa as qt}from"./chunk-B2YRLTHG.js";import{A as B,B as Ut,C as V,b as St,c as ye,j as Ot,k as Pt,n as Ft,o as Ye,r as D,s as Lt,w as At,x as Rt}from"./chunk-VGJJ4SUB.js";import{l as It}from"./chunk-NU2CE2PW.js";import{b as Bt,c as Ce,d as q,e as $t}from"./chunk-DBWXYH2V.js";import{c as Tt,d as qe,f as Ge,h as ze}from"./chunk-JXG4LUU7.js";import{d as Ct,k as re,l as kt,m as xt,n as He,o as Ne,p as $e,q as ee,s as Ue,w as Mt,y as le}from"./chunk-Y2JJNTGM.js";import{$ as at,$a as mt,$b as he,Ab as N,Ba as lt,Bb as s,Cc as _e,Da as W,Fb as se,Gb as Ae,Hb as ut,Ia as A,Ib as ft,Ja as pt,Jb as ht,Kb as c,Lb as d,Mb as F,Na as Fe,Nb as U,Ob as j,Oc as vt,Pb as Y,Qb as z,Sc as Be,Tb as b,Tc as Ve,U as $,Ub as p,Uc as I,W as T,Yb as gt,Z as ot,Zb as Re,_a as Le,_b as fe,b as nt,cc as K,db as m,dc as L,ea as h,eb as H,ec as ge,fc as J,gc as _t,ia as k,ja as st,kb as ct,la as rt,lc as bt,mc as R,nb as _,nc as yt,oc as E,pc as Z,qb as X,qc as Ee,r as v,rb as dt,s as ue,ua as S,va as O,wb as u,xc as x,ya as Q,yc as M}from"./chunk-I6HS2BDL.js";import{a as y,b as C,g as di}from"./chunk-5KTCK5IS.js";var ui=di((Qe,We)=>{"use strict";(function(n,i){typeof define=="function"&&define.amd?define([],i):typeof Qe<"u"?i():(i(),n.FileSaver={})})(Qe,function(){"use strict";function n(l,r){return typeof r>"u"?r={autoBom:!1}:typeof r!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}function i(l,r,w){var g=new XMLHttpRequest;g.open("GET",l),g.responseType="blob",g.onload=function(){f(g.response,r,w)},g.onerror=function(){console.error("could not download file")},g.send()}function e(l){var r=new XMLHttpRequest;r.open("HEAD",l,!1);try{r.send()}catch{}return 200<=r.status&&299>=r.status}function t(l){try{l.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),l.dispatchEvent(r)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(l,r,w){var g=o.URL||o.webkitURL,P=document.createElement("a");r=r||l.name||"download",P.download=r,P.rel="noopener",typeof l=="string"?(P.href=l,P.origin===location.origin?t(P):e(P.href)?i(l,r,w):t(P,P.target="_blank")):(P.href=g.createObjectURL(l),setTimeout(function(){g.revokeObjectURL(P.href)},4e4),setTimeout(function(){t(P)},0))}:"msSaveOrOpenBlob"in navigator?function(l,r,w){if(r=r||l.name||"download",typeof l!="string")navigator.msSaveOrOpenBlob(n(l,w),r);else if(e(l))i(l,r,w);else{var g=document.createElement("a");g.href=l,g.target="_blank",setTimeout(function(){t(g)})}}:function(l,r,w,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof l=="string")return i(l,r,w);var P=l.type==="application/octet-stream",ci=/constructor/i.test(o.HTMLElement)||o.safari,tt=/CriOS\/[\d]+/.test(navigator.userAgent);if((tt||P&&ci||a)&&typeof FileReader<"u"){var Oe=new FileReader;Oe.onloadend=function(){var ae=Oe.result;ae=tt?ae:ae.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=ae:location=ae,g=null},Oe.readAsDataURL(l)}else{var it=o.URL||o.webkitURL,Pe=it.createObjectURL(l);g?g.location=Pe:location.href=Pe,g=null,setTimeout(function(){it.revokeObjectURL(Pe)},4e4)}});o.saveAs=f.saveAs=f,typeof We<"u"&&(We.exports=f)})});var fi=["pMenuItemContent",""],oi=n=>({"p-disabled":n}),Me=n=>({$implicit:n}),hi=()=>({exact:!1});function gi(n,i){n&1&&Y(0)}function _i(n,i){if(n&1&&(c(0,"a",6),u(1,gi,1,0,"ng-container",7),d()),n&2){let e=p(2),t=K(4);s("target",e.item.target)("ngClass",E(9,oi,e.item.disabled)),N("title",e.item.title)("href",e.item.url||null,mt)("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action"),m(),s("ngTemplateOutlet",t)("ngTemplateOutletContext",E(11,Me,e.item))}}function bi(n,i){n&1&&Y(0)}function yi(n,i){if(n&1&&(c(0,"a",8),u(1,bi,1,0,"ng-container",7),d()),n&2){let e=p(2),t=K(4);s("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||yt(17,hi))("target",e.item.target)("ngClass",E(18,oi,e.item.disabled))("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state),N("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action")("title",e.item.title),m(),s("ngTemplateOutlet",t)("ngTemplateOutletContext",E(20,Me,e.item))}}function vi(n,i){if(n&1&&(U(0),u(1,_i,2,13,"a",4)(2,yi,2,22,"a",5),j()),n&2){let e=p();m(),s("ngIf",!(e.item!=null&&e.item.routerLink)),m(),s("ngIf",e.item==null?null:e.item.routerLink)}}function Ci(n,i){}function ki(n,i){n&1&&u(0,Ci,0,0,"ng-template")}function xi(n,i){if(n&1&&(U(0),u(1,ki,1,0,null,7),j()),n&2){let e=p();m(),s("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",E(2,Me,e.item))}}function Mi(n,i){if(n&1&&F(0,"span",12),n&2){let e=p(2);se(e.item.iconClass),s("ngClass",e.item.icon)("ngStyle",e.item.iconStyle)}}function Ii(n,i){if(n&1&&(c(0,"span",13),L(1),d()),n&2){let e=p(2);m(),ge(e.item.label)}}function Di(n,i){if(n&1&&(F(0,"span",14),x(1,"safeHtml")),n&2){let e=p(2);s("innerHTML",M(1,1,e.item.label),Le)}}function wi(n,i){if(n&1&&(c(0,"span",15),L(1),d()),n&2){let e=p(2);s("ngClass",e.item.badgeStyleClass),m(),ge(e.item.badge)}}function Ti(n,i){if(n&1&&u(0,Mi,1,4,"span",9)(1,Ii,2,1,"span",10)(2,Di,2,3,"ng-template",null,1,_e)(4,wi,2,2,"span",11),n&2){let e=K(3),t=p();s("ngIf",t.item.icon),m(),s("ngIf",t.item.escape!==!1)("ngIfElse",e),m(3),s("ngIf",t.item.badge)}}var Si=["list"],Oi=["container"],Pi=n=>({"p-menu p-component":!0,"p-menu-overlay":n}),Fi=(n,i)=>({showTransitionParams:n,hideTransitionParams:i}),Li=n=>({value:"visible",params:n}),Xe=n=>({"p-hidden":n}),Ai=(n,i)=>({"p-hidden":n,flex:i}),ai=(n,i,e)=>({"p-hidden":n,"p-focus":i,"p-disabled":e});function Ri(n,i){n&1&&Y(0)}function Ei(n,i){if(n&1&&(c(0,"div",9),u(1,Ri,1,0,"ng-container",10),d()),n&2){let e=p(2);N("data-pc-section","start"),m(),s("ngTemplateOutlet",e.startTemplate)}}function Bi(n,i){if(n&1&&F(0,"li",14),n&2){let e=p().$implicit;s("ngClass",E(1,Xe,e.visible===!1))}}function Vi(n,i){if(n&1&&(c(0,"span"),L(1),d()),n&2){let e=p(3).$implicit;m(),ge(e.label)}}function Hi(n,i){if(n&1&&(F(0,"span",18),x(1,"safeHtml")),n&2){let e=p(3).$implicit;s("innerHTML",M(1,1,e.label),Le)}}function Ni(n,i){if(n&1&&(U(0),u(1,Vi,2,1,"span",17)(2,Hi,2,3,"ng-template",null,2,_e),j()),n&2){let e=K(3),t=p(2).$implicit;m(),s("ngIf",t.escape!==!1)("ngIfElse",e)}}function $i(n,i){n&1&&Y(0)}function Ui(n,i){if(n&1&&(c(0,"li",15),u(1,Ni,4,2,"ng-container",7)(2,$i,1,0,"ng-container",16),d()),n&2){let e=p(),t=e.$implicit,o=e.index,a=p(3);s("ngClass",Z(7,Ai,t.visible===!1,t.visible))("tooltipOptions",t.tooltipOptions),N("data-automationid",t.automationId)("id",a.menuitemId(t,a.id,o)),m(),s("ngIf",!a.submenuHeaderTemplate),m(),s("ngTemplateOutlet",a.submenuHeaderTemplate)("ngTemplateOutletContext",E(10,Me,t))}}function ji(n,i){if(n&1&&F(0,"li",14),n&2){let e=p().$implicit,t=p().$implicit;s("ngClass",E(1,Xe,e.visible===!1||t.visible===!1))}}function qi(n,i){if(n&1){let e=z();c(0,"li",20),b("onMenuItemClick",function(o){S(e);let a=p(),f=a.$implicit,l=a.index,r=p().index,w=p(3);return O(w.itemClick(o,w.menuitemId(f,w.id,r,l)))}),d()}if(n&2){let e=p(),t=e.$implicit,o=e.index,a=p(),f=a.$implicit,l=a.index,r=p(3);se(t.styleClass),s("pMenuItemContent",t)("itemTemplate",r.itemTemplate)("ngClass",Ee(13,ai,t.visible===!1||f.visible===!1,r.focusedOptionId()&&r.menuitemId(t,r.id,l,o)===r.focusedOptionId(),r.disabled(t.disabled)))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),N("data-pc-section","menuitem")("aria-label",r.label(t.label))("data-p-focused",r.isItemFocused(r.menuitemId(t,r.id,l,o)))("data-p-disabled",r.disabled(t.disabled))("aria-disabled",r.disabled(t.disabled))("id",r.menuitemId(t,r.id,l,o))}}function Gi(n,i){if(n&1&&u(0,ji,1,3,"li",12)(1,qi,1,17,"li",19),n&2){let e=i.$implicit;s("ngIf",e.separator),m(),s("ngIf",!e.separator)}}function zi(n,i){if(n&1&&u(0,Bi,1,3,"li",12)(1,Ui,3,12,"li",13)(2,Gi,2,2,"ng-template",11),n&2){let e=i.$implicit;s("ngIf",e.separator),m(),s("ngIf",!e.separator),m(),s("ngForOf",e.items)}}function Yi(n,i){if(n&1&&u(0,zi,3,3,"ng-template",11),n&2){let e=p(2);s("ngForOf",e.model)}}function Ki(n,i){if(n&1&&F(0,"li",14),n&2){let e=p().$implicit;s("ngClass",E(1,Xe,e.visible===!1))}}function Zi(n,i){if(n&1){let e=z();c(0,"li",20),b("onMenuItemClick",function(o){S(e);let a=p(),f=a.$implicit,l=a.index,r=p(3);return O(r.itemClick(o,r.menuitemId(f,r.id,l)))}),d()}if(n&2){let e=p(),t=e.$implicit,o=e.index,a=p(3);se(t.styleClass),s("pMenuItemContent",t)("itemTemplate",a.itemTemplate)("ngClass",Ee(13,ai,t.visible===!1,a.focusedOptionId()&&a.menuitemId(t,a.id,o,a.j)===a.focusedOptionId(),a.disabled(t.disabled)))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),N("data-pc-section","menuitem")("aria-label",a.label(t.label))("data-p-focused",a.isItemFocused(a.menuitemId(t,a.id,o)))("data-p-disabled",a.disabled(t.disabled))("aria-disabled",a.disabled(t.disabled))("id",a.menuitemId(t,a.id,o))}}function Qi(n,i){if(n&1&&u(0,Ki,1,3,"li",12)(1,Zi,1,17,"li",19),n&2){let e=i.$implicit;s("ngIf",e.separator),m(),s("ngIf",!e.separator)}}function Wi(n,i){if(n&1&&u(0,Qi,2,2,"ng-template",11),n&2){let e=p(2);s("ngForOf",e.model)}}function Xi(n,i){n&1&&Y(0)}function Ji(n,i){if(n&1&&(c(0,"div",21),u(1,Xi,1,0,"ng-container",10),d()),n&2){let e=p(2);N("data-pc-section","end"),m(),s("ngTemplateOutlet",e.endTemplate)}}function en(n,i){if(n&1){let e=z();c(0,"div",4,0),b("click",function(o){S(e);let a=p();return O(a.onOverlayClick(o))})("@overlayAnimation.start",function(o){S(e);let a=p();return O(a.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){S(e);let a=p();return O(a.onOverlayAnimationEnd(o))}),u(2,Ei,2,2,"div",5),c(3,"ul",6,1),b("focus",function(o){S(e);let a=p();return O(a.onListFocus(o))})("blur",function(o){S(e);let a=p();return O(a.onListBlur(o))})("keydown",function(o){S(e);let a=p();return O(a.onListKeyDown(o))}),u(5,Yi,1,1,null,7)(6,Wi,1,1,null,7),d(),u(7,Ji,2,2,"div",8),d()}if(n&2){let e=p();se(e.styleClass),s("ngClass",E(18,Pi,e.popup))("ngStyle",e.style)("@overlayAnimation",E(23,Li,Z(20,Fi,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),N("data-pc-name","menu")("id",e.id),m(2),s("ngIf",e.startTemplate),m(),N("id",e.id+"_list")("tabindex",e.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",e.activedescendant())("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),m(2),s("ngIf",e.hasSubMenu()),m(),s("ngIf",!e.hasSubMenu()),m(),s("ngIf",e.endTemplate)}}var si=(()=>{class n{platformId;sanitizer;constructor(e,t){this.platformId=e,this.sanitizer=t}transform(e){return!e||!le(this.platformId)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||n)(H(Fe,16),H(It,16))};static \u0275pipe=rt({name:"safeHtml",type:n,pure:!0})}return n})(),tn=(()=>{class n{item;itemTemplate;onMenuItemClick=new W;menu;constructor(e){this.menu=e}onItemClick(e,t){this.onMenuItemClick.emit({originalEvent:e,item:t})}static \u0275fac=function(t){return new(t||n)(H(ot(()=>Je)))};static \u0275cmp=k({type:n,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate"},outputs:{onMenuItemClick:"onMenuItemClick"},attrs:fi,decls:5,vars:3,consts:[["itemContent",""],["htmlLabel",""],[1,"p-menuitem-content",3,"click"],[4,"ngIf"],["class","p-menuitem-link","pRipple","",3,"target","ngClass",4,"ngIf"],["routerLinkActive","p-menuitem-link-active","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",1,"p-menuitem-link",3,"target","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menuitem-link-active","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"]],template:function(t,o){if(t&1){let a=z();c(0,"div",2),b("click",function(l){return S(a),O(o.onItemClick(l,o.item))}),u(1,vi,3,2,"ng-container",3)(2,xi,2,4,"ng-container",3)(3,Ti,5,4,"ng-template",null,0,_e),d()}t&2&&(N("data-pc-section","content"),m(),s("ngIf",!o.itemTemplate),m(),s("ngIf",o.itemTemplate))},dependencies:[re,He,$e,Ne,be,wt,At,si],encapsulation:2})}return n})(),Je=(()=>{class n{document;platformId;el;renderer;cd;config;overlayService;model;popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;onShow=new W;onHide=new W;onBlur=new W;onFocus=new W;listViewChild;containerViewChild;templates;startTemplate;endTemplate;itemTemplate;submenuHeaderTemplate;container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=I(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=_(-1);selectedOptionIndex=_(-1);focused=!1;overlayVisible=!1;relativeAlign;constructor(e,t,o,a,f,l,r){this.document=e,this.platformId=t,this.el=o,this.renderer=a,this.cd=f,this.config=l,this.overlayService=r,this.id=this.id||St()}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.visible&&this.target!==e.currentTarget&&this.hide(),this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.detectChanges()}ngOnInit(){this.popup||this.bindDocumentClickListener()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template;break;case"itemTemplate":this.itemTemplate=e.template;break;case"submenuheader":this.submenuHeaderTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),D.focus(this.listViewChild.nativeElement),this.preventDocumentDefault=!0);break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.autoZIndex&&ye.clear(e.element);break}}alignOverlay(){this.relativeAlign?D.relativePosition(this.container,this.target):D.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):D.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&ye.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.detectChanges()}onWindowResize(){this.visible&&!D.isTouchDevice()&&this.hide()}menuitemId(e,t,o,a){return e?.id??`${t}_${o}${a!==void 0?"_"+a:""}`}isItemFocused(e){return this.focusedOptionId()===e}label(e){return typeof e=="function"?e():e}disabled(e){return typeof e=="function"?e():typeof e>"u"?!1:e}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(e){this.focused||(this.focused=!0,this.onFocus.emit(e))}onListBlur(e){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(e))}onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":case"Tab":this.popup&&(D.focus(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(e){let t=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(t),e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.popup)D.focus(this.target),this.hide(),e.preventDefault();else{let t=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(t),e.preventDefault()}}onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()}onEndKey(e){this.changeFocusedOptionIndex(D.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()}onEnterKey(e){let t=D.findSingle(this.containerViewChild.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),o=t&&D.findSingle(t,"a");this.popup&&D.focus(this.target),o?o.click():t&&t.click(),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextOptionIndex(e){let o=[...D.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(a=>a.id===e);return o>-1?o+1:0}findPrevOptionIndex(e){let o=[...D.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(a=>a.id===e);return o>-1?o-1:0}changeFocusedOptionIndex(e){let t=D.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(t.length>0){let o=e>=t.length?t.length-1:e<0?0:e;o>-1&&this.focusedOptionIndex.set(t[o].getAttribute("id"))}}itemClick(e,t){let{originalEvent:o,item:a}=e;if(this.focused||(this.focused=!0,this.onFocus.emit()),a.disabled){o.preventDefault();return}!a.url&&!a.routerLink&&o.preventDefault(),a.command&&a.command({originalEvent:o,item:a}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==t&&this.focusedOptionIndex.set(t)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&le(this.platformId)){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",t=>{let o=t.composed?t.composedPath()[0]:t.target,a=this.containerViewChild?.nativeElement&&!this.containerViewChild?.nativeElement.contains(o),f=!(this.target&&(this.target===o||this.target.contains(o)));!this.popup&&a&&f&&this.onListBlur(t),this.preventDocumentDefault&&this.overlayVisible&&a&&f&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&le(this.platformId)){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&le(this.platformId)&&(this.scrollHandler=new Lt(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&ye.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener()}hasSubMenu(){if(this.model){for(var e of this.model)if(e.items)return!0}return!1}isItemHidden(e){return e.separator?e.visible===!1||e.items&&e.items.some(t=>t.visible!==!1):e.visible===!1}static \u0275fac=function(t){return new(t||n)(H(Ct),H(Fe),H(pt),H(ct),H(vt),H(Pt),H(Ot))};static \u0275cmp=k({type:n,selectors:[["p-menu"]],contentQueries:function(t,o,a){if(t&1&&gt(a,Ft,4),t&2){let f;fe(f=he())&&(o.templates=f)}},viewQuery:function(t,o){if(t&1&&(Re(Si,5),Re(Oi,5)),t&2){let a;fe(a=he())&&(o.listViewChild=a.first),fe(a=he())&&(o.containerViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",Be],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",Be],baseZIndex:[2,"baseZIndex","baseZIndex",Ve],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",Ve]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[dt],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","ngClass","ngStyle"],["class","p-menu-start",4,"ngIf"],["role","menu",1,"p-menu-list","p-reset",3,"focus","blur","keydown"],[4,"ngIf"],["class","p-menu-end",4,"ngIf"],[1,"p-menu-start"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["class","p-menuitem-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menuitem-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","menuitem",3,"pMenuItemContent","itemTemplate","ngClass","ngStyle","class","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",1,"p-menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","ngClass","ngStyle","tooltipOptions"],[1,"p-menu-end"]],template:function(t,o){t&1&&u(0,en,8,25,"div",3),t&2&&s("ngIf",!o.popup||o.visible)},dependencies:[re,xt,He,$e,Ne,Et,tn,si],styles:[`@layer primeng{.p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}}
`],encapsulation:2,data:{animation:[Tt("overlayAnimation",[ze(":enter",[Ge({opacity:0,transform:"scaleY(0.8)"}),qe("{{showTransitionParams}}")]),ze(":leave",[qe("{{hideTransitionParams}}",Ge({opacity:0}))])])]},changeDetection:0})}return n})(),ri=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=st({type:n});static \u0275inj=at({imports:[Mt,je,Rt,pe,Ye,je,pe,Ye]})}return n})();var Ie=class{id;customer_id;offer_id;membership_id;type_user;start_date;end_date;constructor(i){this.id=i?.id||null,this.customer_id=i?.customer_id||null,this.offer_id=i?.offer_id||null,this.membership_id=i?.membership_id||null,this.type_user=i?.type_user||"individual",this.start_date=i?.start_date||null,this.end_date=i?.end_date||null}};var De=class n extends ne{#i=h(te);#e=h(G).getGlobalEntityList("membership-offer-shared");#t=h(G).getGlobalEntityList("membership-offer-deskarea");#n=h(G).getGlobalEntityList("global-offer-membership");totalPrice=_(0);offerPrice=_(0);typeOffer=_("amount");ngOnInit(){this.clearCachingLists.set(["individual/index","company/index","studentActivity/index","assignes-membership/individual","assignes-membership/company","assignes-membership/studentActivity","assignes-membership/user"]),this.dialogMeta=C(y({},this.dialogMeta),{dialogData$:this.#e,endpoints:{store:"assignes-membership/store"}}),this.dialogMeta=C(y({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Memeber Ship"),submitButtonLabel:this.translate.instant("Create Memeber Ship")}),this.model=new Ie(this.editData),this.fields=this.configureFields()}configureFields(){return[this.#i.fieldBuilder([{key:"start_date",type:"date-field",className:"col-12 md:col-4",props:{minDate:new Date,required:!0,format:"YYYY-MM-DD",hourFormat:"24",label:"start date"}},{key:"end_date",type:"date-field",className:"col-12 md:col-4",props:{minDate:new Date,required:!0,format:"YYYY-MM-DD",hourFormat:"24",label:"end date"}},{key:"offer_id",type:"select-field",props:{isFloatedLabel:!0,label:"Global Offer",placeholder:"Global Offer",options:this.#n.pipe(v(i=>i.map(e=>({label:e.name,value:e.id}))))},hooks:{onInit:i=>i.formControl?.valueChanges.pipe($(e=>this.#n.pipe(v(t=>t.find(o=>o.id===e)),T(t=>{let o=t.type_discount,a=t.discount;this.typeOffer.set(o),this.offerPrice.set(a);let l=i?.parent?.parent?.fieldGroup?.[1]?.get?.("price");this.#o(l)}))))}}]),this.#i.fieldBuilder([{key:"choose_package",type:"select-field",className:"col-12 md:col-4",props:{isFloatedLabel:!0,label:"type",options:[{label:"shared",value:"shared"},{label:"deskarea",value:"deskarea"}]},hooks:{onInit:i=>i?.formControl?.valueChanges.pipe($(e=>{let t=i?.parent?.get?.("membership_id");return e==="shared"?this.#e.pipe(v(o=>o.map(a=>y({label:a.name,value:a.id},a))),T(o=>{t?.props&&(t.props.options=o)})):this.#t.pipe(nt(v(o=>o.map(a=>y({label:a.name,value:a.id},a))),T(o=>{t?.props&&(t.props.options=o)})))}))}},{key:"membership_id",type:"select-field",className:"col-12 md:col-4",props:{isFloatedLabel:!0,label:"Memeber ship",options:this.#e.pipe(v(i=>i.map(e=>y({label:e.name,value:e.id},e))))},hooks:{onInit:i=>i?.formControl?.valueChanges.pipe($(e=>{let t=i?.parent?.parent?.fieldGroup?.[1].get?.("choose_package")?.formControl?.value,o=i?.parent?.get?.("total_price");return t==="shared"?this.#e.pipe(v(a=>a.find(f=>f.id===e)),T(a=>{this.totalPrice.set(a.price),this.#o(o)})):this.#t.pipe(v(a=>a.find(f=>f.id===e)),T(a=>{this.totalPrice.set(a.price),this.#o(o)}))}))}},{key:"total_price",type:"floated-input-field",className:"col-12 md:col-4",props:{disabled:!0,type:"number",required:!0,label:"total price"}}])]}#o(i){if(!this.totalPrice())return;let e=this.typeOffer()==="amount"?this.offerPrice():this.totalPrice()*(this.offerPrice()/100);i?.formControl?.setValue(this.totalPrice()-e)}static \u0275fac=(()=>{let i;return function(t){return(i||(i=Q(n)))(t||n)}})();static \u0275cmp=k({type:n,selectors:[["app-assign-memeber-ship"]],standalone:!0,features:[X,R],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(e,t){e&1&&(c(0,"app-form",0),x(1,"async"),b("onSubmit",function(){return t.createUpdateRecord(t.dialogMeta.endpoints)}),U(2,1),c(3,"div",2)(4,"h2",3),L(5),d(),c(6,"button",4),b("click",function(){return t.closeDialog()}),d()(),j(),d()),e&2&&(s("form",t.createUpdateForm)("model",t.model)("fields",t.fields)("options",t.options)("showSubmitButton",t.dialogMeta.showSubmitButton)("buttonLabel",t.dialogMeta.submitButtonLabel)("isFiledsLoaded",M(1,9,t.dialogMeta.dialogData$))("submitBtnLoading",t.isLoading()),m(5),J(" ",t.dialogMeta.dialogTitle," "))},dependencies:[ee,q,ve,V,B,ie],encapsulation:2,changeDetection:0})};var we=class{id;customer_id;offer_id;package_id;type_user;start_date;end_date;constructor(i){this.id=i?.id||null,this.customer_id=i?.customer_id||null,this.offer_id=i?.offer_id||null,this.package_id=i?.package_id||null,this.type_user=i?.type_user||"individual",this.start_date=i?.start_date||null,this.end_date=i?.end_date||null}};var Te=class n extends ne{#i=h(te);#e=h(G).getGlobalEntityList("offer-package-offer");#t=h(G).getGlobalEntityList("global-offer-packages");totalHour=_(0);priceOfHour=_(0);offerPrice=_(0);typeOffer=_("amount");ngOnInit(){this.clearCachingLists.set(["individual/index","company/index","studentActivity/index","assignes-package/individual","assignes-package/company","assignes-package/studentActivity","assignes-package/user"]),this.dialogMeta=C(y({},this.dialogMeta),{dialogData$:ue([this.#e,this.#t]),endpoints:{store:"assignes-package/store"}}),this.dialogMeta=C(y({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Packages Rooms"),submitButtonLabel:this.translate.instant("Create Packages Rooms")}),this.model=new we(this.editData),this.fields=this.configureFields()}configureFields(){return[this.#i.fieldBuilder([{key:"package_id",type:"select-field",className:"col-12 md:col-4",props:{isFloatedLabel:!0,label:"Rooms",options:this.#e.pipe(v(i=>i.map(e=>({label:e.name,value:e.id}))))},hooks:{onInit:i=>i?.formControl?.valueChanges.pipe($(e=>{let t=i?.parent?.get?.("total_price");return this.#e.pipe(v(o=>o.find(a=>a.id===e)),T(o=>{this.totalHour.set(o.hours),this.priceOfHour.set(o.price),this.#n(t),i.props&&(i.props.description=`Capacity This Room Is ${o.room.capacity}`)}))}))}},{key:"offer_id",type:"select-field",className:"col-12 md:col-4",props:{isFloatedLabel:!0,label:"Global Offer",placeholder:"Global Offer",options:this.#t.pipe(v(i=>i.map(e=>({label:e.name,value:e.id}))))},hooks:{onInit:i=>i.formControl?.valueChanges.pipe($(e=>this.#t.pipe(v(t=>t.find(o=>o.id===e)),T(t=>{let o=t.type_discount,a=t.discount;this.typeOffer.set(o),this.offerPrice.set(a);let l=i?.parent?.parent?.fieldGroup?.[0]?.get?.("total_price");this.#n(l)}))))}},{key:"total_price",type:"floated-input-field",className:"col-12 md:col-4",props:{disabled:!0,type:"number",required:!0,label:"total price"}},{key:"start_date",type:"date-field",className:"col-12 md:col-4",props:{minDate:new Date,required:!0,format:"YYYY-MM-DD",hourFormat:"24",label:"start date"}},{key:"end_date",type:"date-field",className:"col-12 md:col-4",props:{minDate:new Date,required:!0,format:"YYYY-MM-DD",hourFormat:"24",label:"end date"}}])]}#n(i){if(!this.priceOfHour())return;let e=this.priceOfHour()*this.totalHour(),t=this.typeOffer()==="amount"?this.offerPrice():e*(this.offerPrice()/100);i?.formControl?.setValue(e-t)}static \u0275fac=(()=>{let i;return function(t){return(i||(i=Q(n)))(t||n)}})();static \u0275cmp=k({type:n,selectors:[["app-assign-package"]],standalone:!0,features:[X,R],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(e,t){e&1&&(c(0,"app-form",0),x(1,"async"),b("onSubmit",function(){return t.createUpdateRecord(t.dialogMeta.endpoints)}),U(2,1),c(3,"div",2)(4,"h2",3),L(5),d(),c(6,"button",4),b("click",function(){return t.closeDialog()}),d()(),j(),d()),e&2&&(s("form",t.createUpdateForm)("model",t.model)("fields",t.fields)("options",t.options)("showSubmitButton",t.dialogMeta.showSubmitButton)("buttonLabel",t.dialogMeta.submitButtonLabel)("isFiledsLoaded",M(1,9,t.dialogMeta.dialogData$))("submitBtnLoading",t.isLoading()),m(5),J(" ",t.dialogMeta.dialogTitle," "))},dependencies:[ee,q,ve,V,B,ie],encapsulation:2,changeDetection:0})};var de=class{id;room_id;offer_id;hours;price_hour;total;type_user;customer_id;constructor(i){this.id=i?.id||null,this.room_id=i?.room_id||null,this.offer_id=i?.offer_id||null,this.hours=i?.hours||null,this.price_hour=i?.price_hour??0,this.total=i?.total??0,this.type_user=i?.type_user||"individual",this.customer_id=i?.customer_id||null}};var Se=class n extends ne{#i=h(te);#e=h(G).getGlobalEntityList("room");#t=h(G).getGlobalEntityList("global-offer-packages");totalHour=_(0);priceOfHour=_(0);offerPrice=_(0);typeOffer=_("amount");ngOnInit(){this.clearCachingLists.set(["individual/index","company/index","studentActivity/index","deals/individual","deals/company","deals/studentActivity","deals/user"]),this.dialogMeta=C(y({},this.dialogMeta),{dialogData$:ue([this.#e,this.#t]),endpoints:{store:"deals/store",update:"deals/update"}}),this.editData&&this.editData.method!=="create"?(this.dialogMeta=C(y({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Deal"),submitButtonLabel:this.translate.instant("Update Deal")}),this.model=new de(this.editData)):(this.dialogMeta=C(y({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Deal"),submitButtonLabel:this.translate.instant("Create Deal")}),this.model=new de(this.editData)),this.fields=this.configureFields()}configureFields(){return[this.#i.fieldBuilder([{key:"start_date",type:"date-field",props:{required:!0,minDate:new Date,format:"YYYY-MM-DD",hourFormat:"24",label:"start date"}},{key:"end_date",type:"date-field",props:{required:!0,minDate:new Date,format:"YYYY-MM-DD",hourFormat:"24",label:"end date"}},{key:"room_id",type:"select-field",props:{isFloatedLabel:!0,label:"Room",options:this.#e.pipe(v(i=>i.map(e=>({label:e.name,value:e.id}))))},hooks:{onInit:i=>i?.formControl?.valueChanges.pipe($(e=>this.#e.pipe(v(t=>t.find(o=>o.id===e)),T(t=>{i.props&&(i.props.description=`Capacity This Room Is ${t.capacity}`)}))))}},{key:"offer_id",type:"select-field",props:{isFloatedLabel:!0,label:"Global Offer",placeholder:"Global Offer",options:this.#t.pipe(v(i=>i.map(e=>({label:e.name,value:e.id}))))},hooks:{onInit:i=>i.formControl?.valueChanges.pipe($(e=>this.#t.pipe(v(t=>t.find(o=>o.id===e)),T(t=>{let o=t.type_discount,a=t.discount;this.typeOffer.set(o),this.offerPrice.set(a);let l=i?.parent?.parent?.fieldGroup?.[1]?.get?.("total_price");this.#n(l)}))))}}]),this.#i.fieldBuilder([{key:"hours",type:"floated-input-field",className:"md:col-3 col-12",props:{type:"number",required:!0,label:"hours"},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(T(e=>{this.totalHour.set(e);let t=i.parent?.get?.("total_price");this.#n(t)}))}},{key:"price_hour",type:"floated-input-field",className:"md:col-3 col-12",props:{type:"number",required:!0,label:"price By Houer"},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(T(e=>{this.priceOfHour.set(e);let t=i.parent?.get?.("total_price");this.#n(t)}))}},{key:"total_price",type:"floated-input-field",className:"md:col-3 col-12",props:{disabled:!0,type:"number",required:!0,label:"Total Price"}}])]}#n(i){if(!this.priceOfHour()||!this.totalHour())return;let e=this.priceOfHour()*this.totalHour(),t=this.typeOffer()==="amount"?this.offerPrice():e*(this.offerPrice()/100);i?.formControl?.setValue(e-t)}static \u0275fac=(()=>{let i;return function(t){return(i||(i=Q(n)))(t||n)}})();static \u0275cmp=k({type:n,selectors:[["app-deals-dialog"]],standalone:!0,features:[X,R],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(e,t){e&1&&(c(0,"app-form",0),x(1,"async"),b("onSubmit",function(){return t.createUpdateRecord(t.dialogMeta.endpoints)}),U(2,1),c(3,"div",2)(4,"h2",3),L(5),d(),c(6,"button",4),b("click",function(){return t.closeDialog()}),d()(),j(),d()),e&2&&(s("form",t.createUpdateForm)("model",t.model)("fields",t.fields)("options",t.options)("showSubmitButton",t.dialogMeta.showSubmitButton)("buttonLabel",t.dialogMeta.submitButtonLabel)("isFiledsLoaded",M(1,9,t.dialogMeta.dialogData$))("submitBtnLoading",t.isLoading()),m(5),J(" ",t.dialogMeta.dialogTitle," "))},dependencies:[ee,q,V,B,ie],encapsulation:2,changeDetection:0})};var li=class n{destroyRef=h(lt);translate=h(Bt);dialogService=h(Nt);posService=h(Zt);router=h(Dt);cacheFilters=h(Yt);datePipe=h(Ue);dialogRef;typeUser=A("individual");permissionShared=A.required();permissionDeskArea=A.required();permissionDeal=A.required();permissionMemebership=A.required();permissionPackage=A.required();recordId=A.required();dialogConfig=A.required();clearCachingLists=A.required();constants=jt;records=qt();record=I(()=>this.records().find(i=>i.id===this.recordId()));membership=I(()=>this.record()?.assign_memberships?.[0]?.memeberShip);package=I(()=>this.record()?.assignesPackages?.[0]?.packages);hasMembership=I(()=>!!this.membership());hasPackage=I(()=>!!this.package());isSharedType=I(()=>this.membership()?.type==="shared");isDeskAreaType=I(()=>this.membership()?.type==="deskarea");menuItems=I(()=>this.buildMenuItems());buildMenuItems(){return[this.createSharedMenuItem(),this.createDeskAreaMenuItem(),this.createRoomsMenuItem(),this.createDealMenuItem(),this.createKitchenMenuItem(),this.createViewMembershipMenuItem(),this.createAssignMembershipMenuItem(),this.createAssignPackageMenuItem(),this.createViewPackageMenuItem()].filter(i=>i!==null)}createSharedMenuItem(){return this.permissionShared()?{label:this.getTranslation("Shared"),icon:"pi pi-share-alt text-sm",command:()=>this.handleDialogOpen("shared"),disabled:this.isSharedType()}:null}createDeskAreaMenuItem(){return this.permissionDeskArea()?{label:this.getTranslation("DeskArea"),icon:"pi pi-share-alt text-sm",command:()=>this.handleDialogOpen("deskarea"),disabled:this.isDeskAreaType()}:null}createRoomsMenuItem(){return this.permissionDeskArea()?{label:this.getTranslation("Rooms"),icon:"pi pi-share-alt text-sm",command:()=>this.handleDialogOpen("room")}:null}createDealMenuItem(){return this.permissionDeal()?{label:this.getTranslation("Deal"),icon:"fas fa-money-bills text-sm",command:()=>this.handleDialogOpen("deal")}:null}createKitchenMenuItem(){return{label:this.getTranslation("Kitchen"),icon:"fa-solid fa-kitchen-set text-sm",command:()=>this.navigateToPOS()}}createViewMembershipMenuItem(){return!this.permissionMemebership()||!this.hasMembership()?null:{label:this.getTranslation("View Membership"),icon:"fas fa-money-bills text-sm",command:()=>this.handleDialogOpen("view-membership")}}createAssignMembershipMenuItem(){return!this.permissionMemebership()||this.hasMembership()?null:{label:this.getTranslation("Membership"),icon:"fas fa-money-bills text-sm",command:()=>this.handleDialogOpen("membership")}}createAssignPackageMenuItem(){return!this.permissionPackage()||this.hasPackage()?null:{label:this.getTranslation("Packages Rooms"),icon:"fas fa-money-bills text-sm",command:()=>this.handleDialogOpen("package")}}createViewPackageMenuItem(){return!this.permissionPackage()||!this.hasPackage()?null:{label:this.getTranslation("View Packages Rooms"),icon:"fas fa-money-bills text-sm",command:()=>this.handleDialogOpen("view-package")}}handleDialogOpen(i){let t={shared:this.createSharedDialogConfig(),deskarea:this.createDeskAreaDialogConfig(),room:this.createRoomDialogConfig(),deal:this.createDealDialogConfig(),membership:this.createMembershipDialogConfig(),package:this.createPackageDialogConfig(),"view-membership":this.createViewMembershipConfig(),"view-package":this.createViewPackageConfig()}[i];t&&this.openDialog(t.component,t.config,t.callback)}openDialog(i,e,t){this.dialogRef=this.dialogService.open(i,e),this.dialogRef.onClose.pipe($t(this.destroyRef)).subscribe(o=>{o&&t&&(t(o),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists()))})}navigateToPOS(){this.posService.setCustomerId.set(this.record()?.id),this.posService.setCustomerType.set(this.typeUser()),this.router.navigate(["/pos"],{queryParams:{userData:JSON.stringify({id:this.record()?.id,type:this.typeUser()})}})}createBaseDialogConfig(i,e){return C(y({},this.dialogConfig()),{width:i,data:C(y(y({},this.dialogConfig().data),e),{method:"create",customer_id:this.recordId(),type_user:this.typeUser()})})}createSharedDialogConfig(){return{component:Ke,config:this.createBaseDialogConfig("700px",{typeReservation:"shared",endpointStore:"shared/store",endpointUpdate:"shared/update",endpointListOffers:"global-offer-shared"})}}createDeskAreaDialogConfig(){return{component:Ke,config:this.createBaseDialogConfig("700px",{typeReservation:"deskarea",endpointStore:"deskarea/store",endpointUpdate:"deskarea/update",endpointListOffers:"global-offer-deskarea"})}}createRoomDialogConfig(){return{component:Kt,config:this.createBaseDialogConfig("700px",{endpointStore:"reservation-room/store",endpointListOffers:"global-offer-rooms"})}}createDealDialogConfig(){return{component:Se,config:this.createBaseDialogConfig("980px",{})}}createMembershipDialogConfig(){return{component:De,config:this.createBaseDialogConfig("700px",{}),callback:i=>this.updateRecordMembership(i)}}createPackageDialogConfig(){return{component:Te,config:this.createBaseDialogConfig("700px",{}),callback:i=>this.updateRecordPackage(i)}}createViewMembershipConfig(){return{component:Ze,config:this.createBaseDialogConfig("700px",{title:`Membership for ${this.record()?.name}`,items:this.createMembershipDetails()})}}createViewPackageConfig(){return{component:Ze,config:this.createBaseDialogConfig("700px",{title:`Package for ${this.record()?.name}`,items:this.createPackageDetails()})}}createMembershipDetails(){let i=this.membership();return[{label:"Membership Name",value:i?.name},{label:"Membership Days",value:i?.days},{label:"Membership Price",value:i?.price},{label:"Membership Type",value:i?.type},{label:"Used",value:this.record()?.assign_memberships?.[0]?.used},{label:"Remaining",value:this.record()?.assign_memberships?.[0]?.remaining},{label:"Status",value:this.record()?.assign_memberships?.[0]?.status},{label:"Start Date",value:this.formatDate(this.record()?.assign_memberships?.[0]?.start_date)},{label:"End Date",value:this.formatDate(this.record()?.assign_memberships?.[0]?.end_date)}]}createPackageDetails(){let i=this.package();return[{label:"Package Name",value:i?.name},{label:"Package Hours",value:i?.hours},{label:"Package Price",value:i?.price},{label:"Room",value:i?.room?.name},{label:"Used",value:this.record()?.assignesPackages?.[0]?.used},{label:"Remaining",value:this.record()?.assignesPackages?.[0]?.remaining},{label:"Start Date",value:this.formatDate(this.record()?.assignesPackages?.[0]?.start_date)},{label:"End Date",value:this.formatDate(this.record()?.assignesPackages?.[0]?.end_date)}]}formatDate(i){return this.datePipe.transform(i,"M/d/yyyy")||""}updateRecordMembership(i){this.records.update(e=>e.map(t=>t.id===this.recordId()?C(y({},t),{assign_memberships:[i]}):t))}updateRecordPackage(i){this.records.update(e=>e.map(t=>t.id===this.recordId()?C(y({},t),{assignesPackages:[i]}):t))}getTranslation(i){return this.translate.instant(i)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-menu-collapse-actions"]],inputs:{typeUser:[1,"typeUser"],permissionShared:[1,"permissionShared"],permissionDeskArea:[1,"permissionDeskArea"],permissionDeal:[1,"permissionDeal"],permissionMemebership:[1,"permissionMemebership"],permissionPackage:[1,"permissionPackage"],recordId:[1,"recordId"],dialogConfig:[1,"dialogConfig"],clearCachingLists:[1,"clearCachingLists"]},standalone:!0,features:[bt([Ue]),R],decls:3,vars:2,consts:[["menu",""],["pButton","","icon","pi pi-ellipsis-v",1,"w-2rem","bg-transparent","text-orange-500","border-none",3,"click"],["appendTo","body",3,"model","popup"]],template:function(e,t){if(e&1){let o=z();c(0,"button",1),b("click",function(f){S(o);let l=K(2);return O(l.toggle(f))}),d(),F(1,"p-menu",2,0)}e&2&&(m(),s("model",t.menuItems())("popup",!0))},dependencies:[ri,Je,V,B],changeDetection:0})};function sn(n,i){if(n&1){let e=z();c(0,"p-button",9),b("click",function(){let o=S(e).$index,a=p(2);return O(a.setActiveIndex(o))}),d()}if(n&2){let e=i.$implicit,t=i.$index,o=p(2);s("outlined",o.activeIndex()!==t)("label",e.label)}}function rn(n,i){n&1&&Y(0)}function ln(n,i){if(n&1&&u(0,rn,1,0,"ng-container",10),n&2){let e=p(2);s("ngComponentOutlet",e.filterTabs()[e.activeIndex()].component)("ngComponentOutletInputs",e.filterTabs()[e.activeIndex()].inputs)}}function pn(n,i){if(n&1&&(c(0,"div",3)(1,"div",5)(2,"div",6),ft(3,sn,1,2,"p-button",7,ut),d()(),c(5,"div",8),u(6,ln,1,2,"ng-container"),d()()),n&2){let e=p();m(3),ht(e.filterButton()),m(3),Ae(e.filterTabs()[e.activeIndex()]?6:-1)}}function mn(n,i){n&1&&(c(0,"h3",4),L(1," U Don't have Permission here "),d())}var pi=class n{#i=h(xe);#e=h(Ht);#t=h(Vt);data=this.#t.data;buttons=I(()=>[{label:"membership",visible:this.checkPermission(this.resource.AssignesMembership)},{label:"General Offers",visible:this.checkPermission(this.resource.AssignGeneralOffer)},{label:"Packages",visible:this.checkPermission(this.resource.AssignesPackage)},{label:"Orders",visible:this.checkPermission(this.resource.Order)},{label:"shared",visible:this.checkPermission(this.resource.Order)},{label:"deskarea",visible:this.checkPermission(this.resource.Deskarea)},{label:"rooms",visible:this.checkPermission(this.resource.ReservationRoom)},{label:"deals",visible:this.checkPermission(this.resource.Deals)}]);resource=ke;tabs=_([{component:Xt,visible:this.checkPermission(this.resource.AssignesMembership),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.AssignesMembership,key:this.data.key}},{component:Qt,visible:this.checkPermission(this.resource.AssignGeneralOffer),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.AssignGeneralOffer,key:this.data.key}},{component:Wt,visible:this.checkPermission(this.resource.AssignesPackage),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.AssignesPackage,key:this.data.key}},{component:ii,visible:this.checkPermission(this.resource.Order),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.Order,key:this.data.key}},{component:ei,visible:this.checkPermission(this.resource.Shared),inputs:{id:this.data.id,endpoint:`shared/${this.data.endpoint}`,keyState:this.data.keyState,resourse:this.resource.Shared,key:this.data.key,titleIndex:"shareds",iconIndex:"fa-solid fa-building",endpointChangeStatus:"shared/update",typeReservation:"shared",endpointStore:"shared/store",endpointUpdate:"shared/update",endpointListOffers:"global-offer-shared",provideFields:["note","start_hour","start_minute","start_time","end_hour","end_minute","end_time","is_full_day"]}},{component:Jt,visible:this.checkPermission(this.resource.Deskarea),inputs:{id:this.data.id,endpoint:`deskarea/${this.data.endpoint}`,keyState:this.data.keyState,resourse:this.resource.Deskarea,key:this.data.key,titleIndex:"deskarea",iconIndex:"fa-solid fa-building",endpointChangeStatus:"deskarea/update",typeReservation:"deskarea",endpointStore:"deskarea/store",endpointUpdate:"deskarea/update",endpointListOffers:"global-offer-deskarea",provideFields:["note","start_hour","start_minute","start_time","end_hour","end_minute","end_time","is_full_day"]}},{component:ni,visible:this.checkPermission(this.resource.ReservationRoom),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.ReservationRoom,key:this.data.key}},{component:ti,visible:this.checkPermission(this.resource.Deals),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.Deals,key:this.data.key}}]);checkPermission(i){return this.#i.hasPermission(i,"index")}filterTabs=I(()=>this.tabs().filter(i=>i.visible));filterButton=I(()=>this.buttons().filter(i=>i.visible));activeIndex=_(0);setActiveIndex(i){this.activeIndex.set(i)}closeDialog(i){this.#e.close(i)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-view-client"]],standalone:!0,features:[R],decls:7,vars:5,consts:[[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[1,"px-3","py-2"],[1,"flex","justify-content-center","h-full","capitalize","align-items-center","text-gray-400","font-bold","text-4xl"],[1,"scrollable-tabs"],[1,"flex","m-1","gap-2"],["rounded","true","styleClass","py-1 px-3 transition-none white-space-nowrap shadow-none capitalize","iconPos","right",3,"outlined","label"],[1,"mt-5"],["rounded","true","styleClass","py-1 px-3 transition-none white-space-nowrap shadow-none capitalize","iconPos","right",3,"click","outlined","label"],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(e,t){e&1&&(c(0,"div",0)(1,"h2",1),L(2),x(3,"translate"),d(),c(4,"button",2),b("click",function(){return t.closeDialog()}),d()(),u(5,pn,7,1,"div",3)(6,mn,2,0,"h3",4)),e&2&&(m(2),_t(" ",M(3,3,"History Of ")," ",t.data.name," "),m(3),Ae(t.filterButton().length?5:6))},dependencies:[q,Ce,Gt,V,B,Ut,pe,kt],styles:[".scrollable-tabs[_ngcontent-%COMP%]{width:100%;padding-bottom:10px;overflow-x:auto;scrollbar-width:thin}.scrollable-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}"],changeDetection:0})};var et=(n,i)=>({"text-white":n,"p-button-text ":i});function cn(n,i){if(n&1&&(F(0,"a",4),x(1,"translate")),n&2){let e=p();s("ngClass",Z(4,et,e.type()==="company",e.type()!=="company"))("label",M(1,2,"Company"))}}function dn(n,i){if(n&1&&(F(0,"a",5),x(1,"translate")),n&2){let e=p();s("ngClass",Z(4,et,e.type()==="student-activities",e.type()!=="student-activities"))("label",M(1,2,"Student Activity"))}}function un(n,i){if(n&1&&(F(0,"a",6),x(1,"translate")),n&2){let e=p();s("ngClass",Z(4,et,e.type()==="individual",e.type()!=="individual"))("label",M(1,2,"Individual"))}}var mi=class n{userPermission=h(xe);type=A("");resource=ke;hasPermission(i){return this.userPermission.hasPermission(i,"index")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=k({type:n,selectors:[["app-links-client"]],inputs:{type:[1,"type"]},standalone:!0,features:[R],decls:7,vars:3,consts:[[1,"list-none","m-0","p-0","flex","flex-wrap","gap-3","align-items-center"],["pButton","","class","text-xs py-2 shadow-none","icon","fa-solid fa-building","routerLink","/company",3,"ngClass","label",4,"appHasPermission"],["pButton","","class","text-xs py-2 shadow-none","icon","pi pi-users","routerLink","/student-activities",3,"ngClass","label",4,"appHasPermission"],["pButton","","class","text-xs py-2 shadow-none","icon","fa-solid fa-user","routerLink","/individual",3,"ngClass","label",4,"appHasPermission"],["pButton","","icon","fa-solid fa-building","routerLink","/company",1,"text-xs","py-2","shadow-none",3,"ngClass","label"],["pButton","","icon","pi pi-users","routerLink","/student-activities",1,"text-xs","py-2","shadow-none",3,"ngClass","label"],["pButton","","icon","fa-solid fa-user","routerLink","/individual",1,"text-xs","py-2","shadow-none",3,"ngClass","label"]],template:function(e,t){e&1&&(c(0,"ul",0)(1,"li"),u(2,cn,2,7,"a",1),d(),c(3,"li"),u(4,dn,2,7,"a",2),d(),c(5,"li"),u(6,un,2,7,"a",3),d()()),e&2&&(m(2),s("appHasPermission",t.hasPermission(t.resource.Company)),m(2),s("appHasPermission",t.hasPermission(t.resource.StudentActivity)),m(2),s("appHasPermission",t.hasPermission(t.resource.Individual)))},dependencies:[be,re,V,B,zt,q,Ce],changeDetection:0})};export{ui as a,li as b,pi as c,mi as d};
