import{a as ue}from"./chunk-7PWCODBA.js";import{Aa as ne,Ba as D,Ca as S,Da as oe,Ea as le,Fa as ae,Ra as re,da as Z,ea as $,ha as ee,ia as T,k as z,la as te,ma as M,t as H,ta as ie,ua as k,v as q,y as Q}from"./chunk-6HLGESUH.js";import"./chunk-R2AUDRXA.js";import{Fb as l,Gb as a,Hb as B,Ib as N,Jb as P,Lb as E,Mb as f,Nb as x,Qb as U,Yb as W,_b as K,ac as O,ad as Y,bc as X,cb as s,cc as G,da as b,ec as I,ha as v,mb as V,pb as w,pc as d,qc as p,ta as m,tb as j,tc as J,ua as c,wb as u,xa as C}from"./chunk-L5VXCLI3.js";import{a as y,b as h,e as R,i as se}from"./chunk-5KTCK5IS.js";var de=se(ue());var _=class{id;name;number;whatsApp;individual_type;employed_job;freelancer_job;unviresty;college;constructor(t){this.id=t?.id||null,this.name=t?.name||null,this.number=t?.number||null,this.whatsApp=t?.whatsApp||null,this.individual_type=t?.individual_type||"freelancer",this.employed_job=t?.employed_job||null,this.freelancer_job=t?.freelancer_job||null,this.unviresty=t?.unviresty||null,this.college=t?.college||null}};var F=class r extends le{#e=b(ie);#t=b(k);ngOnInit(){this.dialogMeta=h(y({},this.dialogMeta),{endpoints:{store:"individual/store",update:"individual/update"}}),this.editData?(this.dialogMeta=h(y({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Individual"),submitButtonLabel:this.translate.instant("Update Individual")}),this.model=new _(this.editData)):(this.dialogMeta=h(y({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Individual"),submitButtonLabel:this.translate.instant("Create Individual")}),this.model=new _),this.fields=this.configureFields()}configureFields(){return[{fieldGroup:[{type:"separator-field",props:{title:this.translate.instant("Information Client"),icon:"fa-solid fa-info"}},this.#e.fieldBuilder([{key:"name",type:"floated-input-field",props:{label:"name"}},{key:"number",type:"input-group-field",props:{type:"number",placeholder:"number",icon:"pi pi-phone",maxLength:ne.NUMBER_PHONE}}]),this.#e.fieldBuilder([{key:"whatsApp",type:"input-group-field",className:"col-12 md:col-6",props:{type:"number",placeholder:"whatsApp",icon:"pi pi-whatsapp"}}])]},{template:'<div class="border-1 border-200 -mt-3"></div>',className:"col-12"},{fieldGroup:[{type:"separator-field",props:{title:this.translate.instant("Client Details"),icon:"fa-solid fa-info"}},{key:"individual_type",type:"radio-field",props:{label:"Choose Type Customer",options:this.#t.typeWork}},this.#e.fieldBuilder([{key:"unviresty",type:"input-group-field",expressions:{hide:({model:t})=>t?.individual_type!=="student"},props:{placeholder:"unviresty",icon:"fa-solid fa-building-columns"}},{key:"college",type:"input-group-field",expressions:{hide:({model:t})=>t?.individual_type!=="student"},props:{placeholder:"college",icon:"fa-solid fa-graduation-cap"}}]),this.#e.fieldBuilder([{key:"freelancer_job",type:"floated-input-field",className:"col-12 md:col-6",expressions:{hide:({model:t})=>t?.individual_type!=="freelancer"},props:{label:"freelancer Job"}}]),this.#e.fieldBuilder([{key:"employed_job",type:"floated-input-field",className:"col-12 md:col-6",expressions:{hide:({model:t})=>t?.individual_type!=="employed"},props:{label:"employed Job"}}])]}]}static \u0275fac=(()=>{let t;return function(e){return(t||(t=C(r)))(e||r)}})();static \u0275cmp=v({type:r,selectors:[["app-individual-dialog"]],standalone:!0,features:[w,I],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(n,e){n&1&&(l(0,"app-form",0),d(1,"async"),f("onSubmit",function(){return e.createUpdateRecord(e.dialogMeta.endpoints)}),N(2,1),l(3,"div",2)(4,"h2",3),W(5),a(),l(6,"button",4),f("click",function(){return e.closeDialog()}),a()(),P(),a()),n&2&&(u("form",e.createUpdateForm)("model",e.model)("fields",e.fields)("options",e.options)("showSubmitButton",e.dialogMeta.showSubmitButton)("buttonLabel",e.dialogMeta.submitButtonLabel)("isFiledsLoaded",p(1,9,e.dialogMeta.dialogData$))("submitBtnLoading",e.isLoading()),s(5),K(" ",e.dialogMeta.dialogTitle," "))},dependencies:[Y,M,T,S,D,oe],encapsulation:2,changeDetection:0})};function ye(r,t){if(r&1){let n=E();l(0,"div",10)(1,"p-dropdown",11),d(2,"translate"),G("ngModelChange",function(i){m(n);let o=x();return X(o.selectedType,i)||(o.selectedType=i),c(i)}),f("onChange",function(i){m(n);let o=x();return c(o.filterByType(i))}),a()()}if(r&2){let n=x();s(),U("placeholder",p(2,3,"Select a Work Type")),u("options",n.options()),O("ngModel",n.selectedType)}}var L=class r extends ae{staticData=b(k);options=V([]);selectedType="";exportColumns;ngOnInit(){this.options.set([{label:this.#e("All"),value:"all"},...this.staticData.typeWork]),this.dialogComponent=F,this.indexMeta=h(y({},this.indexMeta),{endpoints:{index:"individual/index",delete:"individual/delete"},indexTitle:"Individual",provideFields:["individual_type","employed_job","freelancer_job","unviresty","college"],indexIcon:"fa-solid fa-user",createBtnLabel:this.#e("Create Individual"),indexTableKey:"INDIVIDUAL_KEY",columns:[{title:this.#e("name"),name:"name",searchable:!0,orderable:!1},{title:this.#e("number"),name:"number",searchable:!0,orderable:!1},{title:this.#e("whatsApp"),name:"whatsApp",searchable:!0,orderable:!1},{title:this.#e("Created At"),name:"created_at",searchable:!1,orderable:!0,transform:{type:"date",filter:"M/d/yyyy"}}]}),this.exportColumns=this.indexMeta.columns.map(t=>({title:t.title,dataKey:t.name}))}exportPdf(){import("./chunk-NV6VTVJE.js").then(t=>{import("./chunk-PAHSF4GP.js").then(n=>{let e=new t.default("p","px","a4");e.autoTable(this.exportColumns,this.records()),e.save("records.pdf")})})}exportExcel(){import("./chunk-4VY6OIZS.js").then(t=>{let n=this.records().map(Ce=>{var A=Ce,{individual_type:g,employed_job:he,freelancer_job:ge,unviresty:be,company_type:_e,college:ve}=A,pe=R(A,["individual_type","employed_job","freelancer_job","unviresty","company_type","college"]);return pe}),i={Sheets:{data:t.utils.json_to_sheet(n)},SheetNames:["data"]},o=t.write(i,{bookType:"xlsx",type:"array"});this.saveAsExcelFile(o,"records")})}saveAsExcelFile(t,n){let e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8",i=".xlsx",o=new Blob([t],{type:e});de.default.saveAs(o,n+"_export_"+new Date().getTime()+i)}filterByType(t){this.filtersData.update(n=>h(y({},n),{customFilters:t.value!=="all"?{individual_type:t.value}:null}))}#e(t){return this.translate.instant(t)}static \u0275fac=(()=>{let t;return function(e){return(t||(t=C(r)))(e||r)}})();static \u0275cmp=v({type:r,selectors:[["app-individual"]],standalone:!0,features:[w,I],decls:21,vars:43,consts:[["additionalContentTemplate",""],[1,"flex","gap-2","mb-4"],["type","button","pButton","","icon","pi pi-file-excel text-xs","tooltipPosition","top",1,"text-xs","py-1","px-3",3,"click","label","pTooltip"],["type","button","pButton","","icon","pi pi-file-pdf text-xs","tooltipPosition","top",1,"text-xs","bg-pink","border-pink","py-1","px-3",3,"click","label","pTooltip"],["paginatorPosition","both","placeholderSearch","search Name Or Phone Or Whatapp",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexRole","updateBtnRole","createBtnRole","deleteBtnRole","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows","withAdditionalContent"],["moreActions",""],[1,"list-none","m-0","p-0","flex","flex-wrap","gap-3","align-items-center"],["pButton","","icon","fa-solid fa-building","routerLink","/clients/company",1,"p-button-text","text-xs","py-2","shadow-none",3,"label"],["pButton","","icon","pi pi-users","routerLink","/clients/student-activities",1,"p-button-text","text-xs","py-2","shadow-none",3,"label"],["pButton","","icon","fa-solid fa-user","routerLink","/clients/individual",1,"text-xs","py-2","shadow-none","text-white",3,"label"],[1,"flex-order-2"],["styleClass","py-1 pl-2 shadow-none w-14rem",3,"ngModelChange","onChange","options","ngModel","placeholder"]],template:function(n,e){if(n&1){let i=E();l(0,"div",1)(1,"button",2),d(2,"translate"),d(3,"translate"),f("click",function(){return m(i),c(e.exportExcel())}),a(),l(4,"button",3),d(5,"translate"),d(6,"translate"),f("click",function(){return m(i),c(e.exportPdf())}),a()(),l(7,"app-table-wrapper",4),f("createBtnClicked",function(){return m(i),c(e.openCreateRecordDialog())})("updateBtnClicked",function(g){return m(i),c(e.openUpdateRecordDialog(g))})("deleteBtnClicked",function(g){return m(i),c(e.deleteRecord(g))})("onLoadData",function(g){return m(i),c(e.loadRecords(g))}),l(8,"div",5)(9,"ul",6)(10,"li"),B(11,"a",7),d(12,"translate"),a(),l(13,"li"),B(14,"a",8),d(15,"translate"),a(),l(16,"li"),B(17,"a",9),d(18,"translate"),a()()(),j(19,ye,3,5,"ng-template",null,0,J),a()}if(n&2){let i,o;s(),u("label",p(2,29,"Excel"))("pTooltip",p(3,31,"export_as_excel")),s(3),u("label",p(5,33,"PDF"))("pTooltip",p(6,35,"export_as_pdf")),s(3),u("headerTitle",e.indexMeta.indexTitle)("titleIcon",e.indexMeta.indexIcon)("headerBtnLabel",e.indexMeta.createBtnLabel)("displayCreateButton",e.indexMeta.displayCreateButton)("columns",e.indexMeta.columns)("dataSource",e.records())("loading",e.isLoading())("totalRecords",e.totalRecords())("recordsFiltered",e.recordsFiltered())("stateKey",e.indexMeta.indexTableKey)("rows",e.rows())("indexRole",e.roles().index)("updateBtnRole",e.roles().update)("createBtnRole",e.roles().create)("deleteBtnRole",e.roles().delete)("withActionsColumn",e.indexMeta.withAction)("displayUpdateButton",e.indexMeta.displayUpdateButton)("displayDeleteButton",e.indexMeta.displayDeleteButton)("globalFilterValue",e.globalFilterValue)("reorderableColumns",(i=e.indexMeta.reorderableColumns)!==null&&i!==void 0?i:!1)("reorderableRows",(o=e.indexMeta.reorderableRows)!==null&&o!==void 0?o:!1)("withAdditionalContent",!0),s(4),u("label",p(12,37,"Company")),s(3),u("label",p(15,39,"Student Activity")),s(3),u("label",p(18,41,"Individual"))}},dependencies:[re,Q,H,q,z,$,Z,T,ee,S,D,M,te],encapsulation:2,changeDetection:0})};export{L as default};
