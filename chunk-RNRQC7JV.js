import{Ea as O,Sa as E,da as h,na as I,ua as U,va as v}from"./chunk-AA67JPLF.js";import{A as P,C as y}from"./chunk-LBHIXMIT.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import{q as L}from"./chunk-AHOHCUBB.js";import{Bb as g,Kb as s,Lb as d,Nb as D,Ob as F,Tb as p,db as R,dc as S,ea as _,fc as w,ia as u,mc as b,nb as M,qb as f,xc as T,ya as c,yc as k}from"./chunk-PLVIENQC.js";import{a as r,b as l}from"./chunk-5KTCK5IS.js";var m=class{id;name;featured_image;capacity;price;note;constructor(t){this.id=t?.id||null,this.name=t?.name||null,this.featured_image=t?.featured_image||null,this.capacity=t?.capacity||null,this.price=t?.price||null,this.note=t?.note||null}};var C=class n extends v{#e=_(I);isSingleUploading=M(!1);ngOnInit(){this.dialogMeta=l(r({},this.dialogMeta),{endpoints:{store:"rooms/store",update:"rooms/update"}}),this.editData?(this.dialogMeta=l(r({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Rooms"),submitButtonLabel:this.translate.instant("Update Rooms")}),this.model=new m(this.editData)):(this.dialogMeta=l(r({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Rooms"),submitButtonLabel:this.translate.instant("Create Rooms")}),this.model=new m),this.fields=this.configureFields()}configureFields(){return[this.#e.fieldBuilder([{key:"name",type:"floated-input-field",templateOptions:{label:"name",required:!0}},{key:"capacity",type:"floated-input-field",templateOptions:{type:"number",label:"capacity",required:!0}},{key:"price",type:"floated-input-field",templateOptions:{type:"number",label:"price by 1 / hr",required:!0}}]),this.#e.fieldBuilder([{key:"note",type:"textarea-field",props:{label:"note",placeholder:"note"}}]),this.fieldBuilder.fieldBuilder([{key:"featured_image",type:"file-field",props:{label:"image Upload",mode:this.editData?"update":"store",isUploading:this.isSingleUploading}}])]}static \u0275fac=(()=>{let t;return function(e){return(t||(t=c(n)))(e||n)}})();static \u0275cmp=u({type:n,selectors:[["app-rooms-dialog"]],standalone:!0,features:[f,b],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(a,e){a&1&&(s(0,"app-form",0),T(1,"async"),p("onSubmit",function(){return e.createUpdateRecord(e.dialogMeta.endpoints)}),D(2,1),s(3,"div",2)(4,"h2",3),S(5),d(),s(6,"button",4),p("click",function(){return e.closeDialog()}),d()(),F(),d()),a&2&&(g("form",e.createUpdateForm)("model",e.model)("fields",e.fields)("options",e.options)("showSubmitButton",e.dialogMeta.showSubmitButton)("buttonLabel",e.dialogMeta.submitButtonLabel)("isFiledsLoaded",k(1,9,e.dialogMeta.dialogData$))("submitBtnLoading",e.isLoading()),R(5),w(" ",e.dialogMeta.dialogTitle," "))},dependencies:[L,h,y,P,U],encapsulation:2,changeDetection:0})};var B=class n extends O{ngOnInit(){this.dialogComponent=C,this.indexMeta=l(r({},this.indexMeta),{displayDeleteButton:this.currentUser()?.role==="technical-support",resourse:"settings-Room",provideFields:["note","featured_image"],endpoints:{index:"rooms/index",delete:"rooms/delete"},indexTitle:"Rooms",indexIcon:"fa-solid fa-building",createBtnLabel:"Create Rooms",indexTableKey:"ROOMS_KEY",columns:[{title:this.#e("#ID"),name:"id",searchable:!1,orderable:!0},{title:this.#e("name"),name:"name",searchable:!0,orderable:!1},{title:this.#e("capacity"),name:"capacity",searchable:!1,orderable:!0},{title:this.#e("price"),name:"price",searchable:!1,orderable:!0}]}),this.initializePermissions()}#e(t){return this.translate.instant(t)}static \u0275fac=(()=>{let t;return function(e){return(t||(t=c(n)))(e||n)}})();static \u0275cmp=u({type:n,selectors:[["app-rooms"]],standalone:!0,features:[f,b],decls:1,vars:22,consts:[["paginatorPosition","both",3,"createBtnClicked","updateBtnClicked","deleteBtnClicked","onLoadData","headerTitle","titleIcon","headerBtnLabel","displayCreateButton","columns","dataSource","loading","totalRecords","recordsFiltered","stateKey","rows","indexPermission","updateBtnPermission","createBtnPermission","deleteBtnPermission","placeholderSearch","withActionsColumn","displayUpdateButton","displayDeleteButton","globalFilterValue","reorderableColumns","reorderableRows"]],template:function(a,e){if(a&1&&(s(0,"app-table-wrapper",0),p("createBtnClicked",function(){return e.openCreateRecordDialog()})("updateBtnClicked",function(i){return e.openUpdateRecordDialog(i)})("deleteBtnClicked",function(i){return e.deleteRecord(i)})("onLoadData",function(i){return e.loadRecords(i)}),d()),a&2){let o,i;g("headerTitle",e.indexMeta.indexTitle)("titleIcon",e.indexMeta.indexIcon)("headerBtnLabel",e.indexMeta.createBtnLabel)("displayCreateButton",e.indexMeta.displayCreateButton)("columns",e.indexMeta.columns)("dataSource",e.records())("loading",e.isLoading())("totalRecords",e.totalRecords())("recordsFiltered",e.recordsFiltered())("stateKey",e.indexMeta.indexTableKey)("rows",e.rows())("indexPermission",e.permissions().index)("updateBtnPermission",e.permissions().update)("createBtnPermission",e.permissions().create)("deleteBtnPermission",e.permissions().delete)("placeholderSearch",e.indexMeta.placeholderSearch)("withActionsColumn",e.indexMeta.withAction)("displayUpdateButton",e.indexMeta.displayUpdateButton)("displayDeleteButton",e.indexMeta.displayDeleteButton)("globalFilterValue",e.globalFilterValue)("reorderableColumns",(o=e.indexMeta.reorderableColumns)!==null&&o!==void 0?o:!1)("reorderableRows",(i=e.indexMeta.reorderableRows)!==null&&i!==void 0?i:!1)}},dependencies:[E,y,h],encapsulation:2,changeDetection:0})};export{B as default};
