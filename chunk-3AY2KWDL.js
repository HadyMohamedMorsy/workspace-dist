import{a as Nt,b as qe,c as $t,d as Ut,e as Gt,f as qt,g as jt,h as zt,i as Yt,j as Kt}from"./chunk-4TAAWFWS.js";import{a as Ht}from"./chunk-7AFSXZCD.js";import{$ as ge,$a as Rt,Da as Bt,W as Tt,X as ae,ba as St,ca as _e,da as $,db as Ge,eb as Et,fa as wt,ga as Ot,ha as Pt,i as gt,ia as be,jb as Vt,l as _t,m as fe,n as bt,na as X,ob as U,pa as Ft,t as Ve,ua as J,va as ee,wa as ye,xa as At}from"./chunk-AA67JPLF.js";import{A,B as Lt,C as B,b as Ct,c as he,j as vt,k as kt,n as xt,o as Ue,r as M,s as It,w as Mt,x as Dt}from"./chunk-LBHIXMIT.js";import{c as yt,d as He,f as Ne,h as $e}from"./chunk-JXG4LUU7.js";import{d as dt,k as ne,l as ut,m as ft,n as Ae,o as Be,p as Re,q as W,s as Ee,w as ht,y as oe}from"./chunk-AHOHCUBB.js";import{$ as Qe,$a as tt,$b as ce,Ab as E,Ba as Je,Bb as s,Cc as ue,Da as K,Fb as ie,Gb as we,Hb as ot,Ia as P,Ib as at,Ja as et,Jb as st,Kb as p,Lb as m,Mb as w,Na as Te,Nb as H,Ob as N,Oc as ct,Pb as q,Qb as G,Sc as Fe,Tb as g,Tc as Le,U as V,Ub as r,Uc as I,W as D,Yb as rt,Z as Ze,Zb as Oe,_a as Se,_b as me,b as Ke,cc as j,db as l,dc as O,ea as d,eb as R,ec as de,fc as Q,gc as lt,ia as v,ja as We,kb as it,la as Xe,lc as pt,mc as F,nb as h,nc as mt,oc as L,pc as z,qb as Z,qc as Pe,r as y,rb as nt,s as pe,ua as T,va as S,wb as c,xc as k,ya as Y,yc as x}from"./chunk-PLVIENQC.js";import{a as b,b as C}from"./chunk-5KTCK5IS.js";var ii=["pMenuItemContent",""],Zt=n=>({"p-disabled":n}),Ce=n=>({$implicit:n}),ni=()=>({exact:!1});function oi(n,i){n&1&&q(0)}function ai(n,i){if(n&1&&(p(0,"a",6),c(1,oi,1,0,"ng-container",7),m()),n&2){let e=r(2),t=j(4);s("target",e.item.target)("ngClass",L(9,Zt,e.item.disabled)),E("title",e.item.title)("href",e.item.url||null,tt)("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action"),l(),s("ngTemplateOutlet",t)("ngTemplateOutletContext",L(11,Ce,e.item))}}function si(n,i){n&1&&q(0)}function ri(n,i){if(n&1&&(p(0,"a",8),c(1,si,1,0,"ng-container",7),m()),n&2){let e=r(2),t=j(4);s("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||mt(17,ni))("target",e.item.target)("ngClass",L(18,Zt,e.item.disabled))("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state),E("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action")("title",e.item.title),l(),s("ngTemplateOutlet",t)("ngTemplateOutletContext",L(20,Ce,e.item))}}function li(n,i){if(n&1&&(H(0),c(1,ai,2,13,"a",4)(2,ri,2,22,"a",5),N()),n&2){let e=r();l(),s("ngIf",!(e.item!=null&&e.item.routerLink)),l(),s("ngIf",e.item==null?null:e.item.routerLink)}}function pi(n,i){}function mi(n,i){n&1&&c(0,pi,0,0,"ng-template")}function ci(n,i){if(n&1&&(H(0),c(1,mi,1,0,null,7),N()),n&2){let e=r();l(),s("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",L(2,Ce,e.item))}}function di(n,i){if(n&1&&w(0,"span",12),n&2){let e=r(2);ie(e.item.iconClass),s("ngClass",e.item.icon)("ngStyle",e.item.iconStyle)}}function ui(n,i){if(n&1&&(p(0,"span",13),O(1),m()),n&2){let e=r(2);l(),de(e.item.label)}}function fi(n,i){if(n&1&&(w(0,"span",14),k(1,"safeHtml")),n&2){let e=r(2);s("innerHTML",x(1,1,e.item.label),Se)}}function hi(n,i){if(n&1&&(p(0,"span",15),O(1),m()),n&2){let e=r(2);s("ngClass",e.item.badgeStyleClass),l(),de(e.item.badge)}}function gi(n,i){if(n&1&&c(0,di,1,4,"span",9)(1,ui,2,1,"span",10)(2,fi,2,3,"ng-template",null,1,ue)(4,hi,2,2,"span",11),n&2){let e=j(3),t=r();s("ngIf",t.item.icon),l(),s("ngIf",t.item.escape!==!1)("ngIfElse",e),l(3),s("ngIf",t.item.badge)}}var _i=["list"],bi=["container"],yi=n=>({"p-menu p-component":!0,"p-menu-overlay":n}),Ci=(n,i)=>({showTransitionParams:n,hideTransitionParams:i}),vi=n=>({value:"visible",params:n}),je=n=>({"p-hidden":n}),ki=(n,i)=>({"p-hidden":n,flex:i}),Qt=(n,i,e)=>({"p-hidden":n,"p-focus":i,"p-disabled":e});function xi(n,i){n&1&&q(0)}function Ii(n,i){if(n&1&&(p(0,"div",9),c(1,xi,1,0,"ng-container",10),m()),n&2){let e=r(2);E("data-pc-section","start"),l(),s("ngTemplateOutlet",e.startTemplate)}}function Mi(n,i){if(n&1&&w(0,"li",14),n&2){let e=r().$implicit;s("ngClass",L(1,je,e.visible===!1))}}function Di(n,i){if(n&1&&(p(0,"span"),O(1),m()),n&2){let e=r(3).$implicit;l(),de(e.label)}}function Ti(n,i){if(n&1&&(w(0,"span",18),k(1,"safeHtml")),n&2){let e=r(3).$implicit;s("innerHTML",x(1,1,e.label),Se)}}function Si(n,i){if(n&1&&(H(0),c(1,Di,2,1,"span",17)(2,Ti,2,3,"ng-template",null,2,ue),N()),n&2){let e=j(3),t=r(2).$implicit;l(),s("ngIf",t.escape!==!1)("ngIfElse",e)}}function wi(n,i){n&1&&q(0)}function Oi(n,i){if(n&1&&(p(0,"li",15),c(1,Si,4,2,"ng-container",7)(2,wi,1,0,"ng-container",16),m()),n&2){let e=r(),t=e.$implicit,o=e.index,a=r(3);s("ngClass",z(7,ki,t.visible===!1,t.visible))("tooltipOptions",t.tooltipOptions),E("data-automationid",t.automationId)("id",a.menuitemId(t,a.id,o)),l(),s("ngIf",!a.submenuHeaderTemplate),l(),s("ngTemplateOutlet",a.submenuHeaderTemplate)("ngTemplateOutletContext",L(10,Ce,t))}}function Pi(n,i){if(n&1&&w(0,"li",14),n&2){let e=r().$implicit,t=r().$implicit;s("ngClass",L(1,je,e.visible===!1||t.visible===!1))}}function Fi(n,i){if(n&1){let e=G();p(0,"li",20),g("onMenuItemClick",function(o){T(e);let a=r(),u=a.$implicit,_=a.index,f=r().index,De=r(3);return S(De.itemClick(o,De.menuitemId(u,De.id,f,_)))}),m()}if(n&2){let e=r(),t=e.$implicit,o=e.index,a=r(),u=a.$implicit,_=a.index,f=r(3);ie(t.styleClass),s("pMenuItemContent",t)("itemTemplate",f.itemTemplate)("ngClass",Pe(13,Qt,t.visible===!1||u.visible===!1,f.focusedOptionId()&&f.menuitemId(t,f.id,_,o)===f.focusedOptionId(),f.disabled(t.disabled)))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),E("data-pc-section","menuitem")("aria-label",f.label(t.label))("data-p-focused",f.isItemFocused(f.menuitemId(t,f.id,_,o)))("data-p-disabled",f.disabled(t.disabled))("aria-disabled",f.disabled(t.disabled))("id",f.menuitemId(t,f.id,_,o))}}function Li(n,i){if(n&1&&c(0,Pi,1,3,"li",12)(1,Fi,1,17,"li",19),n&2){let e=i.$implicit;s("ngIf",e.separator),l(),s("ngIf",!e.separator)}}function Ai(n,i){if(n&1&&c(0,Mi,1,3,"li",12)(1,Oi,3,12,"li",13)(2,Li,2,2,"ng-template",11),n&2){let e=i.$implicit;s("ngIf",e.separator),l(),s("ngIf",!e.separator),l(),s("ngForOf",e.items)}}function Bi(n,i){if(n&1&&c(0,Ai,3,3,"ng-template",11),n&2){let e=r(2);s("ngForOf",e.model)}}function Ri(n,i){if(n&1&&w(0,"li",14),n&2){let e=r().$implicit;s("ngClass",L(1,je,e.visible===!1))}}function Ei(n,i){if(n&1){let e=G();p(0,"li",20),g("onMenuItemClick",function(o){T(e);let a=r(),u=a.$implicit,_=a.index,f=r(3);return S(f.itemClick(o,f.menuitemId(u,f.id,_)))}),m()}if(n&2){let e=r(),t=e.$implicit,o=e.index,a=r(3);ie(t.styleClass),s("pMenuItemContent",t)("itemTemplate",a.itemTemplate)("ngClass",Pe(13,Qt,t.visible===!1,a.focusedOptionId()&&a.menuitemId(t,a.id,o,a.j)===a.focusedOptionId(),a.disabled(t.disabled)))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),E("data-pc-section","menuitem")("aria-label",a.label(t.label))("data-p-focused",a.isItemFocused(a.menuitemId(t,a.id,o)))("data-p-disabled",a.disabled(t.disabled))("aria-disabled",a.disabled(t.disabled))("id",a.menuitemId(t,a.id,o))}}function Vi(n,i){if(n&1&&c(0,Ri,1,3,"li",12)(1,Ei,1,17,"li",19),n&2){let e=i.$implicit;s("ngIf",e.separator),l(),s("ngIf",!e.separator)}}function Hi(n,i){if(n&1&&c(0,Vi,2,2,"ng-template",11),n&2){let e=r(2);s("ngForOf",e.model)}}function Ni(n,i){n&1&&q(0)}function $i(n,i){if(n&1&&(p(0,"div",21),c(1,Ni,1,0,"ng-container",10),m()),n&2){let e=r(2);E("data-pc-section","end"),l(),s("ngTemplateOutlet",e.endTemplate)}}function Ui(n,i){if(n&1){let e=G();p(0,"div",4,0),g("click",function(o){T(e);let a=r();return S(a.onOverlayClick(o))})("@overlayAnimation.start",function(o){T(e);let a=r();return S(a.onOverlayAnimationStart(o))})("@overlayAnimation.done",function(o){T(e);let a=r();return S(a.onOverlayAnimationEnd(o))}),c(2,Ii,2,2,"div",5),p(3,"ul",6,1),g("focus",function(o){T(e);let a=r();return S(a.onListFocus(o))})("blur",function(o){T(e);let a=r();return S(a.onListBlur(o))})("keydown",function(o){T(e);let a=r();return S(a.onListKeyDown(o))}),c(5,Bi,1,1,null,7)(6,Hi,1,1,null,7),m(),c(7,$i,2,2,"div",8),m()}if(n&2){let e=r();ie(e.styleClass),s("ngClass",L(18,yi,e.popup))("ngStyle",e.style)("@overlayAnimation",L(23,vi,z(20,Ci,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),E("data-pc-name","menu")("id",e.id),l(2),s("ngIf",e.startTemplate),l(),E("id",e.id+"_list")("tabindex",e.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",e.activedescendant())("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),l(2),s("ngIf",e.hasSubMenu()),l(),s("ngIf",!e.hasSubMenu()),l(),s("ngIf",e.endTemplate)}}var Wt=(()=>{class n{platformId;sanitizer;constructor(e,t){this.platformId=e,this.sanitizer=t}transform(e){return!e||!oe(this.platformId)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(t){return new(t||n)(R(Te,16),R(gt,16))};static \u0275pipe=Xe({name:"safeHtml",type:n,pure:!0})}return n})(),Gi=(()=>{class n{item;itemTemplate;onMenuItemClick=new K;menu;constructor(e){this.menu=e}onItemClick(e,t){this.onMenuItemClick.emit({originalEvent:e,item:t})}static \u0275fac=function(t){return new(t||n)(R(Ze(()=>ze)))};static \u0275cmp=v({type:n,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate"},outputs:{onMenuItemClick:"onMenuItemClick"},attrs:ii,decls:5,vars:3,consts:[["itemContent",""],["htmlLabel",""],[1,"p-menuitem-content",3,"click"],[4,"ngIf"],["class","p-menuitem-link","pRipple","",3,"target","ngClass",4,"ngIf"],["routerLinkActive","p-menuitem-link-active","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",1,"p-menuitem-link",3,"target","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menuitem-link-active","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"]],template:function(t,o){if(t&1){let a=G();p(0,"div",2),g("click",function(_){return T(a),S(o.onItemClick(_,o.item))}),c(1,li,3,2,"ng-container",3)(2,ci,2,4,"ng-container",3)(3,gi,5,4,"ng-template",null,0,ue),m()}t&2&&(E("data-pc-section","content"),l(),s("ngIf",!o.itemTemplate),l(),s("ngIf",o.itemTemplate))},dependencies:[ne,Ae,Re,Be,fe,bt,Mt,Wt],encapsulation:2})}return n})(),ze=(()=>{class n{document;platformId;el;renderer;cd;config;overlayService;model;popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;onShow=new K;onHide=new K;onBlur=new K;onFocus=new K;listViewChild;containerViewChild;templates;startTemplate;endTemplate;itemTemplate;submenuHeaderTemplate;container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=I(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=h(-1);selectedOptionIndex=h(-1);focused=!1;overlayVisible=!1;relativeAlign;constructor(e,t,o,a,u,_,f){this.document=e,this.platformId=t,this.el=o,this.renderer=a,this.cd=u,this.config=_,this.overlayService=f,this.id=this.id||Ct()}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.visible&&this.target!==e.currentTarget&&this.hide(),this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.detectChanges()}ngOnInit(){this.popup||this.bindDocumentClickListener()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template;break;case"itemTemplate":this.itemTemplate=e.template;break;case"submenuheader":this.submenuHeaderTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),M.focus(this.listViewChild.nativeElement),this.preventDocumentDefault=!0);break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.autoZIndex&&he.clear(e.element);break}}alignOverlay(){this.relativeAlign?M.relativePosition(this.container,this.target):M.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):M.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&he.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.detectChanges()}onWindowResize(){this.visible&&!M.isTouchDevice()&&this.hide()}menuitemId(e,t,o,a){return e?.id??`${t}_${o}${a!==void 0?"_"+a:""}`}isItemFocused(e){return this.focusedOptionId()===e}label(e){return typeof e=="function"?e():e}disabled(e){return typeof e=="function"?e():typeof e>"u"?!1:e}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(e){this.focused||(this.focused=!0,this.onFocus.emit(e))}onListBlur(e){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(e))}onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":case"Tab":this.popup&&(M.focus(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(e){let t=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(t),e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.popup)M.focus(this.target),this.hide(),e.preventDefault();else{let t=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(t),e.preventDefault()}}onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()}onEndKey(e){this.changeFocusedOptionIndex(M.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()}onEnterKey(e){let t=M.findSingle(this.containerViewChild.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),o=t&&M.findSingle(t,"a");this.popup&&M.focus(this.target),o?o.click():t&&t.click(),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextOptionIndex(e){let o=[...M.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(a=>a.id===e);return o>-1?o+1:0}findPrevOptionIndex(e){let o=[...M.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(a=>a.id===e);return o>-1?o-1:0}changeFocusedOptionIndex(e){let t=M.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(t.length>0){let o=e>=t.length?t.length-1:e<0?0:e;o>-1&&this.focusedOptionIndex.set(t[o].getAttribute("id"))}}itemClick(e,t){let{originalEvent:o,item:a}=e;if(this.focused||(this.focused=!0,this.onFocus.emit()),a.disabled){o.preventDefault();return}!a.url&&!a.routerLink&&o.preventDefault(),a.command&&a.command({originalEvent:o,item:a}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==t&&this.focusedOptionIndex.set(t)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&oe(this.platformId)){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",t=>{let o=t.composed?t.composedPath()[0]:t.target,a=this.containerViewChild?.nativeElement&&!this.containerViewChild?.nativeElement.contains(o),u=!(this.target&&(this.target===o||this.target.contains(o)));!this.popup&&a&&u&&this.onListBlur(t),this.preventDocumentDefault&&this.overlayVisible&&a&&u&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&oe(this.platformId)){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&oe(this.platformId)&&(this.scrollHandler=new It(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&he.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener()}hasSubMenu(){if(this.model){for(var e of this.model)if(e.items)return!0}return!1}isItemHidden(e){return e.separator?e.visible===!1||e.items&&e.items.some(t=>t.visible!==!1):e.visible===!1}static \u0275fac=function(t){return new(t||n)(R(dt),R(Te),R(et),R(it),R(ct),R(kt),R(vt))};static \u0275cmp=v({type:n,selectors:[["p-menu"]],contentQueries:function(t,o,a){if(t&1&&rt(a,xt,4),t&2){let u;me(u=ce())&&(o.templates=u)}},viewQuery:function(t,o){if(t&1&&(Oe(_i,5),Oe(bi,5)),t&2){let a;me(a=ce())&&(o.listViewChild=a.first),me(a=ce())&&(o.containerViewChild=a.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",Fe],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",Fe],baseZIndex:[2,"baseZIndex","baseZIndex",Le],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",Le]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[nt],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","ngClass","ngStyle"],["class","p-menu-start",4,"ngIf"],["role","menu",1,"p-menu-list","p-reset",3,"focus","blur","keydown"],[4,"ngIf"],["class","p-menu-end",4,"ngIf"],[1,"p-menu-start"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["class","p-menuitem-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menuitem-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","menuitem",3,"pMenuItemContent","itemTemplate","ngClass","ngStyle","class","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",1,"p-menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","ngClass","ngStyle","tooltipOptions"],[1,"p-menu-end"]],template:function(t,o){t&1&&c(0,Ui,8,25,"div",3),t&2&&s("ngIf",!o.popup||o.visible)},dependencies:[ne,ft,Ae,Re,Be,Tt,Gi,Wt],styles:[`@layer primeng{.p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}}
`],encapsulation:2,data:{animation:[yt("overlayAnimation",[$e(":enter",[Ne({opacity:0,transform:"scaleY(0.8)"}),He("{{showTransitionParams}}")]),$e(":leave",[He("{{hideTransitionParams}}",Ne({opacity:0}))])])]},changeDetection:0})}return n})(),Xt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=We({type:n});static \u0275inj=Qe({imports:[ht,Ve,Dt,ae,Ue,Ve,ae,Ue]})}return n})();var ve=class{id;customer_id;offer_id;membership_id;type_user;start_date;end_date;constructor(i){this.id=i?.id||null,this.customer_id=i?.customer_id||null,this.offer_id=i?.offer_id||null,this.membership_id=i?.membership_id||null,this.type_user=i?.type_user||"individual",this.start_date=i?.start_date||null,this.end_date=i?.end_date||null}};var ke=class n extends ee{#i=d(X);#e=d(U).getGlobalEntityList("membership-offer-shared");#t=d(U).getGlobalEntityList("membership-offer-deskarea");#n=d(U).getGlobalEntityList("global-offer-membership");totalPrice=h(0);offerPrice=h(0);typeOffer=h("amount");ngOnInit(){this.clearCachingLists.set(["individual/index","company/index","studentActivity/index","assignes-membership/individual","assignes-membership/company","assignes-membership/studentActivity","assignes-membership/user"]),this.dialogMeta=C(b({},this.dialogMeta),{dialogData$:this.#e,endpoints:{store:"assignes-membership/store"}}),this.dialogMeta=C(b({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Memeber Ship"),submitButtonLabel:this.translate.instant("Create Memeber Ship")}),this.model=new ve(this.editData),this.fields=this.configureFields()}configureFields(){return[this.#i.fieldBuilder([{key:"start_date",type:"date-field",className:"col-12 md:col-4",props:{minDate:new Date,required:!0,format:"YYYY-MM-DD",hourFormat:"24",label:"start date"}},{key:"end_date",type:"date-field",className:"col-12 md:col-4",props:{minDate:new Date,required:!0,format:"YYYY-MM-DD",hourFormat:"24",label:"end date"}},{key:"offer_id",type:"select-field",props:{isFloatedLabel:!0,label:"Global Offer",placeholder:"Global Offer",options:this.#n.pipe(y(i=>i.map(e=>({label:e.name,value:e.id}))))},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(V(e=>this.#n.pipe(y(t=>t.find(o=>o.id===e)),D(t=>{let o=t.type_discount,a=t.discount;this.typeOffer.set(o),this.offerPrice.set(a);let _=i?.parent?.parent?.fieldGroup?.[1]?.get?.("price");this.#o(_)}))))}}]),this.#i.fieldBuilder([{key:"choose_package",type:"select-field",className:"col-12 md:col-4",props:{isFloatedLabel:!0,label:"type",options:[{label:"shared",value:"shared"},{label:"deskarea",value:"deskarea"}]},hooks:{onInit:i=>i?.formControl?.valueChanges.pipe(V(e=>{let t=i?.parent?.get?.("membership_id");return e==="shared"?this.#e.pipe(y(o=>o.map(a=>b({label:a.name,value:a.id},a))),D(o=>{t?.props&&(t.props.options=o)})):this.#t.pipe(Ke(y(o=>o.map(a=>b({label:a.name,value:a.id},a))),D(o=>{t?.props&&(t.props.options=o)})))}))}},{key:"membership_id",type:"select-field",className:"col-12 md:col-4",props:{isFloatedLabel:!0,label:"Memeber ship",options:this.#e.pipe(y(i=>i.map(e=>b({label:e.name,value:e.id},e))))},hooks:{onInit:i=>i?.formControl?.valueChanges.pipe(V(e=>{let t=i?.parent?.parent?.fieldGroup?.[1].get?.("choose_package")?.formControl?.value,o=i?.parent?.get?.("total_price");return t==="shared"?this.#e.pipe(y(a=>a.find(u=>u.id===e)),D(a=>{this.totalPrice.set(a.price),this.#o(o)})):this.#t.pipe(y(a=>a.find(u=>u.id===e)),D(a=>{this.totalPrice.set(a.price),this.#o(o)}))}))}},{key:"total_price",type:"floated-input-field",className:"col-12 md:col-4",props:{disabled:!0,type:"number",required:!0,label:"total price"}}])]}#o(i){if(!this.totalPrice())return;let e=this.typeOffer()==="amount"?this.offerPrice():this.totalPrice()*(this.offerPrice()/100);i?.formControl?.setValue(this.totalPrice()-e)}static \u0275fac=(()=>{let i;return function(t){return(i||(i=Y(n)))(t||n)}})();static \u0275cmp=v({type:n,selectors:[["app-assign-memeber-ship"]],standalone:!0,features:[Z,F],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(e,t){e&1&&(p(0,"app-form",0),k(1,"async"),g("onSubmit",function(){return t.createUpdateRecord(t.dialogMeta.endpoints)}),H(2,1),p(3,"div",2)(4,"h2",3),O(5),m(),p(6,"button",4),g("click",function(){return t.closeDialog()}),m()(),N(),m()),e&2&&(s("form",t.createUpdateForm)("model",t.model)("fields",t.fields)("options",t.options)("showSubmitButton",t.dialogMeta.showSubmitButton)("buttonLabel",t.dialogMeta.submitButtonLabel)("isFiledsLoaded",x(1,9,t.dialogMeta.dialogData$))("submitBtnLoading",t.isLoading()),l(5),Q(" ",t.dialogMeta.dialogTitle," "))},dependencies:[W,$,ge,B,A,J],encapsulation:2,changeDetection:0})};var xe=class{id;customer_id;offer_id;package_id;type_user;start_date;end_date;constructor(i){this.id=i?.id||null,this.customer_id=i?.customer_id||null,this.offer_id=i?.offer_id||null,this.package_id=i?.package_id||null,this.type_user=i?.type_user||"individual",this.start_date=i?.start_date||null,this.end_date=i?.end_date||null}};var Ie=class n extends ee{#i=d(X);#e=d(U).getGlobalEntityList("offer-package-offer");#t=d(U).getGlobalEntityList("global-offer-packages");totalHour=h(0);priceOfHour=h(0);offerPrice=h(0);typeOffer=h("amount");ngOnInit(){this.clearCachingLists.set(["individual/index","company/index","studentActivity/index","assignes-package/individual","assignes-package/company","assignes-package/studentActivity","assignes-package/user"]),this.dialogMeta=C(b({},this.dialogMeta),{dialogData$:pe([this.#e,this.#t]),endpoints:{store:"assignes-package/store"}}),this.dialogMeta=C(b({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Packages Rooms"),submitButtonLabel:this.translate.instant("Create Packages Rooms")}),this.model=new xe(this.editData),this.fields=this.configureFields()}configureFields(){return[this.#i.fieldBuilder([{key:"package_id",type:"select-field",className:"col-12 md:col-4",props:{isFloatedLabel:!0,label:"Rooms",options:this.#e.pipe(y(i=>i.map(e=>({label:e.name,value:e.id}))))},hooks:{onInit:i=>i?.formControl?.valueChanges.pipe(V(e=>{let t=i?.parent?.get?.("total_price");return this.#e.pipe(y(o=>o.find(a=>a.id===e)),D(o=>{this.totalHour.set(o.hours),this.priceOfHour.set(o.price),this.#n(t),i.props&&(i.props.description=`Capacity This Room Is ${o.room.capacity}`)}))}))}},{key:"offer_id",type:"select-field",className:"col-12 md:col-4",props:{isFloatedLabel:!0,label:"Global Offer",placeholder:"Global Offer",options:this.#t.pipe(y(i=>i.map(e=>({label:e.name,value:e.id}))))},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(V(e=>this.#t.pipe(y(t=>t.find(o=>o.id===e)),D(t=>{let o=t.type_discount,a=t.discount;this.typeOffer.set(o),this.offerPrice.set(a);let _=i?.parent?.parent?.fieldGroup?.[0]?.get?.("total_price");this.#n(_)}))))}},{key:"total_price",type:"floated-input-field",className:"col-12 md:col-4",props:{disabled:!0,type:"number",required:!0,label:"total price"}},{key:"start_date",type:"date-field",className:"col-12 md:col-4",props:{minDate:new Date,required:!0,format:"YYYY-MM-DD",hourFormat:"24",label:"start date"}},{key:"end_date",type:"date-field",className:"col-12 md:col-4",props:{minDate:new Date,required:!0,format:"YYYY-MM-DD",hourFormat:"24",label:"end date"}}])]}#n(i){if(!this.priceOfHour())return;let e=this.priceOfHour()*this.totalHour(),t=this.typeOffer()==="amount"?this.offerPrice():e*(this.offerPrice()/100);i?.formControl?.setValue(e-t)}static \u0275fac=(()=>{let i;return function(t){return(i||(i=Y(n)))(t||n)}})();static \u0275cmp=v({type:n,selectors:[["app-assign-package"]],standalone:!0,features:[Z,F],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(e,t){e&1&&(p(0,"app-form",0),k(1,"async"),g("onSubmit",function(){return t.createUpdateRecord(t.dialogMeta.endpoints)}),H(2,1),p(3,"div",2)(4,"h2",3),O(5),m(),p(6,"button",4),g("click",function(){return t.closeDialog()}),m()(),N(),m()),e&2&&(s("form",t.createUpdateForm)("model",t.model)("fields",t.fields)("options",t.options)("showSubmitButton",t.dialogMeta.showSubmitButton)("buttonLabel",t.dialogMeta.submitButtonLabel)("isFiledsLoaded",x(1,9,t.dialogMeta.dialogData$))("submitBtnLoading",t.isLoading()),l(5),Q(" ",t.dialogMeta.dialogTitle," "))},dependencies:[W,$,ge,B,A,J],encapsulation:2,changeDetection:0})};var le=class{id;room_id;offer_id;hours;price_hour;total;type_user;customer_id;constructor(i){this.id=i?.id||null,this.room_id=i?.room_id||null,this.offer_id=i?.offer_id||null,this.hours=i?.hours||null,this.price_hour=i?.price_hour??0,this.total=i?.total??0,this.type_user=i?.type_user||"individual",this.customer_id=i?.customer_id||null}};var Me=class n extends ee{#i=d(X);#e=d(U).getGlobalEntityList("room");#t=d(U).getGlobalEntityList("global-offer-packages");totalHour=h(0);priceOfHour=h(0);offerPrice=h(0);typeOffer=h("amount");ngOnInit(){this.clearCachingLists.set(["individual/index","company/index","studentActivity/index","deals/individual","deals/company","deals/studentActivity","deals/user"]),this.dialogMeta=C(b({},this.dialogMeta),{dialogData$:pe([this.#e,this.#t]),endpoints:{store:"deals/store",update:"deals/update"}}),this.editData&&this.editData.method!=="create"?(this.dialogMeta=C(b({},this.dialogMeta),{dialogTitle:this.translate.instant("Update Deal"),submitButtonLabel:this.translate.instant("Update Deal")}),this.model=new le(this.editData)):(this.dialogMeta=C(b({},this.dialogMeta),{dialogTitle:this.translate.instant("Create Deal"),submitButtonLabel:this.translate.instant("Create Deal")}),this.model=new le(this.editData)),this.fields=this.configureFields()}configureFields(){return[this.#i.fieldBuilder([{key:"start_date",type:"date-field",props:{required:!0,minDate:new Date,format:"YYYY-MM-DD",hourFormat:"24",label:"start date"}},{key:"end_date",type:"date-field",props:{required:!0,minDate:new Date,format:"YYYY-MM-DD",hourFormat:"24",label:"end date"}},{key:"room_id",type:"select-field",props:{isFloatedLabel:!0,label:"Room",options:this.#e.pipe(y(i=>i.map(e=>({label:e.name,value:e.id}))))},hooks:{onInit:i=>i?.formControl?.valueChanges.pipe(V(e=>this.#e.pipe(y(t=>t.find(o=>o.id===e)),D(t=>{i.props&&(i.props.description=`Capacity This Room Is ${t.capacity}`)}))))}},{key:"offer_id",type:"select-field",props:{isFloatedLabel:!0,label:"Global Offer",placeholder:"Global Offer",options:this.#t.pipe(y(i=>i.map(e=>({label:e.name,value:e.id}))))},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(V(e=>this.#t.pipe(y(t=>t.find(o=>o.id===e)),D(t=>{let o=t.type_discount,a=t.discount;this.typeOffer.set(o),this.offerPrice.set(a);let _=i?.parent?.parent?.fieldGroup?.[1]?.get?.("total_price");this.#n(_)}))))}}]),this.#i.fieldBuilder([{key:"hours",type:"floated-input-field",className:"md:col-3 col-12",props:{type:"number",required:!0,label:"hours"},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(D(e=>{this.totalHour.set(e);let t=i.parent?.get?.("total_price");this.#n(t)}))}},{key:"price_hour",type:"floated-input-field",className:"md:col-3 col-12",props:{type:"number",required:!0,label:"price By Houer"},hooks:{onInit:i=>i.formControl?.valueChanges.pipe(D(e=>{this.priceOfHour.set(e);let t=i.parent?.get?.("total_price");this.#n(t)}))}},{key:"total_price",type:"floated-input-field",className:"md:col-3 col-12",props:{disabled:!0,type:"number",required:!0,label:"Total Price"}}])]}#n(i){if(!this.priceOfHour()||!this.totalHour())return;let e=this.priceOfHour()*this.totalHour(),t=this.typeOffer()==="amount"?this.offerPrice():e*(this.offerPrice()/100);i?.formControl?.setValue(e-t)}static \u0275fac=(()=>{let i;return function(t){return(i||(i=Y(n)))(t||n)}})();static \u0275cmp=v({type:n,selectors:[["app-deals-dialog"]],standalone:!0,features:[Z,F],decls:7,vars:11,consts:[[3,"onSubmit","form","model","fields","options","showSubmitButton","buttonLabel","isFiledsLoaded","submitBtnLoading"],["ngProjectAs","[header]",5,["","header",""]],[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"]],template:function(e,t){e&1&&(p(0,"app-form",0),k(1,"async"),g("onSubmit",function(){return t.createUpdateRecord(t.dialogMeta.endpoints)}),H(2,1),p(3,"div",2)(4,"h2",3),O(5),m(),p(6,"button",4),g("click",function(){return t.closeDialog()}),m()(),N(),m()),e&2&&(s("form",t.createUpdateForm)("model",t.model)("fields",t.fields)("options",t.options)("showSubmitButton",t.dialogMeta.showSubmitButton)("buttonLabel",t.dialogMeta.submitButtonLabel)("isFiledsLoaded",x(1,9,t.dialogMeta.dialogData$))("submitBtnLoading",t.isLoading()),l(5),Q(" ",t.dialogMeta.dialogTitle," "))},dependencies:[W,$,B,A,J],encapsulation:2,changeDetection:0})};var Jt=class n{destroyRef=d(Je);translate=d(St);dialogService=d(Pt);posService=d(Ht);router=d(_t);cacheFilters=d(Vt);datePipe=d(Ee);dialogRef;typeUser=P("individual");permissionShared=P.required();permissionDeskArea=P.required();permissionDeal=P.required();permissionMemebership=P.required();permissionPackage=P.required();recordId=P.required();dialogConfig=P.required();clearCachingLists=P.required();constants=At;records=Bt();record=I(()=>this.records().find(i=>i.id===this.recordId()));membership=I(()=>this.record()?.assign_memberships?.[0]?.memeberShip);package=I(()=>this.record()?.assignesPackages?.[0]?.packages);hasMembership=I(()=>!!this.membership());hasPackage=I(()=>!!this.package());isSharedType=I(()=>this.membership()?.type==="shared");isDeskAreaType=I(()=>this.membership()?.type==="deskarea");menuItems=I(()=>this.buildMenuItems());buildMenuItems(){return[this.createSharedMenuItem(),this.createDeskAreaMenuItem(),this.createRoomsMenuItem(),this.createDealMenuItem(),this.createKitchenMenuItem(),this.createViewMembershipMenuItem(),this.createAssignMembershipMenuItem(),this.createAssignPackageMenuItem(),this.createViewPackageMenuItem()].filter(i=>i!==null)}createSharedMenuItem(){return this.permissionShared()?{label:this.getTranslation("Shared"),icon:"pi pi-share-alt text-sm",command:()=>this.handleDialogOpen("shared"),disabled:this.isSharedType()}:null}createDeskAreaMenuItem(){return this.permissionDeskArea()?{label:this.getTranslation("DeskArea"),icon:"pi pi-share-alt text-sm",command:()=>this.handleDialogOpen("deskarea"),disabled:this.isDeskAreaType()}:null}createRoomsMenuItem(){return this.permissionDeskArea()?{label:this.getTranslation("Rooms"),icon:"pi pi-share-alt text-sm",command:()=>this.handleDialogOpen("room")}:null}createDealMenuItem(){return this.permissionDeal()?{label:this.getTranslation("Deal"),icon:"fas fa-money-bills text-sm",command:()=>this.handleDialogOpen("deal")}:null}createKitchenMenuItem(){return{label:this.getTranslation("Kitchen"),icon:"fa-solid fa-kitchen-set text-sm",command:()=>this.navigateToPOS()}}createViewMembershipMenuItem(){return!this.permissionMemebership()||!this.hasMembership()?null:{label:this.getTranslation("View Membership"),icon:"fas fa-money-bills text-sm",command:()=>this.handleDialogOpen("view-membership")}}createAssignMembershipMenuItem(){return!this.permissionMemebership()||this.hasMembership()?null:{label:this.getTranslation("Membership"),icon:"fas fa-money-bills text-sm",command:()=>this.handleDialogOpen("membership")}}createAssignPackageMenuItem(){return!this.permissionPackage()||this.hasPackage()?null:{label:this.getTranslation("Packages Rooms"),icon:"fas fa-money-bills text-sm",command:()=>this.handleDialogOpen("package")}}createViewPackageMenuItem(){return!this.permissionPackage()||!this.hasPackage()?null:{label:this.getTranslation("View Packages Rooms"),icon:"fas fa-money-bills text-sm",command:()=>this.handleDialogOpen("view-package")}}handleDialogOpen(i){let t={shared:this.createSharedDialogConfig(),deskarea:this.createDeskAreaDialogConfig(),room:this.createRoomDialogConfig(),deal:this.createDealDialogConfig(),membership:this.createMembershipDialogConfig(),package:this.createPackageDialogConfig(),"view-membership":this.createViewMembershipConfig(),"view-package":this.createViewPackageConfig()}[i];t&&this.openDialog(t.component,t.config,t.callback)}openDialog(i,e,t){this.dialogRef=this.dialogService.open(i,e),this.dialogRef.onClose.pipe(Ft(this.destroyRef)).subscribe(o=>{o&&t&&(t(o),this.cacheFilters.deleteAnotherCacheEndPoint(this.clearCachingLists()))})}navigateToPOS(){this.posService.setCustomerId.set(this.record()?.id),this.posService.setCustomerType.set(this.typeUser()),this.router.navigate(["/pos"],{queryParams:{userData:JSON.stringify({id:this.record()?.id,type:this.typeUser()})}})}createBaseDialogConfig(i,e){return C(b({},this.dialogConfig()),{width:i,data:C(b(b({},this.dialogConfig().data),e),{method:"create",customer_id:this.recordId(),type_user:this.typeUser()})})}createSharedDialogConfig(){return{component:Ge,config:this.createBaseDialogConfig("700px",{typeReservation:"shared",endpointStore:"shared/store",endpointUpdate:"shared/update",endpointListOffers:"global-offer-shared"})}}createDeskAreaDialogConfig(){return{component:Ge,config:this.createBaseDialogConfig("700px",{typeReservation:"deskarea",endpointStore:"deskarea/store",endpointUpdate:"deskarea/update",endpointListOffers:"global-offer-deskarea"})}}createRoomDialogConfig(){return{component:Nt,config:this.createBaseDialogConfig("700px",{endpointStore:"reservation-room/store",endpointListOffers:"global-offer-rooms"})}}createDealDialogConfig(){return{component:Me,config:this.createBaseDialogConfig("980px",{})}}createMembershipDialogConfig(){return{component:ke,config:this.createBaseDialogConfig("700px",{}),callback:i=>this.updateRecordMembership(i)}}createPackageDialogConfig(){return{component:Ie,config:this.createBaseDialogConfig("700px",{}),callback:i=>this.updateRecordPackage(i)}}createViewMembershipConfig(){return{component:qe,config:this.createBaseDialogConfig("700px",{title:`Membership for ${this.record()?.name}`,items:this.createMembershipDetails()})}}createViewPackageConfig(){return{component:qe,config:this.createBaseDialogConfig("700px",{title:`Package for ${this.record()?.name}`,items:this.createPackageDetails()})}}createMembershipDetails(){let i=this.membership();return[{label:"Membership Name",value:i?.name},{label:"Membership Days",value:i?.days},{label:"Membership Price",value:i?.price},{label:"Membership Type",value:i?.type},{label:"Used",value:this.record()?.assign_memberships?.[0]?.used},{label:"Remaining",value:this.record()?.assign_memberships?.[0]?.remaining},{label:"Status",value:this.record()?.assign_memberships?.[0]?.status},{label:"Start Date",value:this.formatDate(this.record()?.assign_memberships?.[0]?.start_date)},{label:"End Date",value:this.formatDate(this.record()?.assign_memberships?.[0]?.end_date)}]}createPackageDetails(){let i=this.package();return[{label:"Package Name",value:i?.name},{label:"Package Hours",value:i?.hours},{label:"Package Price",value:i?.price},{label:"Room",value:i?.room?.name},{label:"Used",value:this.record()?.assignesPackages?.[0]?.used},{label:"Remaining",value:this.record()?.assignesPackages?.[0]?.remaining},{label:"Start Date",value:this.formatDate(this.record()?.assignesPackages?.[0]?.start_date)},{label:"End Date",value:this.formatDate(this.record()?.assignesPackages?.[0]?.end_date)}]}formatDate(i){return this.datePipe.transform(i,"M/d/yyyy")||""}updateRecordMembership(i){this.records.update(e=>e.map(t=>t.id===this.recordId()?C(b({},t),{assign_memberships:[i]}):t))}updateRecordPackage(i){this.records.update(e=>e.map(t=>t.id===this.recordId()?C(b({},t),{assignesPackages:[i]}):t))}getTranslation(i){return this.translate.instant(i)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-menu-collapse-actions"]],inputs:{typeUser:[1,"typeUser"],permissionShared:[1,"permissionShared"],permissionDeskArea:[1,"permissionDeskArea"],permissionDeal:[1,"permissionDeal"],permissionMemebership:[1,"permissionMemebership"],permissionPackage:[1,"permissionPackage"],recordId:[1,"recordId"],dialogConfig:[1,"dialogConfig"],clearCachingLists:[1,"clearCachingLists"]},standalone:!0,features:[pt([Ee]),F],decls:3,vars:2,consts:[["menu",""],["pButton","","icon","pi pi-ellipsis-v",1,"w-2rem","bg-transparent","text-orange-500","border-none",3,"click"],["appendTo","body",3,"model","popup"]],template:function(e,t){if(e&1){let o=G();p(0,"button",1),g("click",function(u){T(o);let _=j(2);return S(_.toggle(u))}),m(),w(1,"p-menu",2,0)}e&2&&(l(),s("model",t.menuItems())("popup",!0))},dependencies:[Xt,ze,B,A],changeDetection:0})};function Yi(n,i){if(n&1){let e=G();p(0,"p-button",9),g("click",function(){let o=T(e).$index,a=r(2);return S(a.setActiveIndex(o))}),m()}if(n&2){let e=i.$implicit,t=i.$index,o=r(2);s("outlined",o.activeIndex()!==t)("label",e.label)}}function Ki(n,i){n&1&&q(0)}function Zi(n,i){if(n&1&&c(0,Ki,1,0,"ng-container",10),n&2){let e=r(2);s("ngComponentOutlet",e.filterTabs()[e.activeIndex()].component)("ngComponentOutletInputs",e.filterTabs()[e.activeIndex()].inputs)}}function Qi(n,i){if(n&1&&(p(0,"div",3)(1,"div",5)(2,"div",6),at(3,Yi,1,2,"p-button",7,ot),m()(),p(5,"div",8),c(6,Zi,1,2,"ng-container"),m()()),n&2){let e=r();l(3),st(e.filterButton()),l(3),we(e.filterTabs()[e.activeIndex()]?6:-1)}}function Wi(n,i){n&1&&(p(0,"h3",4),O(1," U Don't have Permission here "),m())}var ei=class n{#i=d(ye);#e=d(Ot);#t=d(wt);data=this.#t.data;buttons=I(()=>[{label:"membership",visible:this.checkPermission(this.resource.AssignesMembership)},{label:"General Offers",visible:this.checkPermission(this.resource.AssignGeneralOffer)},{label:"Packages",visible:this.checkPermission(this.resource.AssignesPackage)},{label:"Orders",visible:this.checkPermission(this.resource.Order)},{label:"shared",visible:this.checkPermission(this.resource.Order)},{label:"deskarea",visible:this.checkPermission(this.resource.Deskarea)},{label:"rooms",visible:this.checkPermission(this.resource.ReservationRoom)},{label:"deals",visible:this.checkPermission(this.resource.Deals)}]);resource=be;tabs=h([{component:Gt,visible:this.checkPermission(this.resource.AssignesMembership),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.AssignesMembership,key:this.data.key}},{component:$t,visible:this.checkPermission(this.resource.AssignGeneralOffer),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.AssignGeneralOffer,key:this.data.key}},{component:Ut,visible:this.checkPermission(this.resource.AssignesPackage),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.AssignesPackage,key:this.data.key}},{component:Yt,visible:this.checkPermission(this.resource.Order),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.Order,key:this.data.key}},{component:jt,visible:this.checkPermission(this.resource.Shared),inputs:{id:this.data.id,endpoint:`shared/${this.data.endpoint}`,keyState:this.data.keyState,resourse:this.resource.Shared,key:this.data.key,titleIndex:"shareds",iconIndex:"fa-solid fa-building",endpointChangeStatus:"shared/update",typeReservation:"shared",endpointStore:"shared/store",endpointUpdate:"shared/update",endpointListOffers:"global-offer-shared",provideFields:["note","start_hour","start_minute","start_time","end_hour","end_minute","end_time"]}},{component:qt,visible:this.checkPermission(this.resource.Deskarea),inputs:{id:this.data.id,endpoint:`deskarea/${this.data.endpoint}`,keyState:this.data.keyState,resourse:this.resource.Deskarea,key:this.data.key,titleIndex:"deskarea",iconIndex:"fa-solid fa-building",endpointChangeStatus:"deskarea/update",typeReservation:"deskarea",endpointStore:"deskarea/store",endpointUpdate:"deskarea/update",endpointListOffers:"global-offer-deskarea",provideFields:["note","start_hour","start_minute","start_time","end_hour","end_minute","end_time"]}},{component:Kt,visible:this.checkPermission(this.resource.ReservationRoom),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.ReservationRoom,key:this.data.key}},{component:zt,visible:this.checkPermission(this.resource.Deals),inputs:{id:this.data.id,endpoint:this.data.endpoint,keyState:this.data.keyState,resourse:this.resource.Deals,key:this.data.key}}]);checkPermission(i){return this.#i.hasPermission(i,"index")}filterTabs=I(()=>this.tabs().filter(i=>i.visible));filterButton=I(()=>this.buttons().filter(i=>i.visible));activeIndex=h(0);setActiveIndex(i){this.activeIndex.set(i)}closeDialog(i){this.#e.close(i)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-view-client"]],standalone:!0,features:[F],decls:7,vars:5,consts:[[1,"flex","align-items-center","justify-content-between","w-full","p-3","border-bottom-1","border-300","bg-white"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-0"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"flex-shrink-0","p-button-text","p-button-plain","p-button-rounded","w-2rem","h-2rem",3,"click"],[1,"px-3","py-2"],[1,"flex","justify-content-center","h-full","capitalize","align-items-center","text-gray-400","font-bold","text-4xl"],[1,"scrollable-tabs"],[1,"flex","m-1","gap-2"],["rounded","true","styleClass","py-1 px-3 transition-none white-space-nowrap shadow-none capitalize","iconPos","right",3,"outlined","label"],[1,"mt-5"],["rounded","true","styleClass","py-1 px-3 transition-none white-space-nowrap shadow-none capitalize","iconPos","right",3,"click","outlined","label"],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(e,t){e&1&&(p(0,"div",0)(1,"h2",1),O(2),k(3,"translate"),m(),p(4,"button",2),g("click",function(){return t.closeDialog()}),m()(),c(5,Qi,7,1,"div",3)(6,Wi,2,0,"h3",4)),e&2&&(l(2),lt(" ",x(3,3,"History Of ")," ",t.data.name," "),l(3),we(t.filterButton().length?5:6))},dependencies:[$,_e,Rt,B,A,Lt,ae,ut],styles:[".scrollable-tabs[_ngcontent-%COMP%]{width:100%;padding-bottom:10px;overflow-x:auto;scrollbar-width:thin}.scrollable-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}"],changeDetection:0})};var Ye=(n,i)=>({"text-white":n,"p-button-text ":i});function Xi(n,i){if(n&1&&(w(0,"a",4),k(1,"translate")),n&2){let e=r();s("ngClass",z(4,Ye,e.type()==="company",e.type()!=="company"))("label",x(1,2,"Company"))}}function Ji(n,i){if(n&1&&(w(0,"a",5),k(1,"translate")),n&2){let e=r();s("ngClass",z(4,Ye,e.type()==="student-activities",e.type()!=="student-activities"))("label",x(1,2,"Student Activity"))}}function en(n,i){if(n&1&&(w(0,"a",6),k(1,"translate")),n&2){let e=r();s("ngClass",z(4,Ye,e.type()==="individual",e.type()!=="individual"))("label",x(1,2,"Individual"))}}var ti=class n{userPermission=d(ye);type=P("");resource=be;hasPermission(i){return this.userPermission.hasPermission(i,"index")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-links-client"]],inputs:{type:[1,"type"]},standalone:!0,features:[F],decls:7,vars:3,consts:[[1,"list-none","m-0","p-0","flex","flex-wrap","gap-3","align-items-center"],["pButton","","class","text-xs py-2 shadow-none","icon","fa-solid fa-building","routerLink","/clients/company",3,"ngClass","label",4,"appHasPermission"],["pButton","","class","text-xs py-2 shadow-none","icon","pi pi-users","routerLink","/clients/student-activities",3,"ngClass","label",4,"appHasPermission"],["pButton","","class","text-xs py-2 shadow-none","icon","fa-solid fa-user","routerLink","/clients/individual",3,"ngClass","label",4,"appHasPermission"],["pButton","","icon","fa-solid fa-building","routerLink","/clients/company",1,"text-xs","py-2","shadow-none",3,"ngClass","label"],["pButton","","icon","pi pi-users","routerLink","/clients/student-activities",1,"text-xs","py-2","shadow-none",3,"ngClass","label"],["pButton","","icon","fa-solid fa-user","routerLink","/clients/individual",1,"text-xs","py-2","shadow-none",3,"ngClass","label"]],template:function(e,t){e&1&&(p(0,"ul",0)(1,"li"),c(2,Xi,2,7,"a",1),m(),p(3,"li"),c(4,Ji,2,7,"a",2),m(),p(5,"li"),c(6,en,2,7,"a",3),m()()),e&2&&(l(2),s("appHasPermission",t.hasPermission(t.resource.Company)),l(2),s("appHasPermission",t.hasPermission(t.resource.StudentActivity)),l(2),s("appHasPermission",t.hasPermission(t.resource.Individual)))},dependencies:[fe,ne,B,A,Et,$,_e],changeDetection:0})};export{Jt as a,ei as b,ti as c};
