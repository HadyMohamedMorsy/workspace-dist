import{D as E,Y as z,Ya as Q,Z as I,ba as P,fa as K,n as k,o as N,r as w,ra as H,sa as J,u as L,w as T,y as q}from"./chunk-B2YRLTHG.js";import{A as O,C as A,D as U,E as $}from"./chunk-VGJJ4SUB.js";import"./chunk-NU2CE2PW.js";import{c as R,d as V,e as j}from"./chunk-DBWXYH2V.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import"./chunk-Y2JJNTGM.js";import{Ba as _,Bb as s,Gb as v,Kb as o,Lb as l,M as b,Mb as a,Qb as x,Tb as M,Ub as d,W as y,db as r,dc as B,ea as n,fc as D,ia as h,mc as G,nb as m,ua as C,va as S,wb as F,xc as u,yc as c}from"./chunk-I6HS2BDL.js";import{a as p}from"./chunk-5KTCK5IS.js";function X(t,i){if(t&1){let e=x();o(0,"h2",1),a(1,"i",2),B(2),u(3,"translate"),l(),a(4,"p-divider"),o(5,"form",3),M("ngSubmit",function(){C(e);let W=d();return S(W.update())}),o(6,"div"),a(7,"formly-form",4),l(),o(8,"div",5),a(9,"button",6),u(10,"translate"),l()()}if(t&2){let e=d();r(2),D(" ",c(3,7,"General Settings")," "),r(3),s("formGroup",e.generalSettingsForm),r(2),s("model",e.model)("fields",e.fields)("form",e.generalSettingsForm),r(2),s("loading",e.submitBtnLoading())("label",c(10,9,"update"))}}function Y(t,i){t&1&&a(0,"app-spinner")}var f=class t{#e=n(P);#t=n(I);#i=n(z);#n=n(_);#r=n(Q);generalSettingsForm=new N({});fields;model={};loadingScreen=m(!0);submitBtnLoading=m(!1);type="store";ngOnInit(){return this.#t.getListData("general-settings/index","POST",{},"general-settings/index").pipe(y(i=>{i?.length&&(this.type="update"),i?.length&&(this.model=p(p({},this.model),i[0])),this.loadingScreen.set(!1),this.fields=this.configureFields()})).subscribe()}configureFields(){return[this.#e.fieldBuilder([{key:"price_shared",type:"floated-input-field",className:"col-12 md:col-3",props:{type:"number",label:"hour price shared",required:!0}},{key:"price_deskarea",type:"floated-input-field",className:"col-12 md:col-3",props:{type:"number",label:"hour price deskarea",required:!0}},{key:"full_day_price_deskarea",type:"floated-input-field",className:"col-12 md:col-3",props:{type:"number",label:"price of day deskarea",required:!0}},{key:"full_day_price_shared",type:"floated-input-field",className:"col-12 md:col-3",props:{type:"number",label:"price of day shared",required:!0}}])]}update(){this.generalSettingsForm.invalid||(this.submitBtnLoading.set(!0),this.#i.request("post",`general-settings/${this.type}`,this.model).pipe(b(()=>this.submitBtnLoading.set(!1)),j(this.#n)).subscribe(()=>{this.#r.deleteCacheKey("general-settings/index")}))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["app-general-setting"]],standalone:!0,features:[G],decls:3,vars:1,consts:[["styleClass","border-bottom-3 border-primary"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-3"],[1,"fas","fa-edit","text-base"],[3,"ngSubmit","formGroup"],[3,"model","fields","form"],[1,"pt-3","border-top-1","border-300","flex","justify-content-end"],["pButton","","pRipple","","type","submit",1,"capitalize","text-base","p-button-sm","p-button-success","w-13rem","bg-primary-color","border-none","shadow-none",3,"loading","label"]],template:function(e,g){e&1&&(o(0,"p-card",0),F(1,X,11,11)(2,Y,1,0,"app-spinner"),l()),e&2&&(r(),v(g.loadingScreen()?2:1))},dependencies:[J,H,V,R,E,q,K,T,w,k,L,A,O,$,U],encapsulation:2,changeDetection:0})};export{f as default};
