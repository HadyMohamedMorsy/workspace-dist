import{A as N,D as T,F as k,Fa as H,Ga as J,H as E,M as R,ca as V,da as q,kb as K,la as z,na as I,pa as P,ta as A,w,x as L}from"./chunk-AA67JPLF.js";import{A as j,C as O,D as U,E as $}from"./chunk-LBHIXMIT.js";import"./chunk-R2AUDRXA.js";import"./chunk-JXG4LUU7.js";import"./chunk-AHOHCUBB.js";import{Ba as F,Bb as s,Gb as _,Kb as o,Lb as l,M as b,Mb as r,Qb as x,Tb as M,Ub as d,W as y,db as n,dc as B,ea as a,fc as D,ia as C,mc as G,nb as p,ua as h,va as S,wb as v,xc as u,yc as f}from"./chunk-PLVIENQC.js";import{a as m}from"./chunk-5KTCK5IS.js";function W(t,i){if(t&1){let e=x();o(0,"h2",1),r(1,"i",2),B(2),u(3,"translate"),l(),r(4,"p-divider"),o(5,"form",3),M("ngSubmit",function(){h(e);let Q=d();return S(Q.update())}),o(6,"div"),r(7,"formly-form",4),l(),o(8,"div",5),r(9,"button",6),u(10,"translate"),l()()}if(t&2){let e=d();n(2),D(" ",f(3,7,"General Settings")," "),n(3),s("formGroup",e.generalSettingsForm),n(2),s("model",e.model)("fields",e.fields)("form",e.generalSettingsForm),n(2),s("loading",e.submitBtnLoading())("label",f(10,9,"update"))}}function X(t,i){t&1&&r(0,"app-spinner")}var c=class t{#e=a(I);#t=a(K);#i=a(z);#n=a(F);generalSettingsForm=new L({});fields;model={};loadingScreen=p(!0);submitBtnLoading=p(!1);type="store";ngOnInit(){return this.#t.getListData("general-settings/index","POST",{}).pipe(y(i=>{i?.length&&(this.type="update"),i?.length&&(this.model=m(m({},this.model),i[0])),this.loadingScreen.set(!1),this.fields=this.configureFields()})).subscribe()}configureFields(){return[this.#e.fieldBuilder([{key:"price_shared",type:"floated-input-field",className:"col-12 md:col-3",props:{type:"number",label:"hour price shared",required:!0}},{key:"price_deskarea",type:"floated-input-field",className:"col-12 md:col-3",props:{type:"number",label:"hour price deskarea",required:!0}}])]}update(){this.generalSettingsForm.invalid||(this.submitBtnLoading.set(!0),this.#i.request("post",`general-settings/${this.type}`,this.model).pipe(b(()=>this.submitBtnLoading.set(!1)),P(this.#n)).subscribe())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-general-setting"]],standalone:!0,features:[G],decls:3,vars:1,consts:[["styleClass","border-bottom-3 border-primary"],[1,"font-semibold","capitalize","text-lg","line-height-2","my-3"],[1,"fas","fa-edit","text-base"],[3,"ngSubmit","formGroup"],[3,"model","fields","form"],[1,"pt-3","border-top-1","border-300","flex","justify-content-end"],["pButton","","pRipple","","type","submit",1,"capitalize","text-base","p-button-sm","p-button-success","w-13rem","bg-primary-color","border-none","shadow-none",3,"loading","label"]],template:function(e,g){e&1&&(o(0,"p-card",0),v(1,W,11,11)(2,X,1,0,"app-spinner"),l()),e&2&&(n(),_(g.loadingScreen()?2:1))},dependencies:[J,H,q,V,R,E,A,k,N,w,T,O,j,$,U],encapsulation:2,changeDetection:0})};export{c as default};
